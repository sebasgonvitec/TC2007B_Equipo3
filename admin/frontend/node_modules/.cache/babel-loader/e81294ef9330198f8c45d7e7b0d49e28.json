{"ast":null,"code":"import QuadRoot from './quad-root';\nimport QuadNode from './quad-node';\nimport { Rect } from '../geometry';\nimport { Class } from '../common';\nimport { append } from '../util';\nvar ROOT_SIZE = 3000;\nvar LEVEL_STEP = 10000;\nvar MAX_LEVEL = 75;\n\nvar ShapesQuadTree = function (Class) {\n  function ShapesQuadTree() {\n    Class.call(this);\n    this.initRoots();\n  }\n\n  if (Class) ShapesQuadTree.__proto__ = Class;\n  ShapesQuadTree.prototype = Object.create(Class && Class.prototype);\n  ShapesQuadTree.prototype.constructor = ShapesQuadTree;\n\n  ShapesQuadTree.prototype.initRoots = function initRoots() {\n    this.rootMap = {};\n    this.root = new QuadRoot();\n    this.rootElements = [];\n  };\n\n  ShapesQuadTree.prototype.clear = function clear() {\n    var this$1 = this;\n    var rootElements = this.rootElements;\n\n    for (var idx = 0; idx < rootElements.length; idx++) {\n      this$1.remove(rootElements[idx]);\n    }\n\n    this.initRoots();\n  };\n\n  ShapesQuadTree.prototype.pointShape = function pointShape(point) {\n    var sectorRoot = (this.rootMap[Math.floor(point.x / ROOT_SIZE)] || {})[Math.floor(point.y / ROOT_SIZE)];\n    var result = this.root.pointShapes(point);\n\n    if (sectorRoot) {\n      result = result.concat(sectorRoot.pointShapes(point));\n    }\n\n    this.assignZindex(result);\n    result.sort(zIndexComparer);\n\n    for (var idx = 0; idx < result.length; idx++) {\n      if (result[idx].containsPoint(point)) {\n        return result[idx];\n      }\n    }\n  };\n\n  ShapesQuadTree.prototype.assignZindex = function assignZindex(elements) {\n    var this$1 = this;\n\n    for (var idx = 0; idx < elements.length; idx++) {\n      var element = elements[idx];\n      var zIndex = 0;\n      var levelWeight = Math.pow(LEVEL_STEP, MAX_LEVEL);\n      var parents = [];\n\n      while (element) {\n        parents.push(element);\n        element = element.parent;\n      }\n\n      while (parents.length) {\n        element = parents.pop();\n        zIndex += ((element.parent ? element.parent.children : this$1.rootElements).indexOf(element) + 1) * levelWeight;\n        levelWeight /= LEVEL_STEP;\n      }\n\n      elements[idx]._zIndex = zIndex;\n    }\n  };\n\n  ShapesQuadTree.prototype.optionsChange = function optionsChange(e) {\n    if (e.field === \"transform\" || e.field === \"stroke.width\") {\n      this.bboxChange(e.element);\n    }\n  };\n\n  ShapesQuadTree.prototype.geometryChange = function geometryChange(e) {\n    this.bboxChange(e.element);\n  };\n\n  ShapesQuadTree.prototype.bboxChange = function bboxChange(element) {\n    var this$1 = this;\n\n    if (element.nodeType === \"Group\") {\n      for (var idx = 0; idx < element.children.length; idx++) {\n        this$1.bboxChange(element.children[idx]);\n      }\n    } else {\n      if (element._quadNode) {\n        element._quadNode.remove(element);\n      }\n\n      this._insertShape(element);\n    }\n  };\n\n  ShapesQuadTree.prototype.add = function add(elements) {\n    var elementsArray = Array.isArray(elements) ? elements.slice(0) : [elements];\n    append(this.rootElements, elementsArray);\n\n    this._insert(elementsArray);\n  };\n\n  ShapesQuadTree.prototype.childrenChange = function childrenChange(e) {\n    var this$1 = this;\n\n    if (e.action === \"remove\") {\n      for (var idx = 0; idx < e.items.length; idx++) {\n        this$1.remove(e.items[idx]);\n      }\n    } else {\n      this._insert(Array.prototype.slice.call(e.items, 0));\n    }\n  };\n\n  ShapesQuadTree.prototype._insert = function _insert(elements) {\n    var this$1 = this;\n    var element;\n\n    while (elements.length > 0) {\n      element = elements.pop();\n      element.addObserver(this$1);\n\n      if (element.nodeType === \"Group\") {\n        append(elements, element.children);\n      } else {\n        this$1._insertShape(element);\n      }\n    }\n  };\n\n  ShapesQuadTree.prototype._insertShape = function _insertShape(shape) {\n    var bbox = shape.bbox();\n\n    if (bbox) {\n      var sectors = this.getSectors(bbox);\n      var x = sectors[0][0];\n      var y = sectors[1][0];\n\n      if (this.inRoot(sectors)) {\n        this.root.insert(shape, bbox);\n      } else {\n        var rootMap = this.rootMap;\n\n        if (!rootMap[x]) {\n          rootMap[x] = {};\n        }\n\n        if (!rootMap[x][y]) {\n          rootMap[x][y] = new QuadNode(new Rect([x * ROOT_SIZE, y * ROOT_SIZE], [ROOT_SIZE, ROOT_SIZE]));\n        }\n\n        rootMap[x][y].insert(shape, bbox);\n      }\n    }\n  };\n\n  ShapesQuadTree.prototype.remove = function remove(element) {\n    var this$1 = this;\n    element.removeObserver(this);\n\n    if (element.nodeType === \"Group\") {\n      var children = element.children;\n\n      for (var idx = 0; idx < children.length; idx++) {\n        this$1.remove(children[idx]);\n      }\n    } else if (element._quadNode) {\n      element._quadNode.remove(element);\n\n      delete element._quadNode;\n    }\n  };\n\n  ShapesQuadTree.prototype.inRoot = function inRoot(sectors) {\n    return sectors[0].length > 1 || sectors[1].length > 1;\n  };\n\n  ShapesQuadTree.prototype.getSectors = function getSectors(rect) {\n    var bottomRight = rect.bottomRight();\n    var bottomX = Math.floor(bottomRight.x / ROOT_SIZE);\n    var bottomY = Math.floor(bottomRight.y / ROOT_SIZE);\n    var sectors = [[], []];\n\n    for (var x = Math.floor(rect.origin.x / ROOT_SIZE); x <= bottomX; x++) {\n      sectors[0].push(x);\n    }\n\n    for (var y = Math.floor(rect.origin.y / ROOT_SIZE); y <= bottomY; y++) {\n      sectors[1].push(y);\n    }\n\n    return sectors;\n  };\n\n  return ShapesQuadTree;\n}(Class);\n\nfunction zIndexComparer(x1, x2) {\n  if (x1._zIndex < x2._zIndex) {\n    return 1;\n  }\n\n  if (x1._zIndex > x2._zIndex) {\n    return -1;\n  }\n\n  return 0;\n}\n\nexport default ShapesQuadTree;","map":{"version":3,"names":["QuadRoot","QuadNode","Rect","Class","append","ROOT_SIZE","LEVEL_STEP","MAX_LEVEL","ShapesQuadTree","call","initRoots","__proto__","prototype","Object","create","constructor","rootMap","root","rootElements","clear","this$1","idx","length","remove","pointShape","point","sectorRoot","Math","floor","x","y","result","pointShapes","concat","assignZindex","sort","zIndexComparer","containsPoint","elements","element","zIndex","levelWeight","pow","parents","push","parent","pop","children","indexOf","_zIndex","optionsChange","e","field","bboxChange","geometryChange","nodeType","_quadNode","_insertShape","add","elementsArray","Array","isArray","slice","_insert","childrenChange","action","items","addObserver","shape","bbox","sectors","getSectors","inRoot","insert","removeObserver","rect","bottomRight","bottomX","bottomY","origin","x1","x2"],"sources":["C:/Users/asana/Documents/TEC/Semestre 5/Seguridad_Informatica/ModuloReact/Admin/frontend/node_modules/@progress/kendo-drawing/dist/es/search/shapes-quad-tree.js"],"sourcesContent":["import QuadRoot from './quad-root';\nimport QuadNode from './quad-node';\nimport { Rect } from '../geometry';\nimport { Class } from '../common';\nimport { append } from '../util';\n\nvar ROOT_SIZE = 3000;\nvar LEVEL_STEP = 10000;\nvar MAX_LEVEL = 75;\n\nvar ShapesQuadTree = (function (Class) {\n    function ShapesQuadTree() {\n        Class.call(this);\n\n        this.initRoots();\n    }\n\n    if ( Class ) ShapesQuadTree.__proto__ = Class;\n    ShapesQuadTree.prototype = Object.create( Class && Class.prototype );\n    ShapesQuadTree.prototype.constructor = ShapesQuadTree;\n\n    ShapesQuadTree.prototype.initRoots = function initRoots () {\n        this.rootMap = {};\n        this.root = new QuadRoot();\n        this.rootElements = [];\n    };\n\n    ShapesQuadTree.prototype.clear = function clear () {\n        var this$1 = this;\n\n        var rootElements = this.rootElements;\n        for (var idx = 0; idx < rootElements.length; idx++) {\n            this$1.remove(rootElements[idx]);\n        }\n        this.initRoots();\n    };\n\n    ShapesQuadTree.prototype.pointShape = function pointShape (point) {\n        var sectorRoot = ( this.rootMap[ Math.floor( point.x / ROOT_SIZE ) ] || {} )[ Math.floor( point.y / ROOT_SIZE ) ];\n        var result = this.root.pointShapes(point);\n\n        if (sectorRoot) {\n            result = result.concat(sectorRoot.pointShapes(point));\n        }\n\n        this.assignZindex(result);\n\n        result.sort(zIndexComparer);\n        for (var idx = 0; idx < result.length; idx++) {\n            if (result[idx].containsPoint(point)) {\n                return result[idx];\n            }\n        }\n    };\n\n    ShapesQuadTree.prototype.assignZindex = function assignZindex (elements) {\n        var this$1 = this;\n\n        for (var idx = 0; idx < elements.length; idx++) {\n            var element = elements[idx];\n            var zIndex = 0;\n            var levelWeight = Math.pow(LEVEL_STEP, MAX_LEVEL);\n            var parents = [];\n\n            while (element) {\n                parents.push(element);\n                element = element.parent;\n            }\n\n            while (parents.length) {\n                element = parents.pop();\n                zIndex += ((element.parent ? element.parent.children : this$1.rootElements).indexOf(element) + 1) * levelWeight;\n                levelWeight /= LEVEL_STEP;\n            }\n\n            elements[idx]._zIndex = zIndex;\n        }\n    };\n\n    ShapesQuadTree.prototype.optionsChange = function optionsChange (e) {\n        if (e.field === \"transform\" || e.field === \"stroke.width\") {\n            this.bboxChange(e.element);\n        }\n    };\n\n    ShapesQuadTree.prototype.geometryChange = function geometryChange (e) {\n        this.bboxChange(e.element);\n    };\n\n    ShapesQuadTree.prototype.bboxChange = function bboxChange (element) {\n        var this$1 = this;\n\n        if (element.nodeType === \"Group\") {\n            for (var idx = 0; idx < element.children.length; idx++) {\n                this$1.bboxChange(element.children[idx]);\n            }\n        } else {\n            if (element._quadNode) {\n                element._quadNode.remove(element);\n            }\n            this._insertShape(element);\n        }\n    };\n\n    ShapesQuadTree.prototype.add = function add (elements) {\n        var elementsArray = Array.isArray(elements) ? elements.slice(0) : [ elements ];\n\n        append(this.rootElements, elementsArray);\n        this._insert(elementsArray);\n    };\n\n    ShapesQuadTree.prototype.childrenChange = function childrenChange (e) {\n        var this$1 = this;\n\n        if (e.action === \"remove\") {\n            for (var idx = 0; idx < e.items.length; idx++) {\n                this$1.remove(e.items[idx]);\n            }\n        } else {\n            this._insert(Array.prototype.slice.call(e.items, 0));\n        }\n    };\n\n    ShapesQuadTree.prototype._insert = function _insert (elements) {\n        var this$1 = this;\n\n        var element;\n\n        while (elements.length > 0) {\n            element = elements.pop();\n            element.addObserver(this$1);\n            if (element.nodeType === \"Group\") {\n                append(elements, element.children);\n            } else {\n                this$1._insertShape(element);\n            }\n        }\n    };\n\n    ShapesQuadTree.prototype._insertShape = function _insertShape (shape) {\n        var bbox = shape.bbox();\n        if (bbox) {\n            var sectors = this.getSectors(bbox);\n            var x = sectors[0][0];\n            var y = sectors[1][0];\n\n            if (this.inRoot(sectors)) {\n                this.root.insert(shape, bbox);\n            } else {\n                var rootMap = this.rootMap;\n                if (!rootMap[x]) {\n                    rootMap[x] = {};\n                }\n\n                if (!rootMap[x][y]) {\n                    rootMap[x][y] = new QuadNode(\n                        new Rect([ x * ROOT_SIZE, y * ROOT_SIZE ], [ ROOT_SIZE, ROOT_SIZE ])\n                    );\n                }\n\n                rootMap[x][y].insert(shape, bbox);\n            }\n        }\n    };\n\n    ShapesQuadTree.prototype.remove = function remove (element) {\n        var this$1 = this;\n\n        element.removeObserver(this);\n\n        if (element.nodeType === \"Group\") {\n            var children = element.children;\n            for (var idx = 0; idx < children.length; idx++) {\n                this$1.remove(children[idx]);\n            }\n        } else if (element._quadNode) {\n            element._quadNode.remove(element);\n            delete element._quadNode;\n        }\n    };\n\n    ShapesQuadTree.prototype.inRoot = function inRoot (sectors) {\n        return sectors[0].length > 1 || sectors[1].length > 1;\n    };\n\n    ShapesQuadTree.prototype.getSectors = function getSectors (rect) {\n        var bottomRight = rect.bottomRight();\n        var bottomX = Math.floor(bottomRight.x / ROOT_SIZE);\n        var bottomY = Math.floor(bottomRight.y / ROOT_SIZE);\n        var sectors = [ [], [] ];\n        for (var x = Math.floor(rect.origin.x / ROOT_SIZE); x <= bottomX; x++) {\n            sectors[0].push(x);\n        }\n        for (var y = Math.floor(rect.origin.y / ROOT_SIZE); y <= bottomY; y++) {\n            sectors[1].push(y);\n        }\n        return sectors;\n    };\n\n    return ShapesQuadTree;\n}(Class));\n\nfunction zIndexComparer(x1, x2) {\n    if (x1._zIndex < x2._zIndex) {\n        return 1;\n    }\n    if (x1._zIndex > x2._zIndex) {\n        return -1;\n    }\n\n    return 0;\n}\n\nexport default ShapesQuadTree;"],"mappings":"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"},"metadata":{},"sourceType":"module"}