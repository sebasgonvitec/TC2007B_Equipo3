{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { dispatchEvent, classNames, getter, guid, setScrollbarWidth, canUseDOM } from '@progress/kendo-react-common';\nimport { tableColumnsVirtualization, Pager, mapColumns, isRtl, tableKeyboardNavigation, TableKeyboardNavigationContext, tableKeyboardNavigationScopeAttributes, tableKeyboardNavigationTools as navigationTools, tableKeyboardNavigationBodyAttributes, getSelectionOptions, TableSelection, DropClue, DragClue } from '@progress/kendo-react-data-tools';\nimport { GridSelectionCell } from './cells/GridSelectionCell';\nimport { GridHierarchyCell } from './cells/GridHierarchyCell';\nimport { GridEditCell } from './cells/GridEditCell';\nimport { Header } from './header/Header';\nimport { HeaderRow } from './header/HeaderRow';\nimport { FilterRow } from './header/FilterRow';\nimport { GroupPanel } from './header/GroupPanel';\nimport { Footer } from './footer/Footer';\nimport { VirtualScroll } from './VirtualScroll';\nimport { ColumnResize } from './drag/ColumnResize';\nimport { CommonDragLogic } from './drag/CommonDragLogic';\nimport { getNestedValue, flatData, readColumns, autoGenerateColumns, sanitizeColumns } from './utils/index';\nimport { GridCell } from './cells/GridCell';\nimport { GridGroupCell } from './cells/GridGroupCell';\nimport { GridRow } from './rows/GridRow';\nimport { GridHeaderSelectionCell } from './header/GridHeaderSelectionCell';\nimport { GridNoRecords } from './GridNoRecords';\nimport { operators } from './filterCommon';\nimport { FooterRow } from './footer/FooterRow';\nimport { normalize } from './paging/GridPagerSettings';\nimport { pagerMessagesMap } from './messages';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nimport { GridDetailCell } from './cells/GridDetailCell';\nimport { GridDetailHierarchyCell } from './cells/GridDetailHierarchyCell';\n/**\n * Represents the [KendoReact Grid component]({% slug overview_grid %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    constructor(props) {\n *        super(props);\n *        this.state = {\n *            data: [\n *                { 'foo': 'A1', 'bar': 'B1' },\n *                { 'foo': 'A2', 'bar': 'B2' },\n *                { 'foo': 'A3', 'bar': 'B2' }\n *            ]\n *        };\n *    }\n *    render() {\n *        return (\n *            <Grid\n *                data={this.state.data}\n *                reorderable={true}\n *            >\n *                <GridColumn field=\"foo\" />\n *                <GridColumn field=\"bar\" />\n *            </Grid>\n *        );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nvar Grid =\n/** @class */\nfunction (_super) {\n  __extends(Grid, _super);\n\n  function Grid(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._columns = [];\n    _this._columnsMap = [[]];\n    _this.contextStateRef = {\n      current: undefined\n    };\n    _this.navigationStateRef = {\n      current: undefined\n    };\n    _this._data = [];\n    _this.wrapperScrollTop = 0;\n    _this.headerRef = React.createRef();\n    _this.headerElementRef = React.createRef();\n    _this._element = null;\n    _this.tableElement = null;\n    _this._footer = null;\n    _this.forceUpdateTimeout = undefined;\n    _this.isRtl = false;\n    _this._gridId = guid();\n    /**\n     * Method to allow the scroll to be set to a specific row index.\n     *\n     * @param options - Object, containing the rowIndex to which is going to be scrolled.\n     */\n\n    _this.scrollIntoView = function (options) {\n      if (!_this.vs.container || _this.props.scrollable === 'none') {\n        return;\n      }\n\n      var rowIndex = options.rowIndex;\n\n      if (_this.props.scrollable === 'virtual') {\n        _this.vs.askedSkip = rowIndex;\n\n        _this.vs.container.scroll(0, Math.round(_this.vs.askedSkip / _this.vs.total * _this.vs.container.scrollHeight));\n      } else if (_this.element) {\n        var selectedRow = rowIndex < 1 ? _this.element.querySelector(\"tbody > tr:nth-child(\".concat(1, \")\")) : _this.element.querySelector(\"tbody > tr:nth-child(\".concat(rowIndex, \")\"));\n\n        if (selectedRow) {\n          selectedRow.scrollIntoView(true);\n        }\n      }\n    };\n    /**\n     * Method to fit columns according to their content.\n     *\n     * @param columnIds - Array of column ids to be fitted.\n     */\n\n\n    _this.fitColumns = function (columnIds) {\n      _this.columnResize.dblClickHandler(null, columnIds);\n    };\n\n    _this.scrollHandler = function (event) {\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n\n      clearTimeout(_this.forceUpdateTimeout);\n      var scrollLeft = event.currentTarget.scrollLeft;\n      var scrollTop = event.currentTarget.scrollTop;\n\n      if (_this.props.columnVirtualization && (!_this.vs.scrollableVirtual || scrollTop === _this.wrapperScrollTop)) {\n        _this.forceUpdateTimeout = window.setTimeout(function () {\n          _this.forceUpdate();\n        }, 0);\n      }\n\n      if (_this._header) {\n        _this._header.setScrollLeft(scrollLeft);\n      }\n\n      if (_this._footer) {\n        _this._footer.setScrollLeft(scrollLeft);\n      }\n\n      if (_this.vs) {\n        _this.vs.scrollHandler(event);\n      }\n\n      dispatchEvent(_this.props.onScroll, event, _this, undefined);\n      _this.wrapperScrollTop = scrollTop;\n    };\n\n    _this.onKeyDown = function (event) {\n      tableKeyboardNavigation.onKeyDown(event, {\n        contextStateRef: _this.contextStateRef,\n        navigationStateRef: _this.navigationStateRef,\n        onNavigationAction: _this.onNavigationAction\n      });\n\n      if (_this.props.onKeyDown) {\n        var _a = getSelectionOptions(_this.props.selectable),\n            mode = _a.mode,\n            cell = _a.cell;\n\n        var ev = __assign({\n          dataItems: _this.getLeafDataItems(),\n          mode: mode,\n          cell: cell,\n          componentId: _this._gridId,\n          selectedField: _this.props.selectedField\n        }, _this.getArguments(event));\n\n        _this.props.onKeyDown.call(undefined, ev);\n      }\n    };\n\n    _this.onFocus = function (event) {\n      tableKeyboardNavigation.onFocus(event, {\n        contextStateRef: _this.contextStateRef\n      });\n    };\n\n    _this.onNavigationAction = function (options) {\n      if (_this.props.onNavigationAction) {\n        var ev = __assign({\n          focusElement: options.focusElement\n        }, _this.getArguments(options.event));\n\n        _this.props.onNavigationAction.call(undefined, ev);\n      }\n    };\n\n    _this.rowClick = function (e, item) {\n      if (_this.props.onRowClick && e.target.nodeName === 'TD') {\n        _this.props.onRowClick.call(undefined, __assign({\n          dataItem: item.dataItem\n        }, _this.getArguments(e)));\n      }\n    };\n\n    _this.rowDblClick = function (e, item) {\n      if (_this.props.onRowDoubleClick && e.target.nodeName === 'TD') {\n        _this.props.onRowDoubleClick.call(undefined, __assign({\n          dataItem: item.dataItem\n        }, _this.getArguments(e)));\n      }\n    };\n\n    _this.itemChange = function (event) {\n      var itemChange = _this.props.onItemChange;\n\n      if (event.field === _this.props.expandField || _this.props.group && event.field === undefined) {\n        var expandChange = _this.props.onExpandChange;\n\n        if (expandChange) {\n          expandChange.call(undefined, __assign(__assign({}, _this.getArguments(event.syntheticEvent)), {\n            dataItem: event.dataItem,\n            dataIndex: event.dataIndex,\n            value: event.value\n          }));\n        }\n\n        return;\n      }\n\n      if (itemChange) {\n        itemChange.call(undefined, __assign(__assign({}, _this.getArguments(event.syntheticEvent)), {\n          dataItem: event.dataItem,\n          field: event.field,\n          value: event.value\n        }));\n      }\n    };\n\n    _this.onHeaderSelectionChange = function (event) {\n      if (_this.props.onHeaderSelectionChange) {\n        _this.props.onHeaderSelectionChange.call(undefined, {\n          field: event.field,\n          nativeEvent: event.syntheticEvent && event.syntheticEvent.nativeEvent,\n          syntheticEvent: event.syntheticEvent,\n          target: _this,\n          dataItems: _this.getLeafDataItems(),\n          selectedField: _this.props.selectedField\n        });\n      }\n    };\n\n    _this.selectionRelease = function (event) {\n      if (_this.props.onSelectionChange) {\n        var selectionEvent = __assign({\n          syntheticEvent: undefined,\n          target: _this,\n          selectedField: _this.props.selectedField || '',\n          componentId: _this._gridId,\n          dataItems: _this.getLeafDataItems(),\n          dataItem: null\n        }, event);\n\n        _this.props.onSelectionChange.call(undefined, selectionEvent);\n      }\n    };\n\n    _this.pageChange = function (page, syntheticEvent) {\n      _this.raiseDataEvent(_this.props.onPageChange, {\n        page: page\n      }, {\n        skip: page.skip,\n        take: page.take\n      }, syntheticEvent);\n    };\n\n    _this.pagerPageChange = function (event) {\n      _this.pageChange({\n        skip: event.skip,\n        take: event.take\n      }, event.syntheticEvent);\n    };\n\n    _this.sortChange = function (sort, syntheticEvent) {\n      _this.raiseDataEvent(_this.props.onSortChange, {\n        sort: sort\n      }, {\n        sort: sort\n      }, syntheticEvent);\n    };\n\n    _this.filterChange = function (filter, syntheticEvent) {\n      _this.raiseDataEvent(_this.props.onFilterChange, {\n        filter: filter\n      }, {\n        filter: filter || undefined,\n        skip: 0\n      }, syntheticEvent);\n    };\n\n    _this.groupChange = function (groups, event) {\n      var syntheticEvent = event.nativeEvent ? event : {\n        nativeEvent: event.nativeEvent || event.originalEvent\n      };\n\n      _this.raiseDataEvent(_this.props.onGroupChange, {\n        group: groups\n      }, {\n        group: groups,\n        skip: 0\n      }, syntheticEvent);\n    };\n\n    _this.onResize = function (index, newWidth, oldWidth, nativeEvent, end, targetId) {\n      _this.resetTableWidth();\n\n      if (_this.props.onColumnResize) {\n        _this.props.onColumnResize.call(undefined, {\n          columns: _this.columns,\n          nativeEvent: nativeEvent,\n          targetColumnId: targetId,\n          index: index,\n          newWidth: newWidth,\n          oldWidth: oldWidth,\n          end: end,\n          target: _this\n        });\n      }\n    };\n\n    _this.resolveTitle = function (field) {\n      var column = _this._columns.find(function (c) {\n        return c.field === field;\n      });\n\n      var title = column && (column.title || column.field);\n      return title === undefined ? field : title;\n    };\n\n    _this.getLeafDataItems = function () {\n      return _this._data.filter(function (item) {\n        return item.rowType === 'data';\n      }).map(function (item) {\n        return item.dataItem;\n      });\n    };\n\n    validatePackage(packageMetadata);\n    var groupable = _this.props.groupable === true || typeof _this.props.groupable === 'object' && _this.props.groupable.enabled !== false;\n    _this.vs = new VirtualScroll(groupable || props.rowHeight === undefined || props.rowHeight === 0);\n    _this.dragLogic = new CommonDragLogic(_this.columnReorder.bind(_this), _this.groupReorder.bind(_this), _this.columnToGroup.bind(_this));\n    _this.columnResize = new ColumnResize(_this.onResize);\n    tableKeyboardNavigation.onConstructor({\n      navigatable: Boolean(props.navigatable),\n      contextStateRef: _this.contextStateRef,\n      navigationStateRef: _this.navigationStateRef,\n      idPrefix: _this._gridId\n    });\n    return _this;\n  }\n\n  Object.defineProperty(Grid.prototype, \"columns\", {\n    /* eslint-disable max-len */\n\n    /**\n     * A getter of the current columns. Gets the current column width or current columns, or any other [`GridColumnProps`]({% slug api_grid_gridcolumnprops %}) for each defined column. Can be used on each Grid instance. To obtain the instance of the rendered Grid, use the `ref` callback. The following example demonstrates how to reorder the columns by dragging their handlers and check the properties afterwards. You can check the result in the browser console.\n     *\n     * @example\n     * ```jsx\n     * class App extends React.Component {\n     *     constructor(props) {\n     *         super(props);\n     *         this.state = {\n     *             data: [\n     *                 { 'foo': 'A1', 'bar': 'B1' },\n     *                 { 'foo': 'A2', 'bar': 'B2' },\n     *                 { 'foo': 'A3', 'bar': 'B2' }\n     *             ]\n     *         };\n     *         this.grid = null;\n     *     }\n     *     render() {\n     *         return (\n     *             <div>\n     *                 <Grid\n     *                     data={this.state.data}\n     *                     reorderable={true}\n     *                     ref={(g) => { this.grid = g; }}\n     *                 >\n     *                     <GridColumn field=\"foo\" />\n     *                     <GridColumn field=\"bar\" />\n     *                 </Grid>\n     *                 <button onClick={() => console.log(JSON.stringify(this.grid.columns))}>\n     *                     log current properties into browser console.\n     *                 </button>\n     *             </div>\n     *         );\n     *     }\n     * }\n     * ReactDOM.render(<App />, document.querySelector('my-app'));\n     * ```\n     */\n    // tslint:enable:max-line-length\n    get: function () {\n      var shuffledColumns = this._columns.filter(function (q) {\n        return q.declarationIndex >= 0 && q.parentIndex === -1;\n      });\n\n      return sanitizeColumns(shuffledColumns);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Grid.prototype, \"element\", {\n    /**\n     * Returns the HTML element of the Grid component.\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Grid.prototype, \"document\", {\n    get: function () {\n      if (!canUseDOM) {\n        return;\n      } // useful only for user actions\n\n\n      return this.element && this.element.ownerDocument || document;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Grid.prototype, \"_header\", {\n    get: function () {\n      return this.headerRef.current;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  Grid.prototype.componentDidMount = function () {\n    setScrollbarWidth();\n    var rtl = isRtl(this.element);\n    this.isRtl = rtl;\n    tableKeyboardNavigation.onComponentDidMount({\n      scope: this.element || undefined,\n      contextStateRef: this.contextStateRef,\n      navigationStateRef: this.navigationStateRef\n    });\n\n    if (this.isRtl) {\n      this.forceUpdate();\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  Grid.prototype.getSnapshotBeforeUpdate = function () {\n    tableKeyboardNavigation.onGetSnapshotBeforeUpdate({\n      document: this.document,\n      contextStateRef: this.contextStateRef,\n      navigationStateRef: this.navigationStateRef\n    });\n    return null;\n  };\n  /**\n   * @hidden\n   */\n\n\n  Grid.prototype.componentDidUpdate = function () {\n    setScrollbarWidth();\n    tableKeyboardNavigation.onComponentDidUpdate({\n      scope: this.element || undefined,\n      contextStateRef: this.contextStateRef,\n      navigationStateRef: this.navigationStateRef\n    });\n  };\n  /**\n   * @hidden\n   */\n\n\n  Grid.prototype.componentWillUnmount = function () {\n    clearTimeout(this.forceUpdateTimeout);\n    this.columnResize.columns = [];\n    this.dragLogic.columns = [];\n    this._columns = [];\n  };\n  /**\n   * @hidden\n   */\n\n\n  Grid.prototype.render = function () {\n    var _this = this;\n\n    var total = this.props.total || 0;\n    var idPrefix = navigationTools.getIdPrefix(this.navigationStateRef);\n    var propsData = [];\n\n    if (Array.isArray(this.props.data)) {\n      propsData = this.props.data;\n      total = total || this.props.data.length;\n    } else if (this.props.data) {\n      propsData = this.props.data.data;\n      total = total || this.props.data.total;\n    }\n\n    var groupable = this.props.groupable === true || typeof this.props.groupable === 'object' && this.props.groupable.enabled !== false;\n    this.columnResize.resizable = this.props.resizable || false;\n    this.dragLogic.reorderable = this.props.reorderable || false;\n    this.dragLogic.groupable = groupable;\n    var tableUserSelect = this.props.selectable && this.props.selectable.drag ? 'none' : undefined;\n\n    if (total !== this.vs.total) {\n      this.vs.reset();\n      this.vs = new VirtualScroll(groupable || this.props.rowHeight === undefined || this.props.rowHeight === 0);\n      this.vs.table = this.tableElement;\n    }\n\n    this.vs.fixedScroll = this.props.fixedScroll || false;\n    this.vs.PageChange = this.pageChange;\n    this.vs.realSkip = this.props.skip || 0;\n    this.vs.pageSize = (this.props.take !== undefined ? this.props.take : this.props.pageSize) || 0;\n    this.vs.scrollableVirtual = this.props.scrollable === 'virtual';\n    this.vs.total = total;\n    this.vs.propsSkip = (this.props.skip || 0) + (this.props.scrollable === 'virtual' ? this.vs.topCacheCount + (this.vs.attendedSkip - (this.props.skip || 0)) : 0);\n\n    if (this.props.rowHeight !== undefined && this.props.rowHeight > 0 && !groupable) {\n      this.vs.containerHeight = Math.min(1533915, this.props.rowHeight * (total || 0));\n    } else {\n      this.vs.containerHeight = 1533915;\n    }\n\n    var groupingFooter = typeof this.props.groupable === 'object' && this.props.groupable.footer || 'none';\n    this._data = [];\n    var resolvedGroupsCount = flatData(this._data, propsData, groupingFooter, {\n      index: this.props.skip || 0\n    }, this.props.group !== undefined, this.props.expandField);\n    var children = React.Children.toArray(this.props.children);\n    this.initColumns(children.filter(function (child) {\n      return child && child.type && child.type.displayName === 'KendoReactGridColumn';\n    }), resolvedGroupsCount);\n    var toolbar = children.filter(function (child) {\n      return child && child.type && child.type.displayName === 'KendoReactGridToolbar';\n    });\n    var noRecords = children.filter(function (child) {\n      return child && child.type && child.type.displayName === 'KendoReactGridNoRecords';\n    });\n\n    var leafColumns = this._columns.filter(function (c) {\n      return c.children.length === 0;\n    });\n\n    var groupingPanel = groupable && React.createElement(GroupPanel, {\n      group: this.props.group || [],\n      groupChange: this.groupChange,\n      pressHandler: this.dragLogic.pressHandler,\n      dragHandler: this.dragLogic.dragHandler,\n      releaseHandler: this.dragLogic.releaseHandler,\n      refCallback: this.dragLogic.refGroupPanelDiv,\n      resolveTitle: this.resolveTitle\n    });\n    var header = React.createElement(Header, {\n      columnResize: this.columnResize,\n      staticHeaders: this.props.scrollable !== 'none',\n      scrollableDataElement: function () {\n        return _this.vs.container;\n      },\n      draggable: this.props.reorderable || groupable,\n      ref: this.headerRef,\n      elemRef: this.headerElementRef,\n      headerRow: React.createElement(HeaderRow, {\n        sort: this.props.sort,\n        sortable: this.props.sortable,\n        sortChange: this.sortChange,\n        group: this.props.group || [],\n        groupable: groupable,\n        groupChange: this.groupChange,\n        filter: this.props.filter,\n        filterable: this.props.filterable,\n        filterOperators: this.props.filterOperators || operators,\n        filterChange: this.filterChange,\n        columnMenu: this.props.columnMenu,\n        selectionChange: this.onHeaderSelectionChange,\n        columns: this._columns,\n        columnResize: this.columnResize,\n        pressHandler: this.dragLogic.pressHandler,\n        dragHandler: this.dragLogic.dragHandler,\n        releaseHandler: this.dragLogic.releaseHandler,\n        columnsMap: this._columnsMap,\n        cellRender: this.props.headerCellRender,\n        isRtl: this.isRtl,\n        dragClue: this.dragLogic.dragClueRef,\n        headerRef: this.headerElementRef,\n        containerRef: this.vs.containerRef\n      }),\n      filterRow: this.props.filterable && React.createElement(FilterRow, {\n        columns: this._columns,\n        filter: this.props.filter,\n        filterOperators: this.props.filterOperators || operators,\n        filterChange: this.filterChange,\n        sort: this.props.sort,\n        cellRender: this.props.filterCellRender,\n        isRtl: this.isRtl,\n        ariaRowIndex: this._columnsMap.length + 1\n      }) || undefined,\n      cols: leafColumns.map(function (column, index) {\n        return React.createElement(\"col\", {\n          key: index.toString(),\n          width: column.width !== undefined ? Math.floor(parseFloat(column.width.toString())) + 'px' : undefined\n        });\n      })\n    });\n    var scrollLeft = this.vs && this.vs.container && this.vs.container.scrollLeft || 0;\n    var tableWidth = parseFloat(((this.props.style || {}).width || '').toString());\n\n    var _a = tableColumnsVirtualization({\n      enabled: this.props.columnVirtualization,\n      columns: leafColumns,\n      tableViewPortWidth: tableWidth,\n      scrollLeft: scrollLeft\n    }),\n        colSpans = _a.colSpans,\n        isColHidden = _a.hiddenColumns;\n\n    var dataRow = function (item, rowId, rowDataIndex) {\n      var isInEdit = false;\n      var selectedValue = _this.props.selectedField ? getNestedValue(_this.props.selectedField, item.dataItem) : undefined;\n      return {\n        row: leafColumns.map(function (column, columnIndex) {\n          if (isColHidden[columnIndex]) {\n            return null;\n          }\n\n          var columnKey = column.id ? column.id : columnIndex;\n          var className = \"\".concat(column.className ? column.className + ' ' : '') + \"\".concat(column.locked ? 'k-grid-content-sticky' : '');\n          var style = column.left !== undefined ? !_this.isRtl ? {\n            left: column.left,\n            right: column.right\n          } : {\n            left: column.right,\n            right: column.left\n          } : {};\n          var cellProps = {\n            id: navigationTools.generateNavigatableId(\"\".concat(rowId, \"-\").concat(String(columnIndex)), idPrefix),\n            colSpan: colSpans[columnIndex],\n            dataItem: item.dataItem,\n            field: column.field,\n            editor: column.editor,\n            format: column.format,\n            className: className,\n            render: _this.props.cellRender,\n            onChange: _this.itemChange,\n            selectionChange: _this.props.onSelectionChange ? function (e) {\n              _this.selectionChange({\n                event: e,\n                dataItem: item.dataItem,\n                dataIndex: rowDataIndex,\n                columnIndex: columnIndex\n              });\n            } : undefined,\n            columnIndex: columnIndex,\n            columnsCount: leafColumns.length,\n            rowType: item.rowType,\n            level: item.level,\n            expanded: item.expanded,\n            dataIndex: item.dataIndex,\n            style: style,\n            ariaColumnIndex: column.ariaColumnIndex,\n            isSelected: Array.isArray(selectedValue) && selectedValue.indexOf(columnIndex) > -1\n          };\n          var currentColumnIsInEdit = false;\n\n          if (column.editable && _this.props.editField) {\n            var inEdit = getNestedValue(_this.props.editField, item.dataItem);\n\n            if (inEdit === true || inEdit === column.field) {\n              isInEdit = true;\n              currentColumnIsInEdit = true;\n            }\n          }\n\n          if (column.cell) {\n            return React.createElement(column.cell, __assign({\n              key: columnKey\n            }, cellProps));\n          }\n\n          return currentColumnIsInEdit ? React.createElement(GridEditCell, __assign({\n            key: columnKey\n          }, cellProps)) : React.createElement(GridCell, __assign({\n            key: columnKey\n          }, cellProps));\n        }),\n        isInEdit: isInEdit,\n        isSelected: typeof selectedValue === 'boolean' && selectedValue\n      };\n    };\n\n    var hiddenRows = 0;\n\n    if (this.props.scrollable === 'virtual') {\n      for (var i = 0; i < this.vs.topCacheCount + this.vs.attendedSkip - (this.props.skip || 0); i++) {\n        var item = this._data.shift();\n\n        if (item) {\n          this._data.push(item);\n\n          hiddenRows++;\n\n          if (item.rowType === 'groupHeader') {\n            i--;\n          }\n        } else {\n          break;\n        }\n      }\n    }\n\n    var hidden = function (index) {\n      return index >= _this._data.length - hiddenRows;\n    };\n\n    var absoluteDataIndex = this.vs.propsSkip || 0;\n    var body = [];\n    var rowIndexStart = this._columnsMap.length + (this.props.filterable ? 1 : 0) + 1;\n    var currentAriaRowIndex = 0;\n\n    if (this._data.length) {\n      var dataIndex_1 = -1;\n      var detailRowCount_1 = 0;\n\n      this._data.forEach(function (item, rowIndex) {\n        if (item.rowType === 'data') {\n          absoluteDataIndex++;\n          dataIndex_1++;\n        }\n\n        var isAlt = absoluteDataIndex % 2 === 0;\n        var dataItemKey = _this.props.dataItemKey && getter(_this.props.dataItemKey)(item.dataItem);\n        var absoluteIndex = rowIndex + (_this.vs.propsSkip || 0);\n        var rowId = dataItemKey ? dataItemKey : 'ai' + absoluteIndex;\n        var detailRowId = rowId + '_1';\n        var gridRow = dataRow(item, rowId, dataIndex_1);\n        currentAriaRowIndex = absoluteIndex + rowIndexStart + detailRowCount_1;\n        body.push(React.createElement(GridRow, {\n          key: rowId,\n          dataItem: item.dataItem,\n          isAltRow: isAlt,\n          isInEdit: gridRow.isInEdit,\n          rowType: item.rowType,\n          isHidden: hidden(rowIndex),\n          onClick: function (e) {\n            return _this.rowClick(e, item);\n          },\n          onDoubleClick: function (e) {\n            return _this.rowDblClick(e, item);\n          },\n          selectedField: _this.props.selectedField,\n          rowHeight: _this.props.rowHeight,\n          render: _this.props.rowRender,\n          ariaRowIndex: currentAriaRowIndex,\n          dataIndex: dataIndex_1,\n          isSelected: gridRow.isSelected\n        }, gridRow.row));\n\n        if (_this.props.detail && item.rowType === 'data' && item.expanded) {\n          var detailColspan = leafColumns.length - (_this.props.expandField ? 1 : 0) - (_this.props.group ? _this.props.group.length : 0) || 1;\n          detailRowCount_1++;\n          currentAriaRowIndex = absoluteIndex + rowIndexStart + detailRowCount_1;\n          body.push(React.createElement(\"tr\", {\n            key: detailRowId,\n            className: isAlt ? 'k-detail-row k-alt' : 'k-detail-row',\n            style: {\n              visibility: hidden(rowIndex) ? 'hidden' : ''\n            },\n            role: \"row\",\n            \"aria-rowindex\": currentAriaRowIndex\n          }, _this.props.group && _this.props.group.map(function (group, idx) {\n            return React.createElement(GridGroupCell, {\n              id: '',\n              dataIndex: item.dataIndex,\n              field: group.field,\n              dataItem: item.dataItem,\n              key: idx,\n              style: {},\n              ariaColumnIndex: 1 + idx,\n              isSelected: false\n            });\n          }), _this.props.expandField && React.createElement(GridDetailHierarchyCell, {\n            id: navigationTools.generateNavigatableId(\"\".concat(detailRowId, \"-dhcell\"), idPrefix)\n          }), React.createElement(GridDetailCell, {\n            dataItem: item.dataItem,\n            dataIndex: item.dataIndex,\n            colSpan: detailColspan,\n            ariaColIndex: 2 + (_this.props.group ? _this.props.group.length : 0),\n            detail: _this.props.detail,\n            id: navigationTools.generateNavigatableId(\"\".concat(detailRowId, \"-dcell\"), idPrefix)\n          })));\n        }\n      });\n    } else {\n      body.push(React.createElement(\"tr\", {\n        key: \"no-records\",\n        className: \"k-grid-norecords\",\n        \"aria-rowindex\": rowIndexStart\n      }, React.createElement(\"td\", {\n        colSpan: leafColumns.length\n      }, noRecords.length ? noRecords : React.createElement(GridNoRecords, null))));\n    }\n\n    var pagerProps = __assign({\n      className: 'k-grid-pager',\n      onPageChange: this.pagerPageChange,\n      total: total,\n      skip: this.vs.propsSkip || 0,\n      take: (this.props.take !== undefined ? this.props.take : this.props.pageSize) || 10,\n      messagesMap: pagerMessagesMap\n    }, normalize(this.props.pageable || {}));\n\n    var pager = this.props.pager ? React.createElement(this.props.pager, __assign({}, pagerProps)) : React.createElement(Pager, __assign({}, pagerProps));\n\n    var sorted = function (field) {\n      return _this.props.sort && _this.props.sort.filter(function (descriptor) {\n        return descriptor.field === field;\n      }).length > 0;\n    };\n\n    var footer = this._columns.some(function (c) {\n      return Boolean(c.footerCell);\n    }) ? React.createElement(Footer, {\n      columnResize: this.columnResize,\n      staticHeaders: this.props.scrollable !== 'none',\n      ref: function (f) {\n        return _this._footer = f;\n      },\n      row: React.createElement(FooterRow, {\n        columns: this._columns,\n        isRtl: this.isRtl,\n        ariaRowIndex: currentAriaRowIndex + 1\n      }),\n      cols: leafColumns.map(function (column, index) {\n        return React.createElement(\"col\", {\n          key: index.toString(),\n          width: column.width !== undefined ? Math.floor(parseFloat(column.width.toString())) + 'px' : undefined\n        });\n      })\n    }) : null;\n    var colGroups = React.createElement(\"colgroup\", {\n      ref: function (c) {\n        _this.columnResize.colGroupMain = c;\n      }\n    }, leafColumns.map(function (column, index) {\n      return React.createElement(\"col\", {\n        key: index.toString(),\n        className: sorted(column.field) ? 'k-sorted' : undefined,\n        width: column.width !== undefined ? Math.floor(parseFloat(column.width.toString())) + 'px' : undefined\n      });\n    }));\n    var enableDragClues = this.dragLogic.reorderable || this.dragLogic.groupable;\n    var tableDisplay = this.props.columnVirtualization ? 'block' : 'table';\n\n    if (this.props.scrollable === 'none') {\n      return React.createElement(TableKeyboardNavigationContext.Provider, {\n        value: this.contextStateRef.current\n      }, React.createElement(\"div\", __assign({\n        id: this.props.id,\n        style: this.props.style,\n        className: classNames('k-widget k-grid', this.props.className),\n        ref: function (el) {\n          _this._element = el;\n        },\n        onKeyDown: this.onKeyDown,\n        onFocus: this.onFocus\n      }, tableKeyboardNavigationScopeAttributes), toolbar, groupingPanel, React.createElement(TableSelection, {\n        selectable: this.props.selectable,\n        onRelease: this.selectionRelease,\n        childRef: function (table) {\n          _this.vs.table = table;\n          _this.tableElement = table;\n\n          _this.resetTableWidth();\n        }\n      }, React.createElement(\"table\", {\n        style: {\n          userSelect: tableUserSelect,\n          display: tableDisplay\n        }\n      }, colGroups, header, React.createElement(\"tbody\", __assign({}, tableKeyboardNavigationBodyAttributes), body), footer)), this.props.pageable && pager, enableDragClues && React.createElement(React.Fragment, null, React.createElement(DropClue, {\n        ref: this.dragLogic.refDropElementClue\n      }), React.createElement(DragClue, {\n        ref: this.dragLogic.refDragElementClue\n      }))));\n    }\n\n    var wrapperStyle = this.props.style || {};\n\n    if (this.props.scrollable === 'virtual') {\n      // Set the default height for vs if not existing.\n      if (!wrapperStyle.height) {\n        wrapperStyle = Object.assign({}, wrapperStyle, {\n          height: '450px'\n        });\n      }\n    }\n\n    return React.createElement(TableKeyboardNavigationContext.Provider, {\n      value: this.contextStateRef.current\n    }, React.createElement(\"div\", __assign({\n      id: this.props.id,\n      style: wrapperStyle,\n      className: classNames('k-widget k-grid', {\n        'k-grid-virtual': this.props.scrollable === 'virtual'\n      }, this.props.className),\n      ref: function (el) {\n        _this._element = el;\n\n        _this.resetTableWidth();\n      },\n      role: \"grid\",\n      \"aria-colcount\": leafColumns.length,\n      \"aria-rowcount\": total,\n      onKeyDown: this.onKeyDown,\n      onFocus: this.onFocus\n    }, tableKeyboardNavigationScopeAttributes), toolbar, groupingPanel, header, React.createElement(\"div\", {\n      className: \"k-grid-container\",\n      role: \"presentation\"\n    }, React.createElement(\"div\", {\n      ref: this.vs.containerRef,\n      className: \"k-grid-content k-virtual-content\",\n      onScroll: this.scrollHandler,\n      role: \"presentation\"\n    }, React.createElement(\"div\", {\n      style: {\n        'position': 'relative'\n      },\n      role: \"presentation\"\n    }, React.createElement(TableSelection, {\n      selectable: this.props.selectable,\n      onRelease: this.selectionRelease,\n      childRef: function (table) {\n        _this.vs.table = table;\n        _this.tableElement = table;\n      }\n    }, React.createElement(\"table\", {\n      className: 'k-grid-table',\n      role: \"presentation\",\n      style: {\n        userSelect: tableUserSelect,\n        display: tableDisplay\n      }\n    }, colGroups, React.createElement(\"tbody\", __assign({\n      ref: function (tableBody) {\n        _this.vs.tableBody = tableBody;\n      },\n      role: \"presentation\"\n    }, tableKeyboardNavigationBodyAttributes), body)))), React.createElement(\"div\", {\n      className: \"k-height-container\",\n      role: \"presentation\"\n    }, React.createElement(\"div\", {\n      style: this.props.scrollable === 'virtual' ? {\n        'height': this.vs.containerHeight + 'px'\n      } : {}\n    })))), footer, this.props.pageable && pager, enableDragClues && React.createElement(React.Fragment, null, React.createElement(DropClue, {\n      ref: this.dragLogic.refDropElementClue\n    }), React.createElement(DragClue, {\n      ref: this.dragLogic.refDragElementClue\n    }))));\n  };\n\n  Grid.prototype.selectionChange = function (options) {\n    if (this.props.onSelectionChange) {\n      var event_1 = options.event,\n          dataItem = options.dataItem,\n          dataIndex = options.dataIndex,\n          columnIndex = options.columnIndex;\n\n      var _a = getSelectionOptions(this.props.selectable),\n          mode = _a.mode,\n          cell = _a.cell;\n\n      var selectionEvent = __assign(__assign({}, this.getArguments(event_1.syntheticEvent)), {\n        dataItem: dataItem,\n        startColIndex: columnIndex,\n        endColIndex: columnIndex,\n        startRowIndex: dataIndex,\n        endRowIndex: dataIndex,\n        dataItems: this.getLeafDataItems(),\n        altKey: false,\n        ctrlKey: false,\n        shiftKey: false,\n        metaKey: false,\n        mode: mode,\n        cell: cell,\n        isDrag: false,\n        componentId: this._gridId,\n        selectedField: this.props.selectedField || ''\n      });\n\n      this.props.onSelectionChange.call(undefined, selectionEvent);\n    }\n  };\n\n  Grid.prototype.raiseDataEvent = function (handler, data, moreData, syntheticEvent) {\n    var dataStateChange = this.props.onDataStateChange;\n\n    if (handler) {\n      var ev = __assign(__assign({}, this.getArguments(syntheticEvent)), data);\n\n      handler.call(undefined, ev);\n    } else if (dataStateChange) {\n      dataStateChange.call(undefined, __assign(__assign({}, this.getArguments(syntheticEvent)), {\n        dataState: __assign(__assign({}, this.getDataState()), moreData)\n      }));\n    }\n  };\n\n  Grid.prototype.columnReorder = function (prev, next, nativeEvent) {\n    var _a;\n\n    var _this = this;\n\n    var depth = this._columns[prev].depth;\n\n    var end = function (index) {\n      do {\n        index++;\n      } while (index < _this._columns.length && _this._columns[index].depth > depth);\n\n      return index;\n    };\n\n    var spliced = this._columns.splice(prev, end(prev) - prev);\n\n    (_a = this._columns).splice.apply(_a, __spreadArray([prev < next ? end(next - spliced.length) : next, 0], spliced, false));\n\n    this._columns.filter(function (q) {\n      return q.declarationIndex >= 0;\n    }).forEach(function (c, i) {\n      return c.orderIndex = i;\n    });\n\n    var eventColumnProps = this.columns;\n    this.forceUpdate();\n\n    if (this.props.onColumnReorder) {\n      this.props.onColumnReorder.call(undefined, {\n        target: this,\n        columns: eventColumnProps,\n        nativeEvent: nativeEvent\n      });\n    }\n  };\n\n  Grid.prototype.groupReorder = function (prevIndex, nextIndex, nativeEvent) {\n    if (this.props.group === undefined) {\n      return;\n    }\n\n    var group = this.props.group.slice();\n    group.splice.apply(group, __spreadArray([nextIndex, 0], group.splice(prevIndex, 1), false));\n    this.groupChange(group, nativeEvent);\n  };\n\n  Grid.prototype.columnToGroup = function (columnIndex, groupIndex, nativeEvent) {\n    var field = this._columns[columnIndex].field;\n\n    if (!field) {\n      return;\n    }\n\n    var group = (this.props.group || []).slice();\n    group.splice(groupIndex, 0, {\n      field: field\n    });\n    this.groupChange(group, nativeEvent);\n  };\n\n  Grid.prototype.resetTableWidth = function () {\n    var totalWidth = 0;\n\n    if (!this.columnResize.colGroupMain) {\n      return;\n    }\n\n    var colElements = this.columnResize.colGroupMain.children;\n\n    for (var i = 0; i < colElements.length; i++) {\n      var width = colElements[i].width;\n\n      if (!width) {\n        return;\n      }\n\n      totalWidth += parseFloat(width.toString());\n    }\n\n    totalWidth = Math.round(totalWidth);\n\n    if (this._header) {\n      this._header.setWidth(totalWidth);\n    }\n\n    if (this._footer) {\n      this._footer.setWidth(totalWidth);\n    }\n\n    if (this.vs.table) {\n      this.vs.table.style.width = totalWidth + 'px';\n    }\n  };\n\n  Grid.prototype.initColumns = function (columnElements, groupCount) {\n    var _this = this;\n\n    var idPrefix = navigationTools.getIdPrefix(this.navigationStateRef);\n    this._columns = readColumns(columnElements, this.columns, {\n      prevId: 0,\n      idPrefix: idPrefix\n    });\n\n    if (this._columns.length === 0) {\n      this._columns = autoGenerateColumns(this.props.data, this.props.group, this.props.expandField, {\n        prevId: 0,\n        idPrefix: idPrefix\n      });\n    }\n\n    if (this.props.selectedField) {\n      this._columns.filter(function (c) {\n        return c.field === _this.props.selectedField;\n      }).forEach(function (c) {\n        c.width = c.width || '50px';\n        c.cell = c.cell || GridSelectionCell;\n        c.headerCell = c.headerCell || GridHeaderSelectionCell;\n      });\n    }\n\n    var defaultServiceProps = {\n      id: '',\n      resizable: true,\n      width: '32px',\n      title: ' ',\n      declarationIndex: -1,\n      orderIndex: -1,\n      children: [],\n      parentIndex: -1,\n      depth: 0,\n      colSpan: 0,\n      rowSpan: 0,\n      left: 0,\n      right: 0,\n      index: 0,\n      rightBorder: false,\n      ariaColumnIndex: 0,\n      isAccessible: true\n    };\n    var columnIndexOffset = 0;\n\n    if (this.props.expandField && this.props.onExpandChange && this.props.detail) {\n      this._columns.unshift(__assign(__assign({}, defaultServiceProps), {\n        cell: GridHierarchyCell,\n        field: this.props.expandField,\n        headerClassName: 'k-hierarchy-cell k-header',\n        id: navigationTools.generateNavigatableId(\"\".concat(this._columns.length), idPrefix, 'column')\n      }));\n\n      columnIndexOffset++;\n    }\n\n    for (var i = 0; i < groupCount; i++) {\n      this._columns.unshift(__assign(__assign({}, defaultServiceProps), {\n        isAccessible: false,\n        cell: GridGroupCell,\n        field: 'value'\n      }));\n\n      columnIndexOffset++;\n    }\n\n    this._columns.slice(columnIndexOffset).forEach(function (c) {\n      return c.parentIndex >= 0 && (c.parentIndex += columnIndexOffset);\n    });\n\n    this._columnsMap = mapColumns(this._columns);\n    this.columnResize.columns = this._columns;\n    this.dragLogic.columns = this._columns;\n  };\n\n  Grid.prototype.getDataState = function () {\n    return {\n      filter: this.props.filter,\n      sort: this.props.sort,\n      skip: this.props.skip,\n      take: this.props.take !== undefined ? this.props.take : this.props.pageSize,\n      group: this.props.group\n    };\n  };\n\n  Grid.prototype.getArguments = function (syntheticEvent) {\n    return {\n      nativeEvent: syntheticEvent && syntheticEvent.nativeEvent,\n      syntheticEvent: syntheticEvent,\n      target: this\n    };\n  };\n  /**\n   * @hidden\n   */\n\n\n  Grid.displayName = 'KendoReactGrid';\n  /**\n   * @hidden\n   */\n\n  Grid.defaultProps = {// never use this\n  };\n  /**\n   * @hidden\n   */\n\n  Grid.propTypes = {\n    data: PropTypes.oneOfType([PropTypes.array, PropTypes.shape({\n      data: PropTypes.array,\n      total: PropTypes.number\n    })]),\n    sortable: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n      mode: PropTypes.oneOf(['single', 'multiple']),\n      allowUnsort: PropTypes.bool\n    })]),\n    onSortChange: PropTypes.func,\n    sort: PropTypes.array,\n    filterable: PropTypes.bool,\n    filter: PropTypes.any,\n    onFilterChange: PropTypes.func,\n    pageable: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n      buttonCount: PropTypes.number,\n      info: PropTypes.bool,\n      type: PropTypes.oneOf(['numeric', 'input']),\n      pageSizes: PropTypes.oneOfType([PropTypes.bool, PropTypes.arrayOf(PropTypes.number)]),\n      previousNext: PropTypes.bool\n    })]),\n    pageSize: PropTypes.number,\n    onPageChange: PropTypes.func,\n    total: PropTypes.number,\n    skip: PropTypes.number,\n    take: PropTypes.number,\n    fixedScroll: PropTypes.bool,\n    onExpandChange: PropTypes.func,\n    expandField: PropTypes.string,\n    selectedField: PropTypes.string,\n    onSelectionChange: PropTypes.func,\n    onHeaderSelectionChange: PropTypes.func,\n    resizable: PropTypes.bool,\n    reorderable: PropTypes.bool,\n    group: PropTypes.any,\n    groupable: PropTypes.oneOfType([PropTypes.bool, PropTypes.shape({\n      enabled: PropTypes.bool,\n      footer: PropTypes.oneOf(['always', 'visible', 'none'])\n    })]),\n    onGroupChange: PropTypes.func,\n    onRowClick: PropTypes.func,\n    onRowDoubleClick: PropTypes.func,\n    onItemChange: PropTypes.func,\n    editField: PropTypes.string,\n    scrollable: PropTypes.oneOf(['none', 'scrollable', 'virtual']),\n    rowHeight: PropTypes.number,\n    detail: PropTypes.any,\n    style: PropTypes.object,\n    onDataStateChange: PropTypes.func,\n    onColumnResize: PropTypes.func,\n    onColumnReorder: PropTypes.func,\n    dataItemKey: PropTypes.string,\n    navigatable: PropTypes.bool\n  };\n  /** @hidden */\n\n  Grid.contextType = TableKeyboardNavigationContext;\n  return Grid;\n}(React.Component);\n\nexport { Grid };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__spreadArray","to","from","pack","l","ar","slice","concat","React","PropTypes","dispatchEvent","classNames","getter","guid","setScrollbarWidth","canUseDOM","tableColumnsVirtualization","Pager","mapColumns","isRtl","tableKeyboardNavigation","TableKeyboardNavigationContext","tableKeyboardNavigationScopeAttributes","tableKeyboardNavigationTools","navigationTools","tableKeyboardNavigationBodyAttributes","getSelectionOptions","TableSelection","DropClue","DragClue","GridSelectionCell","GridHierarchyCell","GridEditCell","Header","HeaderRow","FilterRow","GroupPanel","Footer","VirtualScroll","ColumnResize","CommonDragLogic","getNestedValue","flatData","readColumns","autoGenerateColumns","sanitizeColumns","GridCell","GridGroupCell","GridRow","GridHeaderSelectionCell","GridNoRecords","operators","FooterRow","normalize","pagerMessagesMap","validatePackage","packageMetadata","GridDetailCell","GridDetailHierarchyCell","Grid","_super","props","_this","_columns","_columnsMap","contextStateRef","current","undefined","navigationStateRef","_data","wrapperScrollTop","headerRef","createRef","headerElementRef","_element","tableElement","_footer","forceUpdateTimeout","_gridId","scrollIntoView","options","vs","container","scrollable","rowIndex","askedSkip","scroll","Math","round","total","scrollHeight","element","selectedRow","querySelector","fitColumns","columnIds","columnResize","dblClickHandler","scrollHandler","event","target","currentTarget","clearTimeout","scrollLeft","scrollTop","columnVirtualization","scrollableVirtual","window","setTimeout","forceUpdate","_header","setScrollLeft","onScroll","onKeyDown","onNavigationAction","_a","selectable","mode","cell","ev","dataItems","getLeafDataItems","componentId","selectedField","getArguments","onFocus","focusElement","rowClick","e","item","onRowClick","nodeName","dataItem","rowDblClick","onRowDoubleClick","itemChange","onItemChange","field","expandField","group","expandChange","onExpandChange","syntheticEvent","dataIndex","value","onHeaderSelectionChange","nativeEvent","selectionRelease","onSelectionChange","selectionEvent","pageChange","page","raiseDataEvent","onPageChange","skip","take","pagerPageChange","sortChange","sort","onSortChange","filterChange","filter","onFilterChange","groupChange","groups","originalEvent","onGroupChange","onResize","index","newWidth","oldWidth","end","targetId","resetTableWidth","onColumnResize","columns","targetColumnId","resolveTitle","column","find","c","title","rowType","map","groupable","enabled","rowHeight","dragLogic","columnReorder","bind","groupReorder","columnToGroup","onConstructor","navigatable","Boolean","idPrefix","defineProperty","get","shuffledColumns","q","declarationIndex","parentIndex","enumerable","configurable","ownerDocument","document","componentDidMount","rtl","onComponentDidMount","scope","getSnapshotBeforeUpdate","onGetSnapshotBeforeUpdate","componentDidUpdate","onComponentDidUpdate","componentWillUnmount","render","getIdPrefix","propsData","isArray","data","resizable","reorderable","tableUserSelect","drag","reset","table","fixedScroll","PageChange","realSkip","pageSize","propsSkip","topCacheCount","attendedSkip","containerHeight","min","groupingFooter","footer","resolvedGroupsCount","children","Children","toArray","initColumns","child","type","displayName","toolbar","noRecords","leafColumns","groupingPanel","createElement","pressHandler","dragHandler","releaseHandler","refCallback","refGroupPanelDiv","header","staticHeaders","scrollableDataElement","draggable","ref","elemRef","headerRow","sortable","filterable","filterOperators","columnMenu","selectionChange","columnsMap","cellRender","headerCellRender","dragClue","dragClueRef","containerRef","filterRow","filterCellRender","ariaRowIndex","cols","key","toString","width","floor","parseFloat","tableWidth","style","tableViewPortWidth","colSpans","isColHidden","hiddenColumns","dataRow","rowId","rowDataIndex","isInEdit","selectedValue","row","columnIndex","columnKey","id","className","locked","left","right","cellProps","generateNavigatableId","colSpan","editor","format","onChange","columnsCount","level","expanded","ariaColumnIndex","isSelected","indexOf","currentColumnIsInEdit","editable","editField","inEdit","hiddenRows","shift","push","hidden","absoluteDataIndex","body","rowIndexStart","currentAriaRowIndex","dataIndex_1","detailRowCount_1","forEach","isAlt","dataItemKey","absoluteIndex","detailRowId","gridRow","isAltRow","isHidden","onClick","onDoubleClick","rowRender","detail","detailColspan","visibility","role","idx","ariaColIndex","pagerProps","messagesMap","pageable","pager","sorted","descriptor","some","footerCell","f","colGroups","colGroupMain","enableDragClues","tableDisplay","Provider","el","onRelease","childRef","userSelect","display","Fragment","refDropElementClue","refDragElementClue","wrapperStyle","height","tableBody","event_1","startColIndex","endColIndex","startRowIndex","endRowIndex","altKey","ctrlKey","shiftKey","metaKey","isDrag","handler","moreData","dataStateChange","onDataStateChange","dataState","getDataState","prev","next","depth","spliced","splice","orderIndex","eventColumnProps","onColumnReorder","prevIndex","nextIndex","groupIndex","totalWidth","colElements","setWidth","columnElements","groupCount","prevId","headerCell","defaultServiceProps","rowSpan","rightBorder","isAccessible","columnIndexOffset","unshift","headerClassName","defaultProps","propTypes","oneOfType","array","shape","number","bool","oneOf","allowUnsort","func","any","buttonCount","info","pageSizes","arrayOf","previousNext","string","object","contextType","Component"],"sources":["C:/Users/asana/Documents/TEC/Semestre 5/Seguridad_Informatica/ModuloReact/Admin/frontend/node_modules/@progress/kendo-react-grid/dist/es/Grid.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { dispatchEvent, classNames, getter, guid, setScrollbarWidth, canUseDOM } from '@progress/kendo-react-common';\nimport { tableColumnsVirtualization, Pager, mapColumns, isRtl, tableKeyboardNavigation, TableKeyboardNavigationContext, tableKeyboardNavigationScopeAttributes, tableKeyboardNavigationTools as navigationTools, tableKeyboardNavigationBodyAttributes, getSelectionOptions, TableSelection, DropClue, DragClue } from '@progress/kendo-react-data-tools';\nimport { GridSelectionCell } from './cells/GridSelectionCell';\nimport { GridHierarchyCell } from './cells/GridHierarchyCell';\nimport { GridEditCell } from './cells/GridEditCell';\nimport { Header } from './header/Header';\nimport { HeaderRow } from './header/HeaderRow';\nimport { FilterRow } from './header/FilterRow';\nimport { GroupPanel } from './header/GroupPanel';\nimport { Footer } from './footer/Footer';\nimport { VirtualScroll } from './VirtualScroll';\nimport { ColumnResize } from './drag/ColumnResize';\nimport { CommonDragLogic } from './drag/CommonDragLogic';\nimport { getNestedValue, flatData, readColumns, autoGenerateColumns, sanitizeColumns } from './utils/index';\nimport { GridCell } from './cells/GridCell';\nimport { GridGroupCell } from './cells/GridGroupCell';\nimport { GridRow } from './rows/GridRow';\nimport { GridHeaderSelectionCell } from './header/GridHeaderSelectionCell';\nimport { GridNoRecords } from './GridNoRecords';\nimport { operators } from './filterCommon';\nimport { FooterRow } from './footer/FooterRow';\nimport { normalize } from './paging/GridPagerSettings';\nimport { pagerMessagesMap } from './messages';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nimport { GridDetailCell } from './cells/GridDetailCell';\nimport { GridDetailHierarchyCell } from './cells/GridDetailHierarchyCell';\n/**\n * Represents the [KendoReact Grid component]({% slug overview_grid %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    constructor(props) {\n *        super(props);\n *        this.state = {\n *            data: [\n *                { 'foo': 'A1', 'bar': 'B1' },\n *                { 'foo': 'A2', 'bar': 'B2' },\n *                { 'foo': 'A3', 'bar': 'B2' }\n *            ]\n *        };\n *    }\n *    render() {\n *        return (\n *            <Grid\n *                data={this.state.data}\n *                reorderable={true}\n *            >\n *                <GridColumn field=\"foo\" />\n *                <GridColumn field=\"bar\" />\n *            </Grid>\n *        );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar Grid = /** @class */ (function (_super) {\n    __extends(Grid, _super);\n    function Grid(props) {\n        var _this = _super.call(this, props) || this;\n        _this._columns = [];\n        _this._columnsMap = [[]];\n        _this.contextStateRef = { current: undefined };\n        _this.navigationStateRef = { current: undefined };\n        _this._data = [];\n        _this.wrapperScrollTop = 0;\n        _this.headerRef = React.createRef();\n        _this.headerElementRef = React.createRef();\n        _this._element = null;\n        _this.tableElement = null;\n        _this._footer = null;\n        _this.forceUpdateTimeout = undefined;\n        _this.isRtl = false;\n        _this._gridId = guid();\n        /**\n         * Method to allow the scroll to be set to a specific row index.\n         *\n         * @param options - Object, containing the rowIndex to which is going to be scrolled.\n         */\n        _this.scrollIntoView = function (options) {\n            if (!_this.vs.container || _this.props.scrollable === 'none') {\n                return;\n            }\n            var rowIndex = options.rowIndex;\n            if (_this.props.scrollable === 'virtual') {\n                _this.vs.askedSkip = rowIndex;\n                _this.vs.container.scroll(0, Math.round(_this.vs.askedSkip / _this.vs.total * _this.vs.container.scrollHeight));\n            }\n            else if (_this.element) {\n                var selectedRow = rowIndex < 1\n                    ? _this.element.querySelector(\"tbody > tr:nth-child(\".concat(1, \")\"))\n                    : _this.element.querySelector(\"tbody > tr:nth-child(\".concat(rowIndex, \")\"));\n                if (selectedRow) {\n                    selectedRow.scrollIntoView(true);\n                }\n            }\n        };\n        /**\n         * Method to fit columns according to their content.\n         *\n         * @param columnIds - Array of column ids to be fitted.\n         */\n        _this.fitColumns = function (columnIds) {\n            _this.columnResize.dblClickHandler(null, columnIds);\n        };\n        _this.scrollHandler = function (event) {\n            if (event.target !== event.currentTarget) {\n                return;\n            }\n            clearTimeout(_this.forceUpdateTimeout);\n            var scrollLeft = event.currentTarget.scrollLeft;\n            var scrollTop = event.currentTarget.scrollTop;\n            if (_this.props.columnVirtualization && (!_this.vs.scrollableVirtual || scrollTop === _this.wrapperScrollTop)) {\n                _this.forceUpdateTimeout = window.setTimeout(function () { _this.forceUpdate(); }, 0);\n            }\n            if (_this._header) {\n                _this._header.setScrollLeft(scrollLeft);\n            }\n            if (_this._footer) {\n                _this._footer.setScrollLeft(scrollLeft);\n            }\n            if (_this.vs) {\n                _this.vs.scrollHandler(event);\n            }\n            dispatchEvent(_this.props.onScroll, event, _this, undefined);\n            _this.wrapperScrollTop = scrollTop;\n        };\n        _this.onKeyDown = function (event) {\n            tableKeyboardNavigation.onKeyDown(event, {\n                contextStateRef: _this.contextStateRef,\n                navigationStateRef: _this.navigationStateRef,\n                onNavigationAction: _this.onNavigationAction\n            });\n            if (_this.props.onKeyDown) {\n                var _a = getSelectionOptions(_this.props.selectable), mode = _a.mode, cell = _a.cell;\n                var ev = __assign({ dataItems: _this.getLeafDataItems(), mode: mode, cell: cell, componentId: _this._gridId, selectedField: _this.props.selectedField }, _this.getArguments(event));\n                _this.props.onKeyDown.call(undefined, ev);\n            }\n        };\n        _this.onFocus = function (event) {\n            tableKeyboardNavigation.onFocus(event, {\n                contextStateRef: _this.contextStateRef\n            });\n        };\n        _this.onNavigationAction = function (options) {\n            if (_this.props.onNavigationAction) {\n                var ev = __assign({ focusElement: options.focusElement }, _this.getArguments(options.event));\n                _this.props.onNavigationAction.call(undefined, ev);\n            }\n        };\n        _this.rowClick = function (e, item) {\n            if (_this.props.onRowClick && e.target.nodeName === 'TD') {\n                _this.props.onRowClick.call(undefined, __assign({ dataItem: item.dataItem }, _this.getArguments(e)));\n            }\n        };\n        _this.rowDblClick = function (e, item) {\n            if (_this.props.onRowDoubleClick && e.target.nodeName === 'TD') {\n                _this.props.onRowDoubleClick.call(undefined, __assign({ dataItem: item.dataItem }, _this.getArguments(e)));\n            }\n        };\n        _this.itemChange = function (event) {\n            var itemChange = _this.props.onItemChange;\n            if (event.field === _this.props.expandField || _this.props.group && event.field === undefined) {\n                var expandChange = _this.props.onExpandChange;\n                if (expandChange) {\n                    expandChange.call(undefined, __assign(__assign({}, _this.getArguments(event.syntheticEvent)), { dataItem: event.dataItem, dataIndex: event.dataIndex, value: event.value }));\n                }\n                return;\n            }\n            if (itemChange) {\n                itemChange.call(undefined, __assign(__assign({}, _this.getArguments(event.syntheticEvent)), { dataItem: event.dataItem, field: event.field, value: event.value }));\n            }\n        };\n        _this.onHeaderSelectionChange = function (event) {\n            if (_this.props.onHeaderSelectionChange) {\n                _this.props.onHeaderSelectionChange.call(undefined, {\n                    field: event.field,\n                    nativeEvent: event.syntheticEvent && event.syntheticEvent.nativeEvent,\n                    syntheticEvent: event.syntheticEvent,\n                    target: _this,\n                    dataItems: _this.getLeafDataItems(),\n                    selectedField: _this.props.selectedField\n                });\n            }\n        };\n        _this.selectionRelease = function (event) {\n            if (_this.props.onSelectionChange) {\n                var selectionEvent = __assign({ syntheticEvent: undefined, target: _this, selectedField: _this.props.selectedField || '', componentId: _this._gridId, dataItems: _this.getLeafDataItems(), dataItem: null }, event);\n                _this.props.onSelectionChange.call(undefined, selectionEvent);\n            }\n        };\n        _this.pageChange = function (page, syntheticEvent) {\n            _this.raiseDataEvent(_this.props.onPageChange, { page: page }, { skip: page.skip, take: page.take }, syntheticEvent);\n        };\n        _this.pagerPageChange = function (event) {\n            _this.pageChange({ skip: event.skip, take: event.take }, event.syntheticEvent);\n        };\n        _this.sortChange = function (sort, syntheticEvent) {\n            _this.raiseDataEvent(_this.props.onSortChange, { sort: sort }, { sort: sort }, syntheticEvent);\n        };\n        _this.filterChange = function (filter, syntheticEvent) {\n            _this.raiseDataEvent(_this.props.onFilterChange, { filter: filter }, { filter: filter || undefined, skip: 0 }, syntheticEvent);\n        };\n        _this.groupChange = function (groups, event) {\n            var syntheticEvent = event.nativeEvent ?\n                event : { nativeEvent: event.nativeEvent || event.originalEvent };\n            _this.raiseDataEvent(_this.props.onGroupChange, { group: groups }, { group: groups, skip: 0 }, syntheticEvent);\n        };\n        _this.onResize = function (index, newWidth, oldWidth, nativeEvent, end, targetId) {\n            _this.resetTableWidth();\n            if (_this.props.onColumnResize) {\n                _this.props.onColumnResize.call(undefined, {\n                    columns: _this.columns,\n                    nativeEvent: nativeEvent,\n                    targetColumnId: targetId,\n                    index: index,\n                    newWidth: newWidth,\n                    oldWidth: oldWidth,\n                    end: end,\n                    target: _this\n                });\n            }\n        };\n        _this.resolveTitle = function (field) {\n            var column = _this._columns.find(function (c) { return c.field === field; });\n            var title = column && (column.title || column.field);\n            return title === undefined ? field : title;\n        };\n        _this.getLeafDataItems = function () {\n            return _this._data.filter(function (item) { return item.rowType === 'data'; }).map(function (item) { return item.dataItem; });\n        };\n        validatePackage(packageMetadata);\n        var groupable = _this.props.groupable === true ||\n            (typeof _this.props.groupable === 'object') && _this.props.groupable.enabled !== false;\n        _this.vs = new VirtualScroll(groupable || props.rowHeight === undefined || props.rowHeight === 0);\n        _this.dragLogic = new CommonDragLogic(_this.columnReorder.bind(_this), _this.groupReorder.bind(_this), _this.columnToGroup.bind(_this));\n        _this.columnResize = new ColumnResize(_this.onResize);\n        tableKeyboardNavigation.onConstructor({\n            navigatable: Boolean(props.navigatable),\n            contextStateRef: _this.contextStateRef,\n            navigationStateRef: _this.navigationStateRef,\n            idPrefix: _this._gridId\n        });\n        return _this;\n    }\n    Object.defineProperty(Grid.prototype, \"columns\", {\n        /* eslint-disable max-len */\n        /**\n         * A getter of the current columns. Gets the current column width or current columns, or any other [`GridColumnProps`]({% slug api_grid_gridcolumnprops %}) for each defined column. Can be used on each Grid instance. To obtain the instance of the rendered Grid, use the `ref` callback. The following example demonstrates how to reorder the columns by dragging their handlers and check the properties afterwards. You can check the result in the browser console.\n         *\n         * @example\n         * ```jsx\n         * class App extends React.Component {\n         *     constructor(props) {\n         *         super(props);\n         *         this.state = {\n         *             data: [\n         *                 { 'foo': 'A1', 'bar': 'B1' },\n         *                 { 'foo': 'A2', 'bar': 'B2' },\n         *                 { 'foo': 'A3', 'bar': 'B2' }\n         *             ]\n         *         };\n         *         this.grid = null;\n         *     }\n         *     render() {\n         *         return (\n         *             <div>\n         *                 <Grid\n         *                     data={this.state.data}\n         *                     reorderable={true}\n         *                     ref={(g) => { this.grid = g; }}\n         *                 >\n         *                     <GridColumn field=\"foo\" />\n         *                     <GridColumn field=\"bar\" />\n         *                 </Grid>\n         *                 <button onClick={() => console.log(JSON.stringify(this.grid.columns))}>\n         *                     log current properties into browser console.\n         *                 </button>\n         *             </div>\n         *         );\n         *     }\n         * }\n         * ReactDOM.render(<App />, document.querySelector('my-app'));\n         * ```\n         */\n        // tslint:enable:max-line-length\n        get: function () {\n            var shuffledColumns = this._columns.filter(function (q) { return q.declarationIndex >= 0 && q.parentIndex === -1; });\n            return sanitizeColumns(shuffledColumns);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Grid.prototype, \"element\", {\n        /**\n         * Returns the HTML element of the Grid component.\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Grid.prototype, \"document\", {\n        get: function () {\n            if (!canUseDOM) {\n                return;\n            }\n            // useful only for user actions\n            return (this.element && this.element.ownerDocument) || document;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Grid.prototype, \"_header\", {\n        get: function () {\n            return this.headerRef.current;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    Grid.prototype.componentDidMount = function () {\n        setScrollbarWidth();\n        var rtl = isRtl(this.element);\n        this.isRtl = rtl;\n        tableKeyboardNavigation.onComponentDidMount({\n            scope: this.element || undefined,\n            contextStateRef: this.contextStateRef,\n            navigationStateRef: this.navigationStateRef\n        });\n        if (this.isRtl) {\n            this.forceUpdate();\n        }\n    };\n    /**\n     * @hidden\n     */\n    Grid.prototype.getSnapshotBeforeUpdate = function () {\n        tableKeyboardNavigation.onGetSnapshotBeforeUpdate({\n            document: this.document,\n            contextStateRef: this.contextStateRef,\n            navigationStateRef: this.navigationStateRef\n        });\n        return null;\n    };\n    /**\n     * @hidden\n     */\n    Grid.prototype.componentDidUpdate = function () {\n        setScrollbarWidth();\n        tableKeyboardNavigation.onComponentDidUpdate({\n            scope: this.element || undefined,\n            contextStateRef: this.contextStateRef,\n            navigationStateRef: this.navigationStateRef\n        });\n    };\n    /**\n     * @hidden\n     */\n    Grid.prototype.componentWillUnmount = function () {\n        clearTimeout(this.forceUpdateTimeout);\n        this.columnResize.columns = [];\n        this.dragLogic.columns = [];\n        this._columns = [];\n    };\n    /**\n     * @hidden\n     */\n    Grid.prototype.render = function () {\n        var _this = this;\n        var total = this.props.total || 0;\n        var idPrefix = navigationTools.getIdPrefix(this.navigationStateRef);\n        var propsData = [];\n        if (Array.isArray(this.props.data)) {\n            propsData = this.props.data;\n            total = total || this.props.data.length;\n        }\n        else if (this.props.data) {\n            propsData = this.props.data.data;\n            total = total || this.props.data.total;\n        }\n        var groupable = this.props.groupable === true ||\n            (typeof this.props.groupable === 'object') && this.props.groupable.enabled !== false;\n        this.columnResize.resizable = this.props.resizable || false;\n        this.dragLogic.reorderable = this.props.reorderable || false;\n        this.dragLogic.groupable = groupable;\n        var tableUserSelect = this.props.selectable && this.props.selectable.drag ? 'none' : undefined;\n        if (total !== this.vs.total) {\n            this.vs.reset();\n            this.vs = new VirtualScroll(groupable || this.props.rowHeight === undefined || this.props.rowHeight === 0);\n            this.vs.table = this.tableElement;\n        }\n        this.vs.fixedScroll = this.props.fixedScroll || false;\n        this.vs.PageChange = this.pageChange;\n        this.vs.realSkip = this.props.skip || 0;\n        this.vs.pageSize = (this.props.take !== undefined ? this.props.take : this.props.pageSize) || 0;\n        this.vs.scrollableVirtual = (this.props.scrollable === 'virtual');\n        this.vs.total = total;\n        this.vs.propsSkip = (this.props.skip || 0) + (this.props.scrollable === 'virtual' ?\n            this.vs.topCacheCount + (this.vs.attendedSkip - (this.props.skip || 0)) : 0);\n        if (this.props.rowHeight !== undefined && this.props.rowHeight > 0 && !groupable) {\n            this.vs.containerHeight = Math.min(1533915, this.props.rowHeight * (total || 0));\n        }\n        else {\n            this.vs.containerHeight = 1533915;\n        }\n        var groupingFooter = (typeof this.props.groupable === 'object') && this.props.groupable.footer || 'none';\n        this._data = [];\n        var resolvedGroupsCount = flatData(this._data, propsData, groupingFooter, { index: this.props.skip || 0 }, this.props.group !== undefined, this.props.expandField);\n        var children = React.Children.toArray(this.props.children);\n        this.initColumns(children.filter(function (child) { return child && child.type &&\n            child.type.displayName === 'KendoReactGridColumn'; }), resolvedGroupsCount);\n        var toolbar = children.filter(function (child) { return child && child.type &&\n            child.type.displayName === 'KendoReactGridToolbar'; });\n        var noRecords = children.filter(function (child) { return child && child.type &&\n            child.type.displayName === 'KendoReactGridNoRecords'; });\n        var leafColumns = this._columns.filter(function (c) { return c.children.length === 0; });\n        var groupingPanel = groupable && (React.createElement(GroupPanel, { group: this.props.group || [], groupChange: this.groupChange, pressHandler: this.dragLogic.pressHandler, dragHandler: this.dragLogic.dragHandler, releaseHandler: this.dragLogic.releaseHandler, refCallback: this.dragLogic.refGroupPanelDiv, resolveTitle: this.resolveTitle }));\n        var header = (React.createElement(Header, { columnResize: this.columnResize, staticHeaders: this.props.scrollable !== 'none', scrollableDataElement: function () { return _this.vs.container; }, draggable: this.props.reorderable || groupable, ref: this.headerRef, elemRef: this.headerElementRef, headerRow: React.createElement(HeaderRow, { sort: this.props.sort, sortable: this.props.sortable, sortChange: this.sortChange, group: this.props.group || [], groupable: groupable, groupChange: this.groupChange, filter: this.props.filter, filterable: this.props.filterable, filterOperators: this.props.filterOperators || operators, filterChange: this.filterChange, columnMenu: this.props.columnMenu, selectionChange: this.onHeaderSelectionChange, columns: this._columns, columnResize: this.columnResize, pressHandler: this.dragLogic.pressHandler, dragHandler: this.dragLogic.dragHandler, releaseHandler: this.dragLogic.releaseHandler, columnsMap: this._columnsMap, cellRender: this.props.headerCellRender, isRtl: this.isRtl, dragClue: this.dragLogic.dragClueRef, headerRef: this.headerElementRef, containerRef: this.vs.containerRef }), filterRow: this.props.filterable && React.createElement(FilterRow, { columns: this._columns, filter: this.props.filter, filterOperators: this.props.filterOperators || operators, filterChange: this.filterChange, sort: this.props.sort, cellRender: this.props.filterCellRender, isRtl: this.isRtl, ariaRowIndex: this._columnsMap.length + 1 }) || undefined, cols: leafColumns.map(function (column, index) { return (React.createElement(\"col\", { key: index.toString(), width: column.width !== undefined ?\n                    Math.floor(parseFloat(column.width.toString())) + 'px' : undefined })); }) }));\n        var scrollLeft = this.vs && this.vs.container && this.vs.container.scrollLeft || 0;\n        var tableWidth = parseFloat(((this.props.style || {}).width || '').toString());\n        var _a = tableColumnsVirtualization({\n            enabled: this.props.columnVirtualization,\n            columns: leafColumns,\n            tableViewPortWidth: tableWidth,\n            scrollLeft: scrollLeft\n        }), colSpans = _a.colSpans, isColHidden = _a.hiddenColumns;\n        var dataRow = function (item, rowId, rowDataIndex) {\n            var isInEdit = false;\n            var selectedValue = _this.props.selectedField ? getNestedValue(_this.props.selectedField, item.dataItem) : undefined;\n            return {\n                row: leafColumns.map(function (column, columnIndex) {\n                    if (isColHidden[columnIndex]) {\n                        return null;\n                    }\n                    var columnKey = column.id ? column.id : columnIndex;\n                    var className = \"\".concat(column.className ? column.className + ' ' : '')\n                        + \"\".concat(column.locked ? 'k-grid-content-sticky' : '');\n                    var style = column.left !== undefined\n                        ? !_this.isRtl\n                            ? { left: column.left, right: column.right }\n                            : { left: column.right, right: column.left }\n                        : {};\n                    var cellProps = {\n                        id: navigationTools.generateNavigatableId(\"\".concat(rowId, \"-\").concat(String(columnIndex)), idPrefix),\n                        colSpan: colSpans[columnIndex],\n                        dataItem: item.dataItem,\n                        field: column.field,\n                        editor: column.editor,\n                        format: column.format,\n                        className: className,\n                        render: _this.props.cellRender,\n                        onChange: _this.itemChange,\n                        selectionChange: (_this.props.onSelectionChange) ?\n                            (function (e) { _this.selectionChange({ event: e, dataItem: item.dataItem, dataIndex: rowDataIndex, columnIndex: columnIndex }); }) :\n                            undefined,\n                        columnIndex: columnIndex,\n                        columnsCount: leafColumns.length,\n                        rowType: item.rowType,\n                        level: item.level,\n                        expanded: item.expanded,\n                        dataIndex: item.dataIndex,\n                        style: style,\n                        ariaColumnIndex: column.ariaColumnIndex,\n                        isSelected: Array.isArray(selectedValue) && selectedValue.indexOf(columnIndex) > -1\n                    };\n                    var currentColumnIsInEdit = false;\n                    if (column.editable && _this.props.editField) {\n                        var inEdit = getNestedValue(_this.props.editField, item.dataItem);\n                        if (inEdit === true || inEdit === column.field) {\n                            isInEdit = true;\n                            currentColumnIsInEdit = true;\n                        }\n                    }\n                    if (column.cell) {\n                        return React.createElement(column.cell, __assign({ key: columnKey }, cellProps));\n                    }\n                    return currentColumnIsInEdit\n                        ? React.createElement(GridEditCell, __assign({ key: columnKey }, cellProps))\n                        : React.createElement(GridCell, __assign({ key: columnKey }, cellProps));\n                }),\n                isInEdit: isInEdit,\n                isSelected: typeof selectedValue === 'boolean' && selectedValue\n            };\n        };\n        var hiddenRows = 0;\n        if (this.props.scrollable === 'virtual') {\n            for (var i = 0; i < this.vs.topCacheCount + this.vs.attendedSkip - (this.props.skip || 0); i++) {\n                var item = this._data.shift();\n                if (item) {\n                    this._data.push(item);\n                    hiddenRows++;\n                    if (item.rowType === 'groupHeader') {\n                        i--;\n                    }\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        var hidden = function (index) {\n            return (index >= _this._data.length - hiddenRows);\n        };\n        var absoluteDataIndex = this.vs.propsSkip || 0;\n        var body = [];\n        var rowIndexStart = this._columnsMap.length + (this.props.filterable ? 1 : 0) + 1;\n        var currentAriaRowIndex = 0;\n        if (this._data.length) {\n            var dataIndex_1 = -1;\n            var detailRowCount_1 = 0;\n            this._data.forEach(function (item, rowIndex) {\n                if (item.rowType === 'data') {\n                    absoluteDataIndex++;\n                    dataIndex_1++;\n                }\n                var isAlt = absoluteDataIndex % 2 === 0;\n                var dataItemKey = _this.props.dataItemKey && getter(_this.props.dataItemKey)(item.dataItem);\n                var absoluteIndex = rowIndex + (_this.vs.propsSkip || 0);\n                var rowId = dataItemKey ? dataItemKey : 'ai' + absoluteIndex;\n                var detailRowId = rowId + '_1';\n                var gridRow = dataRow(item, rowId, dataIndex_1);\n                currentAriaRowIndex = absoluteIndex + rowIndexStart + detailRowCount_1;\n                body.push((React.createElement(GridRow, { key: rowId, dataItem: item.dataItem, isAltRow: isAlt, isInEdit: gridRow.isInEdit, rowType: item.rowType, isHidden: hidden(rowIndex), onClick: function (e) { return _this.rowClick(e, item); }, onDoubleClick: function (e) { return _this.rowDblClick(e, item); }, selectedField: _this.props.selectedField, rowHeight: _this.props.rowHeight, render: _this.props.rowRender, ariaRowIndex: currentAriaRowIndex, dataIndex: dataIndex_1, isSelected: gridRow.isSelected }, gridRow.row)));\n                if (_this.props.detail && item.rowType === 'data' && item.expanded) {\n                    var detailColspan = (leafColumns.length\n                        - (_this.props.expandField ? 1 : 0)\n                        - (_this.props.group ? _this.props.group.length : 0)) || 1;\n                    detailRowCount_1++;\n                    currentAriaRowIndex = absoluteIndex + rowIndexStart + detailRowCount_1;\n                    body.push((React.createElement(\"tr\", { key: detailRowId, className: isAlt ? 'k-detail-row k-alt' : 'k-detail-row', style: { visibility: hidden(rowIndex) ? 'hidden' : '' }, role: \"row\", \"aria-rowindex\": currentAriaRowIndex },\n                        _this.props.group && _this.props.group.map(function (group, idx) {\n                            return (React.createElement(GridGroupCell, { id: '', dataIndex: item.dataIndex, field: group.field, dataItem: item.dataItem, key: idx, style: {}, ariaColumnIndex: 1 + idx, isSelected: false }));\n                        }),\n                        _this.props.expandField &&\n                            React.createElement(GridDetailHierarchyCell, { id: navigationTools.generateNavigatableId(\"\".concat(detailRowId, \"-dhcell\"), idPrefix) }),\n                        React.createElement(GridDetailCell, { dataItem: item.dataItem, dataIndex: item.dataIndex, colSpan: detailColspan, ariaColIndex: 2 + (_this.props.group ? _this.props.group.length : 0), detail: _this.props.detail, id: navigationTools.generateNavigatableId(\"\".concat(detailRowId, \"-dcell\"), idPrefix) }))));\n                }\n            });\n        }\n        else {\n            body.push((React.createElement(\"tr\", { key: \"no-records\", className: \"k-grid-norecords\", \"aria-rowindex\": rowIndexStart },\n                React.createElement(\"td\", { colSpan: leafColumns.length }, noRecords.length ? noRecords : React.createElement(GridNoRecords, null)))));\n        }\n        var pagerProps = __assign({ className: 'k-grid-pager', onPageChange: this.pagerPageChange, total: total, skip: this.vs.propsSkip || 0, take: (this.props.take !== undefined ? this.props.take : this.props.pageSize) || 10, messagesMap: pagerMessagesMap }, (normalize(this.props.pageable || {})));\n        var pager = this.props.pager ? React.createElement(this.props.pager, __assign({}, pagerProps)) : React.createElement(Pager, __assign({}, pagerProps));\n        var sorted = function (field) {\n            return _this.props.sort && _this.props.sort.filter(function (descriptor) { return descriptor.field === field; }).length > 0;\n        };\n        var footer = this._columns.some(function (c) { return Boolean(c.footerCell); }) ? (React.createElement(Footer, { columnResize: this.columnResize, staticHeaders: this.props.scrollable !== 'none', ref: function (f) { return _this._footer = f; }, row: React.createElement(FooterRow, { columns: this._columns, isRtl: this.isRtl, ariaRowIndex: currentAriaRowIndex + 1 }), cols: leafColumns.map(function (column, index) { return (React.createElement(\"col\", { key: index.toString(), width: column.width !== undefined ?\n                    Math.floor(parseFloat(column.width.toString())) + 'px' : undefined })); }) })) : null;\n        var colGroups = (React.createElement(\"colgroup\", { ref: function (c) {\n                _this.columnResize.colGroupMain = c;\n            } }, leafColumns.map(function (column, index) { return (React.createElement(\"col\", { key: index.toString(), className: sorted(column.field) ? 'k-sorted' : undefined, width: column.width !== undefined ?\n                Math.floor(parseFloat(column.width.toString())) + 'px' : undefined })); })));\n        var enableDragClues = this.dragLogic.reorderable || this.dragLogic.groupable;\n        var tableDisplay = this.props.columnVirtualization ? 'block' : 'table';\n        if (this.props.scrollable === 'none') {\n            return (React.createElement(TableKeyboardNavigationContext.Provider, { value: this.contextStateRef.current },\n                React.createElement(\"div\", __assign({ id: this.props.id, style: this.props.style, className: classNames('k-widget k-grid', this.props.className), ref: function (el) { _this._element = el; }, onKeyDown: this.onKeyDown, onFocus: this.onFocus }, tableKeyboardNavigationScopeAttributes),\n                    toolbar,\n                    groupingPanel,\n                    React.createElement(TableSelection, { selectable: this.props.selectable, onRelease: this.selectionRelease, childRef: function (table) {\n                            _this.vs.table = table;\n                            _this.tableElement = table;\n                            _this.resetTableWidth();\n                        } },\n                        React.createElement(\"table\", { style: { userSelect: tableUserSelect, display: tableDisplay } },\n                            colGroups,\n                            header,\n                            React.createElement(\"tbody\", __assign({}, tableKeyboardNavigationBodyAttributes), body),\n                            footer)),\n                    this.props.pageable && pager,\n                    enableDragClues && (React.createElement(React.Fragment, null,\n                        React.createElement(DropClue, { ref: this.dragLogic.refDropElementClue }),\n                        React.createElement(DragClue, { ref: this.dragLogic.refDragElementClue }))))));\n        }\n        var wrapperStyle = this.props.style || {};\n        if (this.props.scrollable === 'virtual') {\n            // Set the default height for vs if not existing.\n            if (!wrapperStyle.height) {\n                wrapperStyle = Object.assign({}, wrapperStyle, { height: '450px' });\n            }\n        }\n        return (React.createElement(TableKeyboardNavigationContext.Provider, { value: this.contextStateRef.current },\n            React.createElement(\"div\", __assign({ id: this.props.id, style: wrapperStyle, className: classNames('k-widget k-grid', {\n                    'k-grid-virtual': this.props.scrollable === 'virtual'\n                }, this.props.className), ref: function (el) {\n                    _this._element = el;\n                    _this.resetTableWidth();\n                }, role: \"grid\", \"aria-colcount\": leafColumns.length, \"aria-rowcount\": total, onKeyDown: this.onKeyDown, onFocus: this.onFocus }, tableKeyboardNavigationScopeAttributes),\n                toolbar,\n                groupingPanel,\n                header,\n                React.createElement(\"div\", { className: \"k-grid-container\", role: \"presentation\" },\n                    React.createElement(\"div\", { ref: this.vs.containerRef, className: \"k-grid-content k-virtual-content\", onScroll: this.scrollHandler, role: \"presentation\" },\n                        React.createElement(\"div\", { style: { 'position': 'relative' }, role: \"presentation\" },\n                            React.createElement(TableSelection, { selectable: this.props.selectable, onRelease: this.selectionRelease, childRef: function (table) {\n                                    _this.vs.table = table;\n                                    _this.tableElement = table;\n                                } },\n                                React.createElement(\"table\", { className: 'k-grid-table', role: \"presentation\", style: { userSelect: tableUserSelect, display: tableDisplay } },\n                                    colGroups,\n                                    React.createElement(\"tbody\", __assign({ ref: function (tableBody) {\n                                            _this.vs.tableBody = tableBody;\n                                        }, role: \"presentation\" }, tableKeyboardNavigationBodyAttributes), body)))),\n                        React.createElement(\"div\", { className: \"k-height-container\", role: \"presentation\" },\n                            React.createElement(\"div\", { style: this.props.scrollable === 'virtual' ?\n                                    { 'height': (this.vs.containerHeight) + 'px' } : {} })))),\n                footer,\n                this.props.pageable && pager,\n                enableDragClues && (React.createElement(React.Fragment, null,\n                    React.createElement(DropClue, { ref: this.dragLogic.refDropElementClue }),\n                    React.createElement(DragClue, { ref: this.dragLogic.refDragElementClue }))))));\n    };\n    Grid.prototype.selectionChange = function (options) {\n        if (this.props.onSelectionChange) {\n            var event_1 = options.event, dataItem = options.dataItem, dataIndex = options.dataIndex, columnIndex = options.columnIndex;\n            var _a = getSelectionOptions(this.props.selectable), mode = _a.mode, cell = _a.cell;\n            var selectionEvent = __assign(__assign({}, this.getArguments(event_1.syntheticEvent)), { dataItem: dataItem, startColIndex: columnIndex, endColIndex: columnIndex, startRowIndex: dataIndex, endRowIndex: dataIndex, dataItems: this.getLeafDataItems(), altKey: false, ctrlKey: false, shiftKey: false, metaKey: false, mode: mode, cell: cell, isDrag: false, componentId: this._gridId, selectedField: this.props.selectedField || '' });\n            this.props.onSelectionChange.call(undefined, selectionEvent);\n        }\n    };\n    Grid.prototype.raiseDataEvent = function (handler, data, moreData, syntheticEvent) {\n        var dataStateChange = this.props.onDataStateChange;\n        if (handler) {\n            var ev = __assign(__assign({}, this.getArguments(syntheticEvent)), data);\n            handler.call(undefined, ev);\n        }\n        else if (dataStateChange) {\n            dataStateChange.call(undefined, __assign(__assign({}, this.getArguments(syntheticEvent)), { dataState: __assign(__assign({}, this.getDataState()), moreData) }));\n        }\n    };\n    Grid.prototype.columnReorder = function (prev, next, nativeEvent) {\n        var _a;\n        var _this = this;\n        var depth = this._columns[prev].depth;\n        var end = function (index) {\n            do {\n                index++;\n            } while (index < _this._columns.length && _this._columns[index].depth > depth);\n            return index;\n        };\n        var spliced = this._columns.splice(prev, end(prev) - prev);\n        (_a = this._columns).splice.apply(_a, __spreadArray([prev < next ? end(next - spliced.length) : next, 0], spliced, false));\n        this._columns.filter(function (q) { return q.declarationIndex >= 0; }).forEach(function (c, i) { return c.orderIndex = i; });\n        var eventColumnProps = this.columns;\n        this.forceUpdate();\n        if (this.props.onColumnReorder) {\n            this.props.onColumnReorder.call(undefined, {\n                target: this,\n                columns: eventColumnProps,\n                nativeEvent: nativeEvent\n            });\n        }\n    };\n    Grid.prototype.groupReorder = function (prevIndex, nextIndex, nativeEvent) {\n        if (this.props.group === undefined) {\n            return;\n        }\n        var group = this.props.group.slice();\n        group.splice.apply(group, __spreadArray([nextIndex, 0], group.splice(prevIndex, 1), false));\n        this.groupChange(group, nativeEvent);\n    };\n    Grid.prototype.columnToGroup = function (columnIndex, groupIndex, nativeEvent) {\n        var field = this._columns[columnIndex].field;\n        if (!field) {\n            return;\n        }\n        var group = (this.props.group || []).slice();\n        group.splice(groupIndex, 0, { field: field });\n        this.groupChange(group, nativeEvent);\n    };\n    Grid.prototype.resetTableWidth = function () {\n        var totalWidth = 0;\n        if (!this.columnResize.colGroupMain) {\n            return;\n        }\n        var colElements = this.columnResize.colGroupMain.children;\n        for (var i = 0; i < colElements.length; i++) {\n            var width = colElements[i].width;\n            if (!width) {\n                return;\n            }\n            totalWidth += parseFloat(width.toString());\n        }\n        totalWidth = Math.round(totalWidth);\n        if (this._header) {\n            this._header.setWidth(totalWidth);\n        }\n        if (this._footer) {\n            this._footer.setWidth(totalWidth);\n        }\n        if (this.vs.table) {\n            this.vs.table.style.width = totalWidth + 'px';\n        }\n    };\n    Grid.prototype.initColumns = function (columnElements, groupCount) {\n        var _this = this;\n        var idPrefix = navigationTools.getIdPrefix(this.navigationStateRef);\n        this._columns = readColumns(columnElements, this.columns, { prevId: 0, idPrefix: idPrefix });\n        if (this._columns.length === 0) {\n            this._columns = autoGenerateColumns(this.props.data, this.props.group, this.props.expandField, { prevId: 0, idPrefix: idPrefix });\n        }\n        if (this.props.selectedField) {\n            this._columns.filter(function (c) { return c.field === _this.props.selectedField; }).forEach(function (c) {\n                c.width = c.width || '50px';\n                c.cell = c.cell || GridSelectionCell;\n                c.headerCell = c.headerCell || GridHeaderSelectionCell;\n            });\n        }\n        var defaultServiceProps = {\n            id: '',\n            resizable: true,\n            width: '32px',\n            title: ' ',\n            declarationIndex: -1,\n            orderIndex: -1,\n            children: [],\n            parentIndex: -1,\n            depth: 0,\n            colSpan: 0,\n            rowSpan: 0,\n            left: 0,\n            right: 0,\n            index: 0,\n            rightBorder: false,\n            ariaColumnIndex: 0,\n            isAccessible: true\n        };\n        var columnIndexOffset = 0;\n        if (this.props.expandField && (this.props.onExpandChange) && this.props.detail) {\n            this._columns.unshift(__assign(__assign({}, defaultServiceProps), { cell: GridHierarchyCell, field: this.props.expandField, headerClassName: 'k-hierarchy-cell k-header', id: navigationTools.generateNavigatableId(\"\".concat(this._columns.length), idPrefix, 'column') }));\n            columnIndexOffset++;\n        }\n        for (var i = 0; i < groupCount; i++) {\n            this._columns.unshift(__assign(__assign({}, defaultServiceProps), { isAccessible: false, cell: GridGroupCell, field: 'value' }));\n            columnIndexOffset++;\n        }\n        this._columns.slice(columnIndexOffset).forEach(function (c) { return c.parentIndex >= 0 && (c.parentIndex += columnIndexOffset); });\n        this._columnsMap = mapColumns(this._columns);\n        this.columnResize.columns = this._columns;\n        this.dragLogic.columns = this._columns;\n    };\n    Grid.prototype.getDataState = function () {\n        return {\n            filter: this.props.filter,\n            sort: this.props.sort,\n            skip: this.props.skip,\n            take: (this.props.take !== undefined ? this.props.take : this.props.pageSize),\n            group: this.props.group\n        };\n    };\n    Grid.prototype.getArguments = function (syntheticEvent) {\n        return {\n            nativeEvent: syntheticEvent && syntheticEvent.nativeEvent,\n            syntheticEvent: syntheticEvent,\n            target: this\n        };\n    };\n    /**\n     * @hidden\n     */\n    Grid.displayName = 'KendoReactGrid';\n    /**\n     * @hidden\n     */\n    Grid.defaultProps = {\n    // never use this\n    };\n    /**\n     * @hidden\n     */\n    Grid.propTypes = {\n        data: PropTypes.oneOfType([\n            PropTypes.array,\n            PropTypes.shape({\n                data: PropTypes.array,\n                total: PropTypes.number\n            })\n        ]),\n        sortable: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.shape({\n                mode: PropTypes.oneOf(['single', 'multiple']),\n                allowUnsort: PropTypes.bool\n            })\n        ]),\n        onSortChange: PropTypes.func,\n        sort: PropTypes.array,\n        filterable: PropTypes.bool,\n        filter: PropTypes.any,\n        onFilterChange: PropTypes.func,\n        pageable: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.shape({\n                buttonCount: PropTypes.number,\n                info: PropTypes.bool,\n                type: PropTypes.oneOf(['numeric', 'input']),\n                pageSizes: PropTypes.oneOfType([PropTypes.bool, PropTypes.arrayOf(PropTypes.number)]),\n                previousNext: PropTypes.bool\n            })\n        ]),\n        pageSize: PropTypes.number,\n        onPageChange: PropTypes.func,\n        total: PropTypes.number,\n        skip: PropTypes.number,\n        take: PropTypes.number,\n        fixedScroll: PropTypes.bool,\n        onExpandChange: PropTypes.func,\n        expandField: PropTypes.string,\n        selectedField: PropTypes.string,\n        onSelectionChange: PropTypes.func,\n        onHeaderSelectionChange: PropTypes.func,\n        resizable: PropTypes.bool,\n        reorderable: PropTypes.bool,\n        group: PropTypes.any,\n        groupable: PropTypes.oneOfType([\n            PropTypes.bool,\n            PropTypes.shape({\n                enabled: PropTypes.bool,\n                footer: PropTypes.oneOf(['always', 'visible', 'none'])\n            })\n        ]),\n        onGroupChange: PropTypes.func,\n        onRowClick: PropTypes.func,\n        onRowDoubleClick: PropTypes.func,\n        onItemChange: PropTypes.func,\n        editField: PropTypes.string,\n        scrollable: PropTypes.oneOf(['none', 'scrollable', 'virtual']),\n        rowHeight: PropTypes.number,\n        detail: PropTypes.any,\n        style: PropTypes.object,\n        onDataStateChange: PropTypes.func,\n        onColumnResize: PropTypes.func,\n        onColumnReorder: PropTypes.func,\n        dataItemKey: PropTypes.string,\n        navigatable: PropTypes.bool\n    };\n    /** @hidden */\n    Grid.contextType = TableKeyboardNavigationContext;\n    return Grid;\n}(React.Component));\nexport { Grid };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}