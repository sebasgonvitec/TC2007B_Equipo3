{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport * as PropTypes from 'prop-types';\nimport { WindowTitleBar } from './WindowTitlebar';\nimport { dispatchEvent, Keys, classNames, guid, ZIndexContext, canUseDOM } from '@progress/kendo-react-common';\nimport { Draggable, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { ResizeHandlers } from './WindowResizeHandlers';\nimport { MiddleLayerOptimization } from './MiddleLayerOptimization';\nimport { windowStage } from './StageEnum';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nimport { WindowActionsBar } from './WindowActionsBar';\nimport { DATA_DIALOGS_ID, DEFAULT_DIALOGS_ZINDEX, ZINDEX_DIALOGS_STEP } from './constants';\nimport { getMaxZIndex } from './utils';\nvar DEFAULT_WIDTH = 300;\nvar DEFAULT_HEIGHT = 300;\nvar DEFAULT_MIN_WIDTH = 120;\nvar DEFAULT_MIN_HEIGHT = 100;\nvar DEFAULT_STEP = 5;\n/** @hidden */\n\nvar WindowWithoutContext =\n/** @class */\nfunction (_super) {\n  __extends(WindowWithoutContext, _super);\n\n  function WindowWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.context = 0;\n    _this.draggable = null;\n    _this.offSetCoordinates = {\n      x: 0,\n      y: 0\n    };\n    _this._id = guid();\n    _this.titleId = _this.generateTitleId();\n    /**\n     * @hidden\n     */\n\n    _this.onKeyDown = function (event) {\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n\n      var minWidth = _this.props.minWidth || DEFAULT_MIN_WIDTH;\n      var minHeight = _this.props.minHeight || DEFAULT_MIN_HEIGHT;\n\n      if (event.ctrlKey && _this.props.resizable) {\n        switch (event.keyCode) {\n          case Keys.up:\n            event.preventDefault();\n\n            if (minHeight <= _this.height - DEFAULT_STEP) {\n              _this.setState({\n                height: _this.height - DEFAULT_STEP\n              });\n            }\n\n            break;\n\n          case Keys.down:\n            event.preventDefault();\n\n            _this.setState({\n              height: _this.height + DEFAULT_STEP\n            });\n\n            break;\n\n          case Keys.left:\n            if (minWidth <= _this.width - DEFAULT_STEP) {\n              _this.setState({\n                width: _this.width - DEFAULT_STEP\n              });\n            }\n\n            break;\n\n          case Keys.right:\n            _this.setState({\n              width: _this.width + DEFAULT_STEP\n            });\n\n            break;\n\n          default:\n            return;\n        }\n\n        _this.dispatchMoveEvent(_this.props.onResize, event, false, undefined);\n\n        return;\n      }\n\n      if (event.altKey) {\n        switch (event.keyCode) {\n          case Keys.up:\n            if (_this.windowStage === windowStage.MINIMIZED) {\n              _this.handleRestore(event);\n\n              dispatchEvent(_this.props.onStageChange, event, _this, {\n                state: windowStage.DEFAULT\n              });\n            } else if (_this.windowStage === windowStage.DEFAULT) {\n              _this.handleFullscreen(event);\n\n              dispatchEvent(_this.props.onStageChange, event, _this, {\n                state: windowStage.FULLSCREEN\n              });\n            }\n\n            break;\n\n          case Keys.down:\n            if (_this.windowStage === windowStage.FULLSCREEN) {\n              _this.handleRestore(event);\n\n              dispatchEvent(_this.props.onStageChange, event, _this, {\n                state: windowStage.DEFAULT\n              });\n            } else if (_this.windowStage === windowStage.DEFAULT) {\n              _this.handleMinimize(event);\n\n              dispatchEvent(_this.props.onStageChange, event, _this, {\n                state: windowStage.MINIMIZED\n              });\n            }\n\n            break;\n\n          default:\n        }\n\n        return;\n      }\n\n      if (!event.ctrlKey) {\n        switch (event.keyCode) {\n          case Keys.esc:\n            if (_this.props.onClose) {\n              _this.handleCloseWindow(event);\n            }\n\n            return;\n\n          case Keys.up:\n            _this.setState({\n              top: _this.state.top - DEFAULT_STEP\n            });\n\n            break;\n\n          case Keys.down:\n            _this.setState({\n              top: _this.state.top + DEFAULT_STEP\n            });\n\n            break;\n\n          case Keys.left:\n            _this.setState({\n              left: _this.state.left - DEFAULT_STEP\n            });\n\n            break;\n\n          case Keys.right:\n            _this.setState({\n              left: _this.state.left + DEFAULT_STEP\n            });\n\n            break;\n\n          default:\n            return;\n        }\n      }\n\n      _this.dispatchMoveEvent(_this.props.onMove, event, false, undefined);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onPress = function (data) {\n      var e = data.event;\n      _this.windowCoordinatesState.differenceLeft = e.pageX - _this.left;\n      _this.windowCoordinatesState.differenceTop = e.pageY - _this.top;\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onDrag = function (data) {\n      var e = data.event;\n      e.originalEvent.preventDefault();\n\n      if (_this.windowStage !== windowStage.FULLSCREEN && _this.props.draggable) {\n        _this.setState({\n          top: Math.max(e.pageY - _this.windowCoordinatesState.differenceTop, 0),\n          left: e.pageX - _this.windowCoordinatesState.differenceLeft,\n          isDragging: true\n        });\n\n        if (_this.props.onMove) {\n          // eslint-disable-next-line max-len\n          _this.dispatchMoveEvent(_this.props.onMove, e, true, false);\n        }\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onRelease = function (data) {\n      var e = data.event;\n\n      if (_this.windowStage !== windowStage.FULLSCREEN && _this.props.draggable) {\n        if (_this.props.onMove) {\n          _this.dispatchMoveEvent(_this.props.onMove, e, true, true);\n        }\n      }\n\n      _this.setState({\n        isDragging: false\n      });\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onFocus = function () {\n      if (_this._blurTimeout) {\n        clearTimeout(_this._blurTimeout);\n        _this._blurTimeout = undefined;\n      } else {\n        _this.setState({\n          focused: true,\n          zIndex: getMaxZIndex(_this.getCurrentZIndex(), _this.getDocument(), _this._id)\n        });\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onBlur = function () {\n      clearTimeout(_this._blurTimeout);\n\n      var currentWindow = _this.getWindow();\n\n      if (currentWindow) {\n        _this._blurTimeout = currentWindow.setTimeout(function () {\n          _this.setState({\n            focused: false\n          });\n\n          _this._blurTimeout = undefined;\n        });\n      }\n    }; // Get initial coordinates of the Window\n\n\n    _this.getInitialTop = function () {\n      if (_this.props.top !== undefined) {\n        return _this.props.top;\n      }\n\n      if (_this.props.initialTop !== undefined) {\n        return _this.props.initialTop;\n      }\n\n      var height = DEFAULT_HEIGHT;\n\n      if (_this.props.height !== undefined) {\n        height = _this.props.height;\n      } else if (_this.props.initialHeight !== undefined) {\n        height = _this.props.initialHeight;\n      }\n\n      if (_this.props.appendTo) {\n        return _this.props.appendTo.offsetHeight / 2 - height / 2;\n      }\n\n      var currentWindow = _this.getWindow();\n\n      return currentWindow ? currentWindow.innerHeight / 2 - height / 2 : 0;\n    };\n\n    _this.getInitialLeft = function () {\n      if (_this.props.left !== undefined) {\n        return _this.props.left;\n      }\n\n      if (_this.props.initialLeft !== undefined) {\n        return _this.props.initialLeft;\n      }\n\n      var width = DEFAULT_WIDTH;\n\n      if (_this.props.width !== undefined) {\n        width = _this.props.width;\n      } else if (_this.props.initialWidth !== undefined) {\n        width = _this.props.initialWidth;\n      }\n\n      if (_this.props.appendTo) {\n        return _this.props.appendTo.offsetWidth / 2 - width / 2;\n      }\n\n      var currentWindow = _this.getWindow();\n\n      return currentWindow ? currentWindow.innerWidth / 2 - width / 2 : 0;\n    };\n\n    _this.getInitialWidth = function () {\n      var width = DEFAULT_WIDTH;\n\n      if (_this.props.width !== undefined) {\n        width = _this.props.width;\n      } else if (_this.props.initialWidth !== undefined) {\n        width = _this.props.initialWidth;\n      }\n\n      return width;\n    };\n\n    _this.getInitialHeight = function () {\n      var height = DEFAULT_HEIGHT;\n\n      if (_this.props.height !== undefined) {\n        height = _this.props.height;\n      } else if (_this.props.initialHeight !== undefined) {\n        height = _this.props.initialHeight;\n      }\n\n      return height;\n    }; // Handle actions\n\n\n    _this.handleMinimize = function (event) {\n      event.preventDefault();\n      _this.windowCoordinatesState.leftBeforeAction = _this.left;\n      _this.windowCoordinatesState.topBeforeAction = _this.top;\n      _this.windowCoordinatesState.widthBeforeAction = _this.width;\n      _this.windowCoordinatesState.heightBeforeAction = _this.height;\n\n      _this.setState({\n        stage: windowStage.MINIMIZED,\n        height: 0\n      });\n\n      dispatchEvent(_this.props.onStageChange, event, _this, {\n        state: windowStage.MINIMIZED\n      });\n    };\n\n    _this.handleFullscreen = function (event) {\n      event.preventDefault();\n      _this.windowCoordinatesState.leftBeforeAction = _this.left;\n      _this.windowCoordinatesState.topBeforeAction = _this.top;\n      _this.windowCoordinatesState.widthBeforeAction = _this.width;\n      _this.windowCoordinatesState.heightBeforeAction = _this.height;\n\n      var currentWindow = _this.getWindow();\n\n      var innerWidth = currentWindow ? currentWindow.innerWidth : 0;\n      var innerHeight = currentWindow ? currentWindow.innerHeight : 0;\n\n      _this.setState({\n        left: 0,\n        top: 0,\n        width: _this.props.appendTo ? _this.props.appendTo.offsetWidth : innerWidth,\n        height: _this.props.appendTo ? _this.props.appendTo.offsetHeight : innerHeight,\n        stage: windowStage.FULLSCREEN\n      });\n\n      dispatchEvent(_this.props.onStageChange, event, _this, {\n        state: windowStage.FULLSCREEN\n      });\n    };\n\n    _this.handleRestore = function (event) {\n      event.preventDefault();\n\n      if (_this.windowStage === windowStage.FULLSCREEN) {\n        _this.setState({\n          stage: windowStage.DEFAULT,\n          left: _this.windowCoordinatesState.leftBeforeAction,\n          top: _this.windowCoordinatesState.topBeforeAction,\n          width: _this.windowCoordinatesState.widthBeforeAction,\n          height: _this.windowCoordinatesState.heightBeforeAction\n        });\n      } else if (_this.windowStage === windowStage.MINIMIZED) {\n        _this.setState({\n          stage: windowStage.DEFAULT,\n          height: _this.windowCoordinatesState.heightBeforeAction\n        });\n      }\n\n      dispatchEvent(_this.props.onStageChange, event, _this, {\n        state: windowStage.DEFAULT\n      });\n    };\n\n    _this.handleCloseWindow = function (event) {\n      event.preventDefault();\n      dispatchEvent(_this.props.onClose, event, _this, {\n        state: undefined\n      });\n    };\n\n    _this.handleDoubleClick = function (e) {\n      if (_this.windowStage === windowStage.FULLSCREEN || _this.windowStage === windowStage.MINIMIZED) {\n        _this.handleRestore(e);\n      } else {\n        _this.handleFullscreen(e);\n      }\n    }; // Handle resizing\n\n\n    _this.handleResize = function (event, props) {\n      var x = _this.props.appendTo ? event.pageX - _this.offSetCoordinates.x : event.pageX;\n      var y = _this.props.appendTo ? event.pageY - _this.offSetCoordinates.y : event.pageY;\n      var currentWidth = _this.width;\n      var currentHeight = _this.height;\n      var minWidth = _this.props.minWidth || DEFAULT_MIN_WIDTH;\n      var minHeight = _this.props.minHeight || DEFAULT_MIN_HEIGHT;\n      var heightDifference = _this.top - y;\n      var widthDifference = _this.left - x;\n      var newWidth = x - _this.left;\n      var newHeight = y - _this.top;\n      var newState = Object.assign({}, _this.state, {\n        isDragging: !props.end\n      });\n\n      if (props.direction.indexOf('n') >= 0 && minHeight - (currentHeight + heightDifference) < 0) {\n        if (_this.top > 0) {\n          newState.height = currentHeight + heightDifference;\n        }\n\n        newState.top = y;\n      }\n\n      if (props.direction.indexOf('s') >= 0 && minHeight - newHeight < 0) {\n        newState.height = newHeight;\n      }\n\n      if (props.direction.indexOf('w') >= 0 && minWidth - (currentWidth + widthDifference) < 0) {\n        if (_this.left > 0) {\n          newState.width = currentWidth + widthDifference;\n        }\n\n        newState.left = x;\n      }\n\n      if (props.direction.indexOf('e') >= 0 && minWidth - newWidth < 0) {\n        newState.width = newWidth;\n      }\n\n      _this.setState(newState);\n\n      _this.dispatchMoveEvent(_this.props.onResize, event, true, props.end);\n    }; // Dispatcher for the resize and move events\n\n\n    _this.dispatchMoveEvent = function (callback, event, drag, end) {\n      if (!callback) {\n        return;\n      }\n\n      callback.call(undefined, {\n        nativeEvent: event.nativeEvent ? event.nativeEvent : event.originalEvent,\n        drag: drag,\n        end: end,\n        target: _this,\n        left: _this.state.left,\n        top: _this.state.top,\n        width: _this.state.width,\n        hight: _this.state.height,\n        height: _this.state.height\n      });\n    };\n\n    _this.handleBrowserWindowResize = function () {\n      if (_this.windowStage === windowStage.FULLSCREEN) {\n        var currentWindow = _this.getWindow();\n\n        var innerWidth_1 = currentWindow ? currentWindow.innerWidth : 0;\n        var innerHeight_1 = currentWindow ? currentWindow.innerHeight : 0;\n\n        _this.setState({\n          width: _this.props.appendTo ? _this.props.appendTo.offsetWidth : innerWidth_1,\n          height: _this.props.appendTo ? _this.props.appendTo.offsetHeight : innerHeight_1\n        });\n      }\n    };\n\n    _this.getCurrentZIndex = function () {\n      if (!_this.state || _this.context === undefined) {\n        return _this.context ? _this.context : DEFAULT_DIALOGS_ZINDEX;\n      }\n\n      return _this.state.zIndex > (_this.context ? _this.context + ZINDEX_DIALOGS_STEP : 0) ? _this.state.zIndex : _this.context + ZINDEX_DIALOGS_STEP;\n    };\n\n    _this.getDocument = function () {\n      return _this.props.appendTo ? _this.props.appendTo.ownerDocument : document;\n    };\n\n    _this.getWindow = function () {\n      var currentDocument = _this.getDocument();\n\n      return currentDocument && currentDocument.defaultView;\n    };\n\n    validatePackage(packageMetadata);\n    _this.state = {\n      stage: _this.props.stage || windowStage.DEFAULT,\n      isDragging: false,\n      top: _this.getInitialTop(),\n      left: _this.getInitialLeft(),\n      width: _this.getInitialWidth(),\n      height: _this.getInitialHeight(),\n      focused: true,\n      zIndex: getMaxZIndex(_this.getCurrentZIndex(), _this.getDocument(), _this._id)\n    };\n    _this.windowCoordinatesState = {\n      leftBeforeAction: _this.getInitialLeft(),\n      topBeforeAction: _this.getInitialTop(),\n      widthBeforeAction: _this.getInitialWidth(),\n      heightBeforeAction: _this.getInitialHeight()\n    };\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  WindowWithoutContext.prototype.componentDidMount = function () {\n    var currentWindow = this.getWindow();\n\n    if (currentWindow) {\n      currentWindow.addEventListener('resize', this.handleBrowserWindowResize);\n    }\n\n    var currentDocument = this.getDocument();\n\n    if (this.props.appendTo && currentDocument) {\n      var containerCoordinates = this.props.appendTo.getBoundingClientRect();\n      var bodyRect = currentDocument.body.getBoundingClientRect();\n      this.offSetCoordinates.x = containerCoordinates.left - bodyRect.left;\n      this.offSetCoordinates.y = containerCoordinates.top - bodyRect.top;\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  WindowWithoutContext.prototype.componentWillUnmount = function () {\n    var currentWindow = this.getWindow();\n\n    if (currentWindow) {\n      currentWindow.removeEventListener('resize', this.handleBrowserWindowResize);\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  WindowWithoutContext.prototype.componentDidUpdate = function () {\n    var currentDocument = this.getDocument();\n\n    if (this.props.appendTo && currentDocument) {\n      var containerCoordinates = this.props.appendTo.getBoundingClientRect();\n      var bodyRect = currentDocument.body.getBoundingClientRect();\n      this.offSetCoordinates.x = containerCoordinates.left - bodyRect.left;\n      this.offSetCoordinates.y = containerCoordinates.top - bodyRect.top;\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  WindowWithoutContext.prototype.render = function () {\n    var _a;\n\n    var _this = this;\n\n    var elementsArray = React.Children.toArray(this.props.children);\n    var content = this.getContent(elementsArray);\n    var actions = this.getActionBar(elementsArray);\n    var currentZIndex = this.getCurrentZIndex();\n    var classNamesWindow = classNames('k-widget', 'k-window', this.props.className, {\n      'k-window-minimized': this.state.stage === 'MINIMIZED'\n    }, {\n      'k-window-focused': this.state.focused\n    });\n    var windowElement = React.createElement(ZIndexContext.Provider, {\n      value: currentZIndex\n    }, React.createElement(React.Fragment, null, this.props.modal && React.createElement(\"div\", {\n      className: \"k-overlay\",\n      style: __assign({\n        zIndex: currentZIndex\n      }, this.props.overlayStyle)\n    }), React.createElement(\"div\", __assign({}, (_a = {}, _a[DATA_DIALOGS_ID] = this._id, _a), {\n      tabIndex: 0,\n      role: 'dialog',\n      \"aria-labelledby\": this.titleId,\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n      onKeyDown: this.onKeyDown,\n      ref: function (el) {\n        _this.windowElement = el;\n        _this.element = el;\n      },\n      className: classNamesWindow,\n      style: __assign({\n        top: this.top,\n        left: this.left,\n        width: this.width,\n        height: this.height || '',\n        zIndex: currentZIndex\n      }, this.props.style)\n    }), React.createElement(MiddleLayerOptimization, {\n      shouldUpdateOnDrag: this.props.shouldUpdateOnDrag || false,\n      isDragging: this.state.isDragging\n    }, React.createElement(Draggable, {\n      onPress: this.onPress,\n      onDrag: this.onDrag,\n      onRelease: this.onRelease,\n      ref: function (component) {\n        return _this.draggable = component;\n      }\n    }, React.createElement(WindowTitleBar, {\n      stage: this.windowStage,\n      onDoubleClick: this.props.doubleClickStageChange ? this.handleDoubleClick : undefined,\n      onMinimizeButtonClick: this.handleMinimize,\n      onFullScreenButtonClick: this.handleFullscreen,\n      onRestoreButtonClick: this.handleRestore,\n      onCloseButtonClick: this.handleCloseWindow,\n      closeButton: this.props.closeButton,\n      minimizeButton: this.props.minimizeButton,\n      maximizeButton: this.props.maximizeButton,\n      restoreButton: this.props.restoreButton,\n      id: this.titleId\n    }, this.props.title)), this.windowStage !== windowStage.MINIMIZED ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"k-window-content\"\n    }, content), actions) : null, this.windowStage === windowStage.DEFAULT && this.props.resizable ? React.createElement(ResizeHandlers, {\n      onResize: this.handleResize\n    }) : null))));\n\n    if (canUseDOM) {\n      return this.props.appendTo !== null ? ReactDOM.createPortal(windowElement, this.props.appendTo || document.body) : windowElement;\n    }\n\n    return null;\n  };\n\n  Object.defineProperty(WindowWithoutContext.prototype, \"top\", {\n    // Getters\n    get: function () {\n      if (this.windowStage !== windowStage.FULLSCREEN) {\n        return Math.max(this.props.top || this.state.top, 0);\n      }\n\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WindowWithoutContext.prototype, \"left\", {\n    get: function () {\n      if (this.windowStage !== windowStage.FULLSCREEN) {\n        return Math.max(this.props.left || this.state.left, 0);\n      }\n\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WindowWithoutContext.prototype, \"width\", {\n    get: function () {\n      var width = this.props.width || this.state.width;\n\n      if (this.windowStage === windowStage.FULLSCREEN) {\n        if (this.props.appendTo) {\n          width = this.props.appendTo.offsetWidth;\n          return width;\n        }\n\n        var currentWindow = this.getWindow();\n        width = currentWindow ? currentWindow.innerWidth : 0;\n      }\n\n      return width;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WindowWithoutContext.prototype, \"height\", {\n    get: function () {\n      var height = this.props.height || this.state.height;\n\n      if (this.windowStage === windowStage.FULLSCREEN) {\n        if (this.props.appendTo) {\n          height = this.props.appendTo.offsetHeight;\n          return height;\n        }\n\n        var currentWindow = this.getWindow();\n        height = currentWindow ? currentWindow.innerHeight : 0;\n      } else if (this.windowStage === windowStage.MINIMIZED) {\n        height = 0;\n      }\n\n      return height;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WindowWithoutContext.prototype, \"windowStage\", {\n    get: function () {\n      return this.props.stage || this.state.stage;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WindowWithoutContext.prototype.getActionBar = function (children) {\n    return children.filter(function (child) {\n      return child && child.type === WindowActionsBar;\n    });\n  };\n\n  WindowWithoutContext.prototype.getContent = function (children) {\n    return children.filter(function (child) {\n      return child && child.type !== WindowActionsBar;\n    });\n  };\n\n  WindowWithoutContext.prototype.generateTitleId = function () {\n    return 'window-title-' + this._id;\n  };\n\n  WindowWithoutContext.displayName = 'Window';\n  /**\n   * @hidden\n   */\n\n  WindowWithoutContext.propTypes = {\n    width: PropTypes.number,\n    height: PropTypes.number,\n    left: PropTypes.number,\n    top: PropTypes.number,\n    initialWidth: PropTypes.number,\n    initialHeight: PropTypes.number,\n    initialLeft: PropTypes.number,\n    initialTop: PropTypes.number,\n    minWidth: PropTypes.number,\n    minHeight: PropTypes.number,\n    resizable: PropTypes.bool,\n    draggable: PropTypes.bool,\n    title: PropTypes.any,\n    shouldUpdateOnDrag: PropTypes.bool,\n    stage: PropTypes.oneOf(['DEFAULT', 'MINIMIZED', 'FULLSCREEN']),\n    className: PropTypes.string,\n    style: PropTypes.object,\n    overlayStyle: PropTypes.object\n  };\n  /**\n   * @hidden\n   */\n\n  WindowWithoutContext.defaultProps = {\n    minWidth: DEFAULT_MIN_WIDTH,\n    minHeight: DEFAULT_MIN_HEIGHT,\n    resizable: true,\n    draggable: true,\n    modal: false,\n    doubleClickStageChange: true\n  };\n  /**\n   * @hidden\n   */\n\n  WindowWithoutContext.contextType = ZIndexContext;\n  return WindowWithoutContext;\n}(React.Component);\n/**\n * Represents the PropsContext of the `Window` component.\n * Used for global configuration of all `Window` instances.\n */\n\n\nexport var WindowPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n\n/**\n * Represents the [KendoReact Window component]({% slug overview_window %}).\n *\n * Accepts properties of type [WindowProps]({% slug api_dialogs_windowprops %}).\n * Obtaining the `ref` returns an object of type [WindowHandle]({% slug api_dialogs_windowhandle %}).\n */\n\nexport var Window = withPropsContext(WindowPropsContext, WindowWithoutContext);\nWindow.displayName = 'KendoReactWindow';","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","React","ReactDOM","PropTypes","WindowTitleBar","dispatchEvent","Keys","classNames","guid","ZIndexContext","canUseDOM","Draggable","createPropsContext","withPropsContext","ResizeHandlers","MiddleLayerOptimization","windowStage","validatePackage","packageMetadata","WindowActionsBar","DATA_DIALOGS_ID","DEFAULT_DIALOGS_ZINDEX","ZINDEX_DIALOGS_STEP","getMaxZIndex","DEFAULT_WIDTH","DEFAULT_HEIGHT","DEFAULT_MIN_WIDTH","DEFAULT_MIN_HEIGHT","DEFAULT_STEP","WindowWithoutContext","_super","props","_this","context","draggable","offSetCoordinates","x","y","_id","titleId","generateTitleId","onKeyDown","event","target","currentTarget","minWidth","minHeight","ctrlKey","resizable","keyCode","up","preventDefault","height","setState","down","left","width","right","dispatchMoveEvent","onResize","undefined","altKey","MINIMIZED","handleRestore","onStageChange","state","DEFAULT","handleFullscreen","FULLSCREEN","handleMinimize","esc","onClose","handleCloseWindow","top","onMove","onPress","data","e","windowCoordinatesState","differenceLeft","pageX","differenceTop","pageY","onDrag","originalEvent","Math","max","isDragging","onRelease","onFocus","_blurTimeout","clearTimeout","focused","zIndex","getCurrentZIndex","getDocument","onBlur","currentWindow","getWindow","setTimeout","getInitialTop","initialTop","initialHeight","appendTo","offsetHeight","innerHeight","getInitialLeft","initialLeft","initialWidth","offsetWidth","innerWidth","getInitialWidth","getInitialHeight","leftBeforeAction","topBeforeAction","widthBeforeAction","heightBeforeAction","stage","handleDoubleClick","handleResize","currentWidth","currentHeight","heightDifference","widthDifference","newWidth","newHeight","newState","end","direction","indexOf","callback","drag","nativeEvent","hight","handleBrowserWindowResize","innerWidth_1","innerHeight_1","ownerDocument","document","currentDocument","defaultView","componentDidMount","addEventListener","containerCoordinates","getBoundingClientRect","bodyRect","body","componentWillUnmount","removeEventListener","componentDidUpdate","render","_a","elementsArray","Children","toArray","children","content","getContent","actions","getActionBar","currentZIndex","classNamesWindow","className","windowElement","createElement","Provider","value","Fragment","modal","style","overlayStyle","tabIndex","role","ref","el","element","shouldUpdateOnDrag","component","onDoubleClick","doubleClickStageChange","onMinimizeButtonClick","onFullScreenButtonClick","onRestoreButtonClick","onCloseButtonClick","closeButton","minimizeButton","maximizeButton","restoreButton","id","title","createPortal","defineProperty","get","enumerable","configurable","filter","child","type","displayName","propTypes","number","bool","any","oneOf","string","object","defaultProps","contextType","Component","WindowPropsContext","Window"],"sources":["C:/Users/asana/Documents/TEC/Semestre 5/Seguridad_Informatica/ModuloReact/demo/frontend/node_modules/@progress/kendo-react-dialogs/dist/es/Window.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport * as PropTypes from 'prop-types';\nimport { WindowTitleBar } from './WindowTitlebar';\nimport { dispatchEvent, Keys, classNames, guid, ZIndexContext, canUseDOM } from '@progress/kendo-react-common';\nimport { Draggable, createPropsContext, withPropsContext } from '@progress/kendo-react-common';\nimport { ResizeHandlers } from './WindowResizeHandlers';\nimport { MiddleLayerOptimization } from './MiddleLayerOptimization';\nimport { windowStage } from './StageEnum';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\nimport { WindowActionsBar } from './WindowActionsBar';\nimport { DATA_DIALOGS_ID, DEFAULT_DIALOGS_ZINDEX, ZINDEX_DIALOGS_STEP } from './constants';\nimport { getMaxZIndex } from './utils';\nvar DEFAULT_WIDTH = 300;\nvar DEFAULT_HEIGHT = 300;\nvar DEFAULT_MIN_WIDTH = 120;\nvar DEFAULT_MIN_HEIGHT = 100;\nvar DEFAULT_STEP = 5;\n/** @hidden */\nvar WindowWithoutContext = /** @class */ (function (_super) {\n    __extends(WindowWithoutContext, _super);\n    function WindowWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.context = 0;\n        _this.draggable = null;\n        _this.offSetCoordinates = { x: 0, y: 0 };\n        _this._id = guid();\n        _this.titleId = _this.generateTitleId();\n        /**\n         * @hidden\n         */\n        _this.onKeyDown = function (event) {\n            if (event.target !== event.currentTarget) {\n                return;\n            }\n            var minWidth = _this.props.minWidth || DEFAULT_MIN_WIDTH;\n            var minHeight = _this.props.minHeight || DEFAULT_MIN_HEIGHT;\n            if (event.ctrlKey && _this.props.resizable) {\n                switch (event.keyCode) {\n                    case Keys.up:\n                        event.preventDefault();\n                        if (minHeight <= (_this.height - DEFAULT_STEP)) {\n                            _this.setState({ height: _this.height - DEFAULT_STEP });\n                        }\n                        break;\n                    case Keys.down:\n                        event.preventDefault();\n                        _this.setState({ height: _this.height + DEFAULT_STEP });\n                        break;\n                    case Keys.left:\n                        if (minWidth <= (_this.width - DEFAULT_STEP)) {\n                            _this.setState({ width: _this.width - DEFAULT_STEP });\n                        }\n                        break;\n                    case Keys.right:\n                        _this.setState({ width: _this.width + DEFAULT_STEP });\n                        break;\n                    default: return;\n                }\n                _this.dispatchMoveEvent(_this.props.onResize, event, false, undefined);\n                return;\n            }\n            if (event.altKey) {\n                switch (event.keyCode) {\n                    case Keys.up:\n                        if (_this.windowStage === windowStage.MINIMIZED) {\n                            _this.handleRestore(event);\n                            dispatchEvent(_this.props.onStageChange, event, _this, { state: windowStage.DEFAULT });\n                        }\n                        else if (_this.windowStage === windowStage.DEFAULT) {\n                            _this.handleFullscreen(event);\n                            dispatchEvent(_this.props.onStageChange, event, _this, { state: windowStage.FULLSCREEN });\n                        }\n                        break;\n                    case Keys.down:\n                        if (_this.windowStage === windowStage.FULLSCREEN) {\n                            _this.handleRestore(event);\n                            dispatchEvent(_this.props.onStageChange, event, _this, { state: windowStage.DEFAULT });\n                        }\n                        else if (_this.windowStage === windowStage.DEFAULT) {\n                            _this.handleMinimize(event);\n                            dispatchEvent(_this.props.onStageChange, event, _this, { state: windowStage.MINIMIZED });\n                        }\n                        break;\n                    default:\n                }\n                return;\n            }\n            if (!event.ctrlKey) {\n                switch (event.keyCode) {\n                    case Keys.esc:\n                        if (_this.props.onClose) {\n                            _this.handleCloseWindow(event);\n                        }\n                        return;\n                    case Keys.up:\n                        _this.setState({ top: _this.state.top - DEFAULT_STEP });\n                        break;\n                    case Keys.down:\n                        _this.setState({ top: _this.state.top + DEFAULT_STEP });\n                        break;\n                    case Keys.left:\n                        _this.setState({ left: _this.state.left - DEFAULT_STEP });\n                        break;\n                    case Keys.right:\n                        _this.setState({ left: _this.state.left + DEFAULT_STEP });\n                        break;\n                    default: return;\n                }\n            }\n            _this.dispatchMoveEvent(_this.props.onMove, event, false, undefined);\n        };\n        /**\n         * @hidden\n         */\n        _this.onPress = function (data) {\n            var e = data.event;\n            _this.windowCoordinatesState.differenceLeft = e.pageX - _this.left;\n            _this.windowCoordinatesState.differenceTop = e.pageY - _this.top;\n        };\n        /**\n         * @hidden\n         */\n        _this.onDrag = function (data) {\n            var e = data.event;\n            e.originalEvent.preventDefault();\n            if (_this.windowStage !== windowStage.FULLSCREEN && _this.props.draggable) {\n                _this.setState({\n                    top: Math.max(e.pageY - _this.windowCoordinatesState.differenceTop, 0),\n                    left: e.pageX - _this.windowCoordinatesState.differenceLeft,\n                    isDragging: true\n                });\n                if (_this.props.onMove) {\n                    // eslint-disable-next-line max-len\n                    _this.dispatchMoveEvent(_this.props.onMove, e, true, false);\n                }\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onRelease = function (data) {\n            var e = data.event;\n            if (_this.windowStage !== windowStage.FULLSCREEN && _this.props.draggable) {\n                if (_this.props.onMove) {\n                    _this.dispatchMoveEvent(_this.props.onMove, e, true, true);\n                }\n            }\n            _this.setState({\n                isDragging: false\n            });\n        };\n        /**\n         * @hidden\n         */\n        _this.onFocus = function () {\n            if (_this._blurTimeout) {\n                clearTimeout(_this._blurTimeout);\n                _this._blurTimeout = undefined;\n            }\n            else {\n                _this.setState({\n                    focused: true,\n                    zIndex: getMaxZIndex(_this.getCurrentZIndex(), _this.getDocument(), _this._id)\n                });\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.onBlur = function () {\n            clearTimeout(_this._blurTimeout);\n            var currentWindow = _this.getWindow();\n            if (currentWindow) {\n                _this._blurTimeout = currentWindow.setTimeout(function () {\n                    _this.setState({ focused: false });\n                    _this._blurTimeout = undefined;\n                });\n            }\n        };\n        // Get initial coordinates of the Window\n        _this.getInitialTop = function () {\n            if (_this.props.top !== undefined) {\n                return _this.props.top;\n            }\n            if (_this.props.initialTop !== undefined) {\n                return _this.props.initialTop;\n            }\n            var height = DEFAULT_HEIGHT;\n            if (_this.props.height !== undefined) {\n                height = _this.props.height;\n            }\n            else if (_this.props.initialHeight !== undefined) {\n                height = _this.props.initialHeight;\n            }\n            if (_this.props.appendTo) {\n                return (_this.props.appendTo.offsetHeight / 2) - (height / 2);\n            }\n            var currentWindow = _this.getWindow();\n            return currentWindow ? (currentWindow.innerHeight / 2) - (height / 2) : 0;\n        };\n        _this.getInitialLeft = function () {\n            if (_this.props.left !== undefined) {\n                return _this.props.left;\n            }\n            if (_this.props.initialLeft !== undefined) {\n                return _this.props.initialLeft;\n            }\n            var width = DEFAULT_WIDTH;\n            if (_this.props.width !== undefined) {\n                width = _this.props.width;\n            }\n            else if (_this.props.initialWidth !== undefined) {\n                width = _this.props.initialWidth;\n            }\n            if (_this.props.appendTo) {\n                return (_this.props.appendTo.offsetWidth / 2) - (width / 2);\n            }\n            var currentWindow = _this.getWindow();\n            return currentWindow ? (currentWindow.innerWidth / 2) - (width / 2) : 0;\n        };\n        _this.getInitialWidth = function () {\n            var width = DEFAULT_WIDTH;\n            if (_this.props.width !== undefined) {\n                width = _this.props.width;\n            }\n            else if (_this.props.initialWidth !== undefined) {\n                width = _this.props.initialWidth;\n            }\n            return width;\n        };\n        _this.getInitialHeight = function () {\n            var height = DEFAULT_HEIGHT;\n            if (_this.props.height !== undefined) {\n                height = _this.props.height;\n            }\n            else if (_this.props.initialHeight !== undefined) {\n                height = _this.props.initialHeight;\n            }\n            return height;\n        };\n        // Handle actions\n        _this.handleMinimize = function (event) {\n            event.preventDefault();\n            _this.windowCoordinatesState.leftBeforeAction = _this.left;\n            _this.windowCoordinatesState.topBeforeAction = _this.top;\n            _this.windowCoordinatesState.widthBeforeAction = _this.width;\n            _this.windowCoordinatesState.heightBeforeAction = _this.height;\n            _this.setState({\n                stage: windowStage.MINIMIZED,\n                height: 0\n            });\n            dispatchEvent(_this.props.onStageChange, event, _this, { state: windowStage.MINIMIZED });\n        };\n        _this.handleFullscreen = function (event) {\n            event.preventDefault();\n            _this.windowCoordinatesState.leftBeforeAction = _this.left;\n            _this.windowCoordinatesState.topBeforeAction = _this.top;\n            _this.windowCoordinatesState.widthBeforeAction = _this.width;\n            _this.windowCoordinatesState.heightBeforeAction = _this.height;\n            var currentWindow = _this.getWindow();\n            var innerWidth = currentWindow ? currentWindow.innerWidth : 0;\n            var innerHeight = currentWindow ? currentWindow.innerHeight : 0;\n            _this.setState({\n                left: 0,\n                top: 0,\n                width: _this.props.appendTo ? _this.props.appendTo.offsetWidth : innerWidth,\n                height: _this.props.appendTo ? _this.props.appendTo.offsetHeight : innerHeight,\n                stage: windowStage.FULLSCREEN\n            });\n            dispatchEvent(_this.props.onStageChange, event, _this, { state: windowStage.FULLSCREEN });\n        };\n        _this.handleRestore = function (event) {\n            event.preventDefault();\n            if (_this.windowStage === windowStage.FULLSCREEN) {\n                _this.setState({\n                    stage: windowStage.DEFAULT,\n                    left: _this.windowCoordinatesState.leftBeforeAction,\n                    top: _this.windowCoordinatesState.topBeforeAction,\n                    width: _this.windowCoordinatesState.widthBeforeAction,\n                    height: _this.windowCoordinatesState.heightBeforeAction\n                });\n            }\n            else if (_this.windowStage === windowStage.MINIMIZED) {\n                _this.setState({\n                    stage: windowStage.DEFAULT,\n                    height: _this.windowCoordinatesState.heightBeforeAction\n                });\n            }\n            dispatchEvent(_this.props.onStageChange, event, _this, { state: windowStage.DEFAULT });\n        };\n        _this.handleCloseWindow = function (event) {\n            event.preventDefault();\n            dispatchEvent(_this.props.onClose, event, _this, { state: undefined });\n        };\n        _this.handleDoubleClick = function (e) {\n            if (_this.windowStage === windowStage.FULLSCREEN || _this.windowStage === windowStage.MINIMIZED) {\n                _this.handleRestore(e);\n            }\n            else {\n                _this.handleFullscreen(e);\n            }\n        };\n        // Handle resizing\n        _this.handleResize = function (event, props) {\n            var x = _this.props.appendTo ? event.pageX - _this.offSetCoordinates.x : event.pageX;\n            var y = _this.props.appendTo ? event.pageY - _this.offSetCoordinates.y : event.pageY;\n            var currentWidth = _this.width;\n            var currentHeight = _this.height;\n            var minWidth = _this.props.minWidth || DEFAULT_MIN_WIDTH;\n            var minHeight = _this.props.minHeight || DEFAULT_MIN_HEIGHT;\n            var heightDifference = _this.top - y;\n            var widthDifference = _this.left - x;\n            var newWidth = x - _this.left;\n            var newHeight = y - _this.top;\n            var newState = Object.assign({}, _this.state, { isDragging: !props.end });\n            if (props.direction.indexOf('n') >= 0 && minHeight - (currentHeight + heightDifference) < 0) {\n                if (_this.top > 0) {\n                    newState.height = currentHeight + heightDifference;\n                }\n                newState.top = y;\n            }\n            if (props.direction.indexOf('s') >= 0 && (minHeight - newHeight < 0)) {\n                newState.height = newHeight;\n            }\n            if (props.direction.indexOf('w') >= 0 && minWidth - (currentWidth + widthDifference) < 0) {\n                if (_this.left > 0) {\n                    newState.width = currentWidth + widthDifference;\n                }\n                newState.left = x;\n            }\n            if (props.direction.indexOf('e') >= 0 && (minWidth - newWidth < 0)) {\n                newState.width = newWidth;\n            }\n            _this.setState(newState);\n            _this.dispatchMoveEvent(_this.props.onResize, event, true, props.end);\n        };\n        // Dispatcher for the resize and move events\n        _this.dispatchMoveEvent = function (callback, event, drag, end) {\n            if (!callback) {\n                return;\n            }\n            callback.call(undefined, {\n                nativeEvent: event.nativeEvent ? event.nativeEvent : event.originalEvent,\n                drag: drag,\n                end: end,\n                target: _this,\n                left: _this.state.left,\n                top: _this.state.top,\n                width: _this.state.width,\n                hight: _this.state.height,\n                height: _this.state.height\n            });\n        };\n        _this.handleBrowserWindowResize = function () {\n            if (_this.windowStage === windowStage.FULLSCREEN) {\n                var currentWindow = _this.getWindow();\n                var innerWidth_1 = currentWindow ? currentWindow.innerWidth : 0;\n                var innerHeight_1 = currentWindow ? currentWindow.innerHeight : 0;\n                _this.setState({\n                    width: _this.props.appendTo ? _this.props.appendTo.offsetWidth : innerWidth_1,\n                    height: _this.props.appendTo ? _this.props.appendTo.offsetHeight : innerHeight_1\n                });\n            }\n        };\n        _this.getCurrentZIndex = function () {\n            if (!_this.state || _this.context === undefined) {\n                return _this.context ? _this.context : DEFAULT_DIALOGS_ZINDEX;\n            }\n            return _this.state.zIndex > (_this.context ? _this.context + ZINDEX_DIALOGS_STEP : 0) ? _this.state.zIndex : _this.context + ZINDEX_DIALOGS_STEP;\n        };\n        _this.getDocument = function () {\n            return _this.props.appendTo ? _this.props.appendTo.ownerDocument : document;\n        };\n        _this.getWindow = function () {\n            var currentDocument = _this.getDocument();\n            return currentDocument && currentDocument.defaultView;\n        };\n        validatePackage(packageMetadata);\n        _this.state = {\n            stage: _this.props.stage || windowStage.DEFAULT,\n            isDragging: false,\n            top: _this.getInitialTop(),\n            left: _this.getInitialLeft(),\n            width: _this.getInitialWidth(),\n            height: _this.getInitialHeight(),\n            focused: true,\n            zIndex: getMaxZIndex(_this.getCurrentZIndex(), _this.getDocument(), _this._id)\n        };\n        _this.windowCoordinatesState = {\n            leftBeforeAction: _this.getInitialLeft(),\n            topBeforeAction: _this.getInitialTop(),\n            widthBeforeAction: _this.getInitialWidth(),\n            heightBeforeAction: _this.getInitialHeight()\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    WindowWithoutContext.prototype.componentDidMount = function () {\n        var currentWindow = this.getWindow();\n        if (currentWindow) {\n            currentWindow.addEventListener('resize', this.handleBrowserWindowResize);\n        }\n        var currentDocument = this.getDocument();\n        if (this.props.appendTo && currentDocument) {\n            var containerCoordinates = this.props.appendTo.getBoundingClientRect();\n            var bodyRect = currentDocument.body.getBoundingClientRect();\n            this.offSetCoordinates.x = containerCoordinates.left - bodyRect.left;\n            this.offSetCoordinates.y = containerCoordinates.top - bodyRect.top;\n        }\n    };\n    /**\n     * @hidden\n     */\n    WindowWithoutContext.prototype.componentWillUnmount = function () {\n        var currentWindow = this.getWindow();\n        if (currentWindow) {\n            currentWindow.removeEventListener('resize', this.handleBrowserWindowResize);\n        }\n    };\n    /**\n     * @hidden\n     */\n    WindowWithoutContext.prototype.componentDidUpdate = function () {\n        var currentDocument = this.getDocument();\n        if (this.props.appendTo && currentDocument) {\n            var containerCoordinates = this.props.appendTo.getBoundingClientRect();\n            var bodyRect = currentDocument.body.getBoundingClientRect();\n            this.offSetCoordinates.x = containerCoordinates.left - bodyRect.left;\n            this.offSetCoordinates.y = containerCoordinates.top - bodyRect.top;\n        }\n    };\n    /**\n     * @hidden\n     */\n    WindowWithoutContext.prototype.render = function () {\n        var _a;\n        var _this = this;\n        var elementsArray = React.Children.toArray(this.props.children);\n        var content = this.getContent(elementsArray);\n        var actions = this.getActionBar(elementsArray);\n        var currentZIndex = this.getCurrentZIndex();\n        var classNamesWindow = classNames('k-widget', 'k-window', this.props.className, { 'k-window-minimized': this.state.stage === 'MINIMIZED' }, { 'k-window-focused': this.state.focused });\n        var windowElement = (React.createElement(ZIndexContext.Provider, { value: currentZIndex },\n            React.createElement(React.Fragment, null,\n                this.props.modal && (React.createElement(\"div\", { className: \"k-overlay\", style: __assign({ zIndex: currentZIndex }, this.props.overlayStyle) })),\n                React.createElement(\"div\", __assign({}, (_a = {}, _a[DATA_DIALOGS_ID] = this._id, _a), { tabIndex: 0, role: 'dialog', \"aria-labelledby\": this.titleId, onFocus: this.onFocus, onBlur: this.onBlur, onKeyDown: this.onKeyDown, ref: function (el) {\n                        _this.windowElement = el;\n                        _this.element = el;\n                    }, className: classNamesWindow, style: __assign({ top: this.top, left: this.left, width: this.width, height: this.height || '', zIndex: currentZIndex }, this.props.style) }),\n                    React.createElement(MiddleLayerOptimization, { shouldUpdateOnDrag: this.props.shouldUpdateOnDrag || false, isDragging: this.state.isDragging },\n                        React.createElement(Draggable, { onPress: this.onPress, onDrag: this.onDrag, onRelease: this.onRelease, ref: function (component) { return _this.draggable = component; } },\n                            React.createElement(WindowTitleBar, { stage: this.windowStage, onDoubleClick: this.props.doubleClickStageChange ? this.handleDoubleClick : undefined, onMinimizeButtonClick: this.handleMinimize, onFullScreenButtonClick: this.handleFullscreen, onRestoreButtonClick: this.handleRestore, onCloseButtonClick: this.handleCloseWindow, closeButton: this.props.closeButton, minimizeButton: this.props.minimizeButton, maximizeButton: this.props.maximizeButton, restoreButton: this.props.restoreButton, id: this.titleId }, this.props.title)),\n                        this.windowStage !== windowStage.MINIMIZED\n                            ? (React.createElement(React.Fragment, null,\n                                React.createElement(\"div\", { className: \"k-window-content\" }, content),\n                                actions))\n                            : null,\n                        this.windowStage === windowStage.DEFAULT &&\n                            this.props.resizable\n                            ? React.createElement(ResizeHandlers, { onResize: this.handleResize })\n                            : null)))));\n        if (canUseDOM) {\n            return this.props.appendTo !== null ?\n                ReactDOM.createPortal(windowElement, this.props.appendTo || document.body) :\n                windowElement;\n        }\n        return null;\n    };\n    Object.defineProperty(WindowWithoutContext.prototype, \"top\", {\n        // Getters\n        get: function () {\n            if (this.windowStage !== windowStage.FULLSCREEN) {\n                return Math.max(this.props.top || this.state.top, 0);\n            }\n            return 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WindowWithoutContext.prototype, \"left\", {\n        get: function () {\n            if (this.windowStage !== windowStage.FULLSCREEN) {\n                return Math.max(this.props.left || this.state.left, 0);\n            }\n            return 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WindowWithoutContext.prototype, \"width\", {\n        get: function () {\n            var width = this.props.width || this.state.width;\n            if (this.windowStage === windowStage.FULLSCREEN) {\n                if (this.props.appendTo) {\n                    width = this.props.appendTo.offsetWidth;\n                    return width;\n                }\n                var currentWindow = this.getWindow();\n                width = currentWindow ? currentWindow.innerWidth : 0;\n            }\n            return width;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WindowWithoutContext.prototype, \"height\", {\n        get: function () {\n            var height = this.props.height || this.state.height;\n            if (this.windowStage === windowStage.FULLSCREEN) {\n                if (this.props.appendTo) {\n                    height = this.props.appendTo.offsetHeight;\n                    return height;\n                }\n                var currentWindow = this.getWindow();\n                height = currentWindow ? currentWindow.innerHeight : 0;\n            }\n            else if (this.windowStage === windowStage.MINIMIZED) {\n                height = 0;\n            }\n            return height;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WindowWithoutContext.prototype, \"windowStage\", {\n        get: function () {\n            return this.props.stage || this.state.stage;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WindowWithoutContext.prototype.getActionBar = function (children) {\n        return children.filter(function (child) { return child && child.type === WindowActionsBar; });\n    };\n    WindowWithoutContext.prototype.getContent = function (children) {\n        return children.filter(function (child) {\n            return child && child.type !== WindowActionsBar;\n        });\n    };\n    WindowWithoutContext.prototype.generateTitleId = function () {\n        return 'window-title-' + this._id;\n    };\n    WindowWithoutContext.displayName = 'Window';\n    /**\n     * @hidden\n     */\n    WindowWithoutContext.propTypes = {\n        width: PropTypes.number,\n        height: PropTypes.number,\n        left: PropTypes.number,\n        top: PropTypes.number,\n        initialWidth: PropTypes.number,\n        initialHeight: PropTypes.number,\n        initialLeft: PropTypes.number,\n        initialTop: PropTypes.number,\n        minWidth: PropTypes.number,\n        minHeight: PropTypes.number,\n        resizable: PropTypes.bool,\n        draggable: PropTypes.bool,\n        title: PropTypes.any,\n        shouldUpdateOnDrag: PropTypes.bool,\n        stage: PropTypes.oneOf(['DEFAULT', 'MINIMIZED', 'FULLSCREEN']),\n        className: PropTypes.string,\n        style: PropTypes.object,\n        overlayStyle: PropTypes.object\n    };\n    /**\n     * @hidden\n     */\n    WindowWithoutContext.defaultProps = {\n        minWidth: DEFAULT_MIN_WIDTH,\n        minHeight: DEFAULT_MIN_HEIGHT,\n        resizable: true,\n        draggable: true,\n        modal: false,\n        doubleClickStageChange: true\n    };\n    /**\n     * @hidden\n     */\n    WindowWithoutContext.contextType = ZIndexContext;\n    return WindowWithoutContext;\n}(React.Component));\n/**\n * Represents the PropsContext of the `Window` component.\n * Used for global configuration of all `Window` instances.\n */\nexport var WindowPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the [KendoReact Window component]({% slug overview_window %}).\n *\n * Accepts properties of type [WindowProps]({% slug api_dialogs_windowprops %}).\n * Obtaining the `ref` returns an object of type [WindowHandle]({% slug api_dialogs_windowhandle %}).\n */\nexport var Window = withPropsContext(WindowPropsContext, WindowWithoutContext);\nWindow.displayName = 'KendoReactWindow';\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}