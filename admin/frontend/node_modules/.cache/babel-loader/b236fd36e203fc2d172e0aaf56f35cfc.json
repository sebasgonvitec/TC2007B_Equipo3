{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { SignaturePad } from '@progress/kendo-inputs-common';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { classNames, createPropsContext, dispatchEvent, getTabIndex, kendoThemeMaps, noop, usePropsContext } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { Dialog } from '@progress/kendo-react-dialogs';\nimport { useLocalization } from '@progress/kendo-react-intl';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { messages, signatureClear, signatureMaximize, signatureMinimize } from '../messages';\nimport { packageMetadata } from '../package-metadata';\nimport { hasParent } from './utils';\nvar DEFAULT_WIDTH = 250;\nvar DEFAULT_HEIGHT = 84;\nvar DEFAULT_POPUP_SCALE = 3;\nvar DEFAULT_EXPORT_SCALE = 2;\n/**\n * @hidden\n */\n\nvar isControlled = function (prop) {\n  return prop !== undefined;\n};\n/**\n * Represents the PropsContext of the `Signature` component.\n * Used for global configuration of all `Signature` instances.\n *\n * For more information, refer to the [Inputs Props Context]({% slug props-context_inputs %}) article.\n */\n\n\nexport var SignaturePropsContext = createPropsContext();\n/**\n * Represents the [KendoReact Signature component]({% slug overview_signature %}).\n */\n\nexport var Signature = React.forwardRef(function (directProps, target) {\n  var _a;\n\n  validatePackage(packageMetadata);\n  var props = usePropsContext(SignaturePropsContext, directProps);\n  var localizationService = useLocalization();\n  var elementRef = React.useRef(null);\n  var canvasRef = React.useRef(null);\n  var dialogRef = React.useRef(null);\n\n  var _b = React.useState(),\n      instance = _b[0],\n      setInstance = _b[1];\n\n  var _c = React.useState(false),\n      focused = _c[0],\n      setFocused = _c[1];\n\n  var _d = React.useState(false),\n      isDrawing = _d[0],\n      setIsDrawing = _d[1];\n\n  var _e = React.useState(),\n      stateValue = _e[0],\n      setStateValue = _e[1];\n\n  var _f = React.useState(),\n      popupValue = _f[0],\n      setPopupValue = _f[1];\n\n  var isValueControlled = isControlled(props.value);\n  var value = isValueControlled ? props.value : stateValue;\n\n  var _g = React.useState(false),\n      stateOpen = _g[0],\n      setStateOpen = _g[1];\n\n  var isOpenControlled = isControlled(props.open);\n  var open = isOpenControlled ? props.open : stateOpen;\n  var showMaximize = !(props.maximized || isDrawing || !props.maximizable || props.disabled);\n  var showMinimize = props.maximized && !isDrawing;\n  var isEmpty = !(props.value || stateValue);\n  var showClear = !(isEmpty || isDrawing || props.readOnly || props.disabled);\n  var maximizeTitle = localizationService.toLanguageString(signatureMaximize, messages[signatureMaximize]);\n  var minimizeTitle = localizationService.toLanguageString(signatureMinimize, messages[signatureMinimize]);\n  var clearTitle = localizationService.toLanguageString(signatureClear, messages[signatureClear]);\n\n  var onValueChange = function (nextValue) {\n    setStateValue(nextValue);\n\n    if (props.onChange) {\n      props.onChange({\n        value: nextValue\n      });\n    }\n  };\n\n  var onDialogChange = function (e) {\n    instance === null || instance === void 0 ? void 0 : instance.loadImage(e.value);\n    onValueChange(e.value);\n  };\n\n  React.useEffect(function () {\n    if (props.value !== stateValue) {\n      setStateValue(props.value);\n      instance === null || instance === void 0 ? void 0 : instance.loadImage(props.value);\n    }\n  }, [props.value]);\n\n  var reset = function () {\n    instance === null || instance === void 0 ? void 0 : instance.clear();\n    onValueChange();\n  };\n\n  var setOpen = React.useCallback(function (nextOpen) {\n    if (!isOpenControlled) {\n      setStateOpen(nextOpen);\n    }\n  }, [isOpenControlled]);\n\n  var onDialogClose = function (event) {\n    onMinimizeClick(event);\n    focusElement();\n  };\n\n  var getOptions = function () {\n    return {\n      scale: props.maximized ? props.popupScale : 1,\n      color: props.color,\n      backgroundColor: props.backgroundColor,\n      strokeWidth: props.strokeWidth,\n      smooth: props.smooth,\n      readonly: props.readOnly\n    };\n  };\n\n  var exportImage = function (exportSize) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var width, height;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            width = exportSize.width, height = exportSize.height;\n            return [4\n            /*yield*/\n            , instance === null || instance === void 0 ? void 0 : instance.exportImage({\n              width: width * (props.exportScale || DEFAULT_EXPORT_SCALE),\n              height: height * (props.exportScale || DEFAULT_EXPORT_SCALE)\n            })];\n\n          case 1:\n            return [2\n            /*return*/\n            , _a.sent()];\n        }\n      });\n    });\n  };\n\n  React.useEffect(function () {\n    var canvas = canvasRef.current;\n    var pad = new SignaturePad(canvas, getOptions());\n\n    if (value) {\n      pad.loadImage(value);\n    }\n\n    setInstance(pad);\n    return function () {\n      return pad.destroy();\n    };\n  }, []);\n  React.useEffect(function () {\n    instance === null || instance === void 0 ? void 0 : instance.setOptions({\n      onChange: function () {\n        return __awaiter(void 0, void 0, void 0, function () {\n          var _a;\n\n          return __generator(this, function (_b) {\n            switch (_b.label) {\n              case 0:\n                _a = onValueChange;\n                return [4\n                /*yield*/\n                , exportImage(elementSize())];\n\n              case 1:\n                return [2\n                /*return*/\n                , _a.apply(void 0, [_b.sent()])];\n            }\n          });\n        });\n      },\n      onDraw: function () {\n        return setIsDrawing(true);\n      },\n      onDrawEnd: function () {\n        return setIsDrawing(false);\n      }\n    });\n  }, [instance]);\n  React.useLayoutEffect(function () {\n    return instance === null || instance === void 0 ? void 0 : instance.setOptions(getOptions());\n  }, [props.readOnly, props.color, props.backgroundColor, props.strokeWidth, props.smooth]);\n  React.useEffect(function () {\n    var _a, _b;\n\n    var overlay = (_b = (_a = dialogRef.current) === null || _a === void 0 ? void 0 : _a.element) === null || _b === void 0 ? void 0 : _b.querySelector('.k-overlay');\n\n    if (!overlay) {\n      return;\n    }\n\n    var onOverlayClick = function () {\n      return setOpen(false);\n    };\n\n    overlay.addEventListener('click', onOverlayClick);\n    return function () {\n      return overlay.removeEventListener('click', onOverlayClick);\n    };\n  }, [open]);\n  var focusElement = React.useCallback(function () {\n    var _a;\n\n    return (_a = canvasRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n  }, []);\n  var valueGetter = React.useCallback(function () {\n    return props.value;\n  }, [props.value]);\n  var nameGetter = React.useCallback(function () {\n    return props.name;\n  }, [props.name]);\n  var requiredGetter = React.useCallback(function () {\n    return props.required;\n  }, [props.required]);\n  var validityGetter = React.useCallback(function () {\n    var customError = props.validationMessage !== undefined;\n    var currentValue = valueGetter();\n    var valueMissing = !currentValue;\n    var valid = props.valid !== undefined ? props.valid : !requiredGetter() || !valueMissing;\n    return {\n      customError: customError,\n      valid: valid,\n      valueMissing: valueMissing\n    };\n  }, [props.validationMessage, props.valid, valueGetter, requiredGetter]);\n  var validityStylesGetter = React.useCallback(function () {\n    return props.validityStyles;\n  }, [props.validityStyles]);\n  var propsGetter = React.useCallback(function () {\n    return props;\n  }, [props]);\n  var getImperativeHandle = React.useCallback(function () {\n    var options = {\n      element: elementRef.current,\n      focus: focusElement\n    };\n    Object.defineProperty(options, 'name', {\n      get: nameGetter\n    });\n    Object.defineProperty(options, 'value', {\n      get: valueGetter\n    });\n    Object.defineProperty(options, 'validity', {\n      get: validityGetter\n    });\n    Object.defineProperty(options, 'validityStyles', {\n      get: validityStylesGetter\n    });\n    Object.defineProperty(options, 'required', {\n      get: requiredGetter\n    });\n    Object.defineProperty(options, 'props', {\n      get: propsGetter\n    });\n    return options;\n  }, [nameGetter, valueGetter, validityGetter, validityStylesGetter, requiredGetter, focusElement, propsGetter]);\n  React.useImperativeHandle(target, getImperativeHandle);\n  var onFocus = React.useCallback(function (event) {\n    if (focused || props.maximized) {\n      return;\n    }\n\n    setFocused(true);\n    dispatchEvent(props.onFocus, event, getImperativeHandle(), {});\n  }, [focused, props.onFocus, getImperativeHandle]);\n  var onBlur = React.useCallback(function (event) {\n    var insideWrapper = hasParent(event.relatedTarget, elementRef.current);\n\n    if (insideWrapper) {\n      return;\n    }\n\n    setFocused(false);\n    dispatchEvent(props.onBlur, event, getImperativeHandle(), {});\n  }, [focused, props.onBlur, getImperativeHandle]);\n  var onMaximizeClick = React.useCallback(function (event) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var _a;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = setPopupValue;\n            return [4\n            /*yield*/\n            , exportImage(popupSize())];\n\n          case 1:\n            _a.apply(void 0, [_b.sent()]);\n\n            setOpen(true);\n            dispatchEvent(props.onOpen, event, getImperativeHandle(), {});\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [open, isOpenControlled, props.onOpen, props.value, stateValue, getImperativeHandle]);\n  var onMinimizeClick = React.useCallback(function (event) {\n    setOpen(false);\n    dispatchEvent(props.onClose, event, getImperativeHandle(), {});\n  }, [open, isOpenControlled, props.onClose, getImperativeHandle]);\n\n  var onClear = function () {\n    reset();\n    focusElement();\n  };\n\n  var elementSize = function () {\n    var _a, _b;\n\n    var width = props.width || ((_a = elementRef.current) === null || _a === void 0 ? void 0 : _a.offsetWidth) || DEFAULT_WIDTH;\n    var height = props.height || ((_b = elementRef.current) === null || _b === void 0 ? void 0 : _b.offsetHeight) || DEFAULT_HEIGHT;\n    return {\n      width: width,\n      height: height\n    };\n  };\n\n  var popupSize = function () {\n    var _a = elementSize(),\n        width = _a.width,\n        height = _a.height;\n\n    var popupScale = props.popupScale || DEFAULT_POPUP_SCALE;\n    return {\n      width: width * popupScale,\n      height: height * popupScale\n    };\n  };\n\n  var isValid = !validityStylesGetter() || validityGetter().valid;\n  return React.createElement(\"div\", {\n    ref: elementRef,\n    dir: props.dir,\n    style: __assign({\n      width: props.width,\n      height: props.height\n    }, props.style),\n    className: classNames('k-input', 'k-signature', (_a = {\n      'k-signature-maximized': props.maximized\n    }, _a[\"k-signature-\".concat(kendoThemeMaps.sizeMap[props.size] || props.size)] = props.size, _a[\"k-input-\".concat(props.fillMode)] = props.fillMode, _a[\"k-rounded-\".concat(kendoThemeMaps.roundedMap[props.rounded] || props.rounded)] = props.rounded, _a['k-invalid'] = !isValid, _a['k-required'] = props.required, _a['k-disabled'] = props.disabled, _a['k-focus'] = focused, _a), props.className),\n    onFocus: onFocus,\n    onBlur: onBlur\n  }, React.createElement(\"div\", {\n    className: 'k-signature-actions k-signature-actions-top'\n  }, showMaximize && React.createElement(Button, {\n    className: 'k-signature-action k-signature-maximize',\n    icon: 'hyperlink-open',\n    shape: null,\n    fillMode: 'flat',\n    size: props.size,\n    onClick: onMaximizeClick,\n    \"aria-label\": maximizeTitle,\n    title: maximizeTitle\n  }), showMinimize && React.createElement(Button, {\n    className: 'k-signature-action k-signature-minimize',\n    icon: 'window-minimize',\n    shape: null,\n    fillMode: 'flat',\n    size: props.size,\n    onClick: onMinimizeClick,\n    \"aria-label\": minimizeTitle,\n    title: minimizeTitle\n  })), React.createElement(\"div\", {\n    className: 'k-signature-canvas',\n    ref: canvasRef,\n    tabIndex: getTabIndex(props.tabIndex, props.disabled),\n    role: \"img\",\n    id: props.id,\n    \"aria-label\": props.ariaLabel,\n    \"aria-labelledby\": props.ariaLabelledBy,\n    \"aria-describedby\": props.ariaDescribedBy,\n    \"aria-disabled\": props.disabled ? 'true' : undefined\n  }), !props.hideLine && React.createElement(\"div\", {\n    className: 'k-signature-line',\n    style: {\n      zIndex: 2,\n      pointerEvents: 'none'\n    }\n  }), React.createElement(\"div\", {\n    className: 'k-signature-actions k-signature-actions-bottom'\n  }, showClear && React.createElement(Button, {\n    className: 'k-signature-action k-signature-clear',\n    icon: 'close',\n    shape: null,\n    fillMode: 'flat',\n    size: props.size,\n    onClick: onClear,\n    \"aria-label\": clearTitle,\n    title: clearTitle\n  })), open && React.createElement(Dialog, {\n    ref: dialogRef\n  }, React.createElement(Signature, __assign({}, props, popupSize(), {\n    value: popupValue,\n    maximized: true,\n    open: false,\n    onChange: onDialogChange,\n    onClose: onDialogClose\n  }))));\n});\nSignature.propTypes = {\n  value: PropTypes.string,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  tabIndex: PropTypes.number,\n  dir: PropTypes.string,\n  ariaDescribedBy: PropTypes.string,\n  ariaLabelledBy: PropTypes.string,\n  ariaLabel: PropTypes.string,\n  readOnly: PropTypes.bool,\n  disabled: PropTypes.bool,\n  validationMessage: PropTypes.string,\n  required: PropTypes.bool,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  onOpen: PropTypes.func,\n  onClose: PropTypes.func,\n  size: PropTypes.oneOf([null, 'small', 'medium', 'large']),\n  rounded: PropTypes.oneOf([null, 'small', 'medium', 'large', 'full']),\n  fillMode: PropTypes.oneOf([null, 'solid', 'flat', 'outline'])\n};\nSignature.displayName = 'KendoSignature';\nSignature.defaultProps = {\n  color: '#000000',\n  backgroundColor: '#ffffff',\n  strokeWidth: 1,\n  smooth: false,\n  popupScale: DEFAULT_POPUP_SCALE,\n  exportScale: DEFAULT_EXPORT_SCALE,\n  maximizable: true,\n  disabled: false,\n  required: false,\n  validityStyles: true,\n  onChange: function (_) {\n    return noop;\n  },\n  onFocus: function (_) {\n    return noop;\n  },\n  onBlur: function (_) {\n    return noop;\n  },\n  onOpen: function (_) {\n    return noop;\n  },\n  onClose: function (_) {\n    return noop;\n  },\n  size: 'medium',\n  rounded: 'medium',\n  fillMode: 'solid'\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","SignaturePad","Button","classNames","createPropsContext","dispatchEvent","getTabIndex","kendoThemeMaps","noop","usePropsContext","validatePackage","Dialog","useLocalization","PropTypes","React","messages","signatureClear","signatureMaximize","signatureMinimize","packageMetadata","hasParent","DEFAULT_WIDTH","DEFAULT_HEIGHT","DEFAULT_POPUP_SCALE","DEFAULT_EXPORT_SCALE","isControlled","prop","undefined","SignaturePropsContext","Signature","forwardRef","directProps","target","_a","props","localizationService","elementRef","useRef","canvasRef","dialogRef","_b","useState","instance","setInstance","_c","focused","setFocused","_d","isDrawing","setIsDrawing","_e","stateValue","setStateValue","_f","popupValue","setPopupValue","isValueControlled","_g","stateOpen","setStateOpen","isOpenControlled","open","showMaximize","maximized","maximizable","disabled","showMinimize","isEmpty","showClear","readOnly","maximizeTitle","toLanguageString","minimizeTitle","clearTitle","onValueChange","nextValue","onChange","onDialogChange","loadImage","useEffect","reset","clear","setOpen","useCallback","nextOpen","onDialogClose","event","onMinimizeClick","focusElement","getOptions","scale","popupScale","color","backgroundColor","strokeWidth","smooth","readonly","exportImage","exportSize","width","height","exportScale","canvas","current","pad","destroy","setOptions","elementSize","onDraw","onDrawEnd","useLayoutEffect","overlay","element","querySelector","onOverlayClick","addEventListener","removeEventListener","focus","valueGetter","nameGetter","name","requiredGetter","required","validityGetter","customError","validationMessage","currentValue","valueMissing","valid","validityStylesGetter","validityStyles","propsGetter","getImperativeHandle","options","defineProperty","get","useImperativeHandle","onFocus","onBlur","insideWrapper","relatedTarget","onMaximizeClick","popupSize","onOpen","onClose","onClear","offsetWidth","offsetHeight","isValid","createElement","ref","dir","style","className","concat","sizeMap","size","fillMode","roundedMap","rounded","icon","shape","onClick","title","tabIndex","role","id","ariaLabel","ariaLabelledBy","ariaDescribedBy","hideLine","zIndex","pointerEvents","propTypes","string","number","bool","func","oneOf","displayName","defaultProps"],"sources":["C:/Users/asana/Documents/TEC/Semestre 5/Seguridad_Informatica/ModuloReact/Admin/frontend/node_modules/@progress/kendo-react-inputs/dist/es/signature/Signature.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { SignaturePad } from '@progress/kendo-inputs-common';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { classNames, createPropsContext, dispatchEvent, getTabIndex, kendoThemeMaps, noop, usePropsContext } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { Dialog } from '@progress/kendo-react-dialogs';\nimport { useLocalization } from '@progress/kendo-react-intl';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { messages, signatureClear, signatureMaximize, signatureMinimize } from '../messages';\nimport { packageMetadata } from '../package-metadata';\nimport { hasParent } from './utils';\nvar DEFAULT_WIDTH = 250;\nvar DEFAULT_HEIGHT = 84;\nvar DEFAULT_POPUP_SCALE = 3;\nvar DEFAULT_EXPORT_SCALE = 2;\n/**\n * @hidden\n */\nvar isControlled = function (prop) {\n    return prop !== undefined;\n};\n/**\n * Represents the PropsContext of the `Signature` component.\n * Used for global configuration of all `Signature` instances.\n *\n * For more information, refer to the [Inputs Props Context]({% slug props-context_inputs %}) article.\n */\nexport var SignaturePropsContext = createPropsContext();\n/**\n * Represents the [KendoReact Signature component]({% slug overview_signature %}).\n */\nexport var Signature = React.forwardRef(function (directProps, target) {\n    var _a;\n    validatePackage(packageMetadata);\n    var props = usePropsContext(SignaturePropsContext, directProps);\n    var localizationService = useLocalization();\n    var elementRef = React.useRef(null);\n    var canvasRef = React.useRef(null);\n    var dialogRef = React.useRef(null);\n    var _b = React.useState(), instance = _b[0], setInstance = _b[1];\n    var _c = React.useState(false), focused = _c[0], setFocused = _c[1];\n    var _d = React.useState(false), isDrawing = _d[0], setIsDrawing = _d[1];\n    var _e = React.useState(), stateValue = _e[0], setStateValue = _e[1];\n    var _f = React.useState(), popupValue = _f[0], setPopupValue = _f[1];\n    var isValueControlled = isControlled(props.value);\n    var value = isValueControlled ? props.value : stateValue;\n    var _g = React.useState(false), stateOpen = _g[0], setStateOpen = _g[1];\n    var isOpenControlled = isControlled(props.open);\n    var open = isOpenControlled ? props.open : stateOpen;\n    var showMaximize = !(props.maximized || isDrawing || !props.maximizable || props.disabled);\n    var showMinimize = props.maximized && !isDrawing;\n    var isEmpty = !(props.value || stateValue);\n    var showClear = !(isEmpty || isDrawing || props.readOnly || props.disabled);\n    var maximizeTitle = localizationService.toLanguageString(signatureMaximize, messages[signatureMaximize]);\n    var minimizeTitle = localizationService.toLanguageString(signatureMinimize, messages[signatureMinimize]);\n    var clearTitle = localizationService.toLanguageString(signatureClear, messages[signatureClear]);\n    var onValueChange = function (nextValue) {\n        setStateValue(nextValue);\n        if (props.onChange) {\n            props.onChange({ value: nextValue });\n        }\n    };\n    var onDialogChange = function (e) {\n        instance === null || instance === void 0 ? void 0 : instance.loadImage(e.value);\n        onValueChange(e.value);\n    };\n    React.useEffect(function () {\n        if (props.value !== stateValue) {\n            setStateValue(props.value);\n            instance === null || instance === void 0 ? void 0 : instance.loadImage(props.value);\n        }\n    }, [props.value]);\n    var reset = function () {\n        instance === null || instance === void 0 ? void 0 : instance.clear();\n        onValueChange();\n    };\n    var setOpen = React.useCallback(function (nextOpen) {\n        if (!isOpenControlled) {\n            setStateOpen(nextOpen);\n        }\n    }, [isOpenControlled]);\n    var onDialogClose = function (event) {\n        onMinimizeClick(event);\n        focusElement();\n    };\n    var getOptions = function () { return ({\n        scale: props.maximized ? props.popupScale : 1,\n        color: props.color,\n        backgroundColor: props.backgroundColor,\n        strokeWidth: props.strokeWidth,\n        smooth: props.smooth,\n        readonly: props.readOnly\n    }); };\n    var exportImage = function (exportSize) { return __awaiter(void 0, void 0, void 0, function () {\n        var width, height;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    width = exportSize.width, height = exportSize.height;\n                    return [4 /*yield*/, (instance === null || instance === void 0 ? void 0 : instance.exportImage({\n                            width: width * (props.exportScale || DEFAULT_EXPORT_SCALE),\n                            height: height * (props.exportScale || DEFAULT_EXPORT_SCALE)\n                        }))];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    React.useEffect(function () {\n        var canvas = canvasRef.current;\n        var pad = new SignaturePad(canvas, getOptions());\n        if (value) {\n            pad.loadImage(value);\n        }\n        setInstance(pad);\n        return function () { return pad.destroy(); };\n    }, []);\n    React.useEffect(function () {\n        instance === null || instance === void 0 ? void 0 : instance.setOptions({\n            onChange: function () { return __awaiter(void 0, void 0, void 0, function () { var _a; return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = onValueChange;\n                        return [4 /*yield*/, exportImage(elementSize())];\n                    case 1: return [2 /*return*/, _a.apply(void 0, [_b.sent()])];\n                }\n            }); }); },\n            onDraw: function () { return setIsDrawing(true); },\n            onDrawEnd: function () { return setIsDrawing(false); }\n        });\n    }, [instance]);\n    React.useLayoutEffect(function () { return instance === null || instance === void 0 ? void 0 : instance.setOptions(getOptions()); }, [props.readOnly, props.color, props.backgroundColor, props.strokeWidth, props.smooth]);\n    React.useEffect(function () {\n        var _a, _b;\n        var overlay = (_b = (_a = dialogRef.current) === null || _a === void 0 ? void 0 : _a.element) === null || _b === void 0 ? void 0 : _b.querySelector('.k-overlay');\n        if (!overlay) {\n            return;\n        }\n        var onOverlayClick = function () { return setOpen(false); };\n        overlay.addEventListener('click', onOverlayClick);\n        return function () {\n            return overlay.removeEventListener('click', onOverlayClick);\n        };\n    }, [open]);\n    var focusElement = React.useCallback(function () { var _a; return (_a = canvasRef.current) === null || _a === void 0 ? void 0 : _a.focus(); }, []);\n    var valueGetter = React.useCallback(function () { return props.value; }, [props.value]);\n    var nameGetter = React.useCallback(function () { return props.name; }, [props.name]);\n    var requiredGetter = React.useCallback(function () { return props.required; }, [props.required]);\n    var validityGetter = React.useCallback(function () {\n        var customError = props.validationMessage !== undefined;\n        var currentValue = valueGetter();\n        var valueMissing = !currentValue;\n        var valid = props.valid !== undefined ?\n            props.valid :\n            (!requiredGetter() || !valueMissing);\n        return {\n            customError: customError,\n            valid: valid,\n            valueMissing: valueMissing\n        };\n    }, [props.validationMessage, props.valid, valueGetter, requiredGetter]);\n    var validityStylesGetter = React.useCallback(function () {\n        return props.validityStyles;\n    }, [props.validityStyles]);\n    var propsGetter = React.useCallback(function () {\n        return props;\n    }, [props]);\n    var getImperativeHandle = React.useCallback(function () {\n        var options = {\n            element: elementRef.current,\n            focus: focusElement\n        };\n        Object.defineProperty(options, 'name', { get: nameGetter });\n        Object.defineProperty(options, 'value', { get: valueGetter });\n        Object.defineProperty(options, 'validity', { get: validityGetter });\n        Object.defineProperty(options, 'validityStyles', { get: validityStylesGetter });\n        Object.defineProperty(options, 'required', { get: requiredGetter });\n        Object.defineProperty(options, 'props', { get: propsGetter });\n        return options;\n    }, [nameGetter, valueGetter, validityGetter, validityStylesGetter, requiredGetter, focusElement, propsGetter]);\n    React.useImperativeHandle(target, getImperativeHandle);\n    var onFocus = React.useCallback(function (event) {\n        if (focused || props.maximized) {\n            return;\n        }\n        setFocused(true);\n        dispatchEvent(props.onFocus, event, getImperativeHandle(), {});\n    }, [focused, props.onFocus, getImperativeHandle]);\n    var onBlur = React.useCallback(function (event) {\n        var insideWrapper = hasParent(event.relatedTarget, elementRef.current);\n        if (insideWrapper) {\n            return;\n        }\n        setFocused(false);\n        dispatchEvent(props.onBlur, event, getImperativeHandle(), {});\n    }, [focused, props.onBlur, getImperativeHandle]);\n    var onMaximizeClick = React.useCallback(function (event) { return __awaiter(void 0, void 0, void 0, function () {\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _a = setPopupValue;\n                    return [4 /*yield*/, exportImage(popupSize())];\n                case 1:\n                    _a.apply(void 0, [_b.sent()]);\n                    setOpen(true);\n                    dispatchEvent(props.onOpen, event, getImperativeHandle(), {});\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [open, isOpenControlled, props.onOpen, props.value, stateValue, getImperativeHandle]);\n    var onMinimizeClick = React.useCallback(function (event) {\n        setOpen(false);\n        dispatchEvent(props.onClose, event, getImperativeHandle(), {});\n    }, [open, isOpenControlled, props.onClose, getImperativeHandle]);\n    var onClear = function () {\n        reset();\n        focusElement();\n    };\n    var elementSize = function () {\n        var _a, _b;\n        var width = props.width || ((_a = elementRef.current) === null || _a === void 0 ? void 0 : _a.offsetWidth) || DEFAULT_WIDTH;\n        var height = props.height || ((_b = elementRef.current) === null || _b === void 0 ? void 0 : _b.offsetHeight) || DEFAULT_HEIGHT;\n        return {\n            width: width,\n            height: height\n        };\n    };\n    var popupSize = function () {\n        var _a = elementSize(), width = _a.width, height = _a.height;\n        var popupScale = props.popupScale || DEFAULT_POPUP_SCALE;\n        return {\n            width: width * popupScale,\n            height: height * popupScale\n        };\n    };\n    var isValid = !validityStylesGetter() || validityGetter().valid;\n    return (React.createElement(\"div\", { ref: elementRef, dir: props.dir, style: __assign({ width: props.width, height: props.height }, props.style), className: classNames('k-input', 'k-signature', (_a = {\n                'k-signature-maximized': props.maximized\n            },\n            _a[\"k-signature-\".concat(kendoThemeMaps.sizeMap[props.size] || props.size)] = props.size,\n            _a[\"k-input-\".concat(props.fillMode)] = props.fillMode,\n            _a[\"k-rounded-\".concat(kendoThemeMaps.roundedMap[props.rounded] || props.rounded)] = props.rounded,\n            _a['k-invalid'] = !isValid,\n            _a['k-required'] = props.required,\n            _a['k-disabled'] = props.disabled,\n            _a['k-focus'] = focused,\n            _a), props.className), onFocus: onFocus, onBlur: onBlur },\n        React.createElement(\"div\", { className: 'k-signature-actions k-signature-actions-top' },\n            showMaximize && (React.createElement(Button, { className: 'k-signature-action k-signature-maximize', icon: 'hyperlink-open', shape: null, fillMode: 'flat', size: props.size, onClick: onMaximizeClick, \"aria-label\": maximizeTitle, title: maximizeTitle })),\n            showMinimize && (React.createElement(Button, { className: 'k-signature-action k-signature-minimize', icon: 'window-minimize', shape: null, fillMode: 'flat', size: props.size, onClick: onMinimizeClick, \"aria-label\": minimizeTitle, title: minimizeTitle }))),\n        React.createElement(\"div\", { className: 'k-signature-canvas', ref: canvasRef, tabIndex: getTabIndex(props.tabIndex, props.disabled), role: \"img\", id: props.id, \"aria-label\": props.ariaLabel, \"aria-labelledby\": props.ariaLabelledBy, \"aria-describedby\": props.ariaDescribedBy, \"aria-disabled\": props.disabled ? 'true' : undefined }),\n        !props.hideLine && (React.createElement(\"div\", { className: 'k-signature-line', style: { zIndex: 2, pointerEvents: 'none' } })),\n        React.createElement(\"div\", { className: 'k-signature-actions k-signature-actions-bottom' }, showClear && (React.createElement(Button, { className: 'k-signature-action k-signature-clear', icon: 'close', shape: null, fillMode: 'flat', size: props.size, onClick: onClear, \"aria-label\": clearTitle, title: clearTitle }))),\n        open && (React.createElement(Dialog, { ref: dialogRef },\n            React.createElement(Signature, __assign({}, props, popupSize(), { value: popupValue, maximized: true, open: false, onChange: onDialogChange, onClose: onDialogClose }))))));\n});\nSignature.propTypes = {\n    value: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    tabIndex: PropTypes.number,\n    dir: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaLabel: PropTypes.string,\n    readOnly: PropTypes.bool,\n    disabled: PropTypes.bool,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onOpen: PropTypes.func,\n    onClose: PropTypes.func,\n    size: PropTypes.oneOf([null, 'small', 'medium', 'large']),\n    rounded: PropTypes.oneOf([null, 'small', 'medium', 'large', 'full']),\n    fillMode: PropTypes.oneOf([null, 'solid', 'flat', 'outline'])\n};\nSignature.displayName = 'KendoSignature';\nSignature.defaultProps = {\n    color: '#000000',\n    backgroundColor: '#ffffff',\n    strokeWidth: 1,\n    smooth: false,\n    popupScale: DEFAULT_POPUP_SCALE,\n    exportScale: DEFAULT_EXPORT_SCALE,\n    maximizable: true,\n    disabled: false,\n    required: false,\n    validityStyles: true,\n    onChange: function (_) { return noop; },\n    onFocus: function (_) { return noop; },\n    onBlur: function (_) { return noop; },\n    onOpen: function (_) { return noop; },\n    onClose: function (_) { return noop; },\n    size: 'medium',\n    rounded: 'medium',\n    fillMode: 'solid'\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}