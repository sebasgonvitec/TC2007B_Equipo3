{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport { extendDataItem, getter, Keys, mapTree, hasRelativeStackingContext } from '@progress/kendo-react-common';\nimport { TABLE_COL_INDEX_ATTRIBUTE, TABLE_ROW_INDEX_ATTRIBUTE } from './constants';\nvar GROUP_SUBITEMS_COLLECTION = 'items';\nvar LAST_SELECTION_STATE = {};\n\nvar getCellSelection = function (currentSelection, selectedColumn) {\n  if (!currentSelection || Array.isArray(currentSelection) && currentSelection.length === 0) {\n    return [selectedColumn];\n  } else {\n    var foundIndex = currentSelection.findIndex(function (columnIndex) {\n      return columnIndex === selectedColumn;\n    });\n\n    if (foundIndex > -1) {\n      return currentSelection.filter(function (columnIndex) {\n        return columnIndex === selectedColumn;\n      });\n    } else {\n      return __spreadArray(__spreadArray([], currentSelection, true), [selectedColumn], false);\n    }\n  }\n};\n/** @hidden */\n\n\nexport var closestTagName = function (target, tagName) {\n  var currentTarget = target;\n\n  while (currentTarget) {\n    if (currentTarget.tagName === tagName) {\n      return currentTarget;\n    } else if (currentTarget.tagName === 'TABLE') {\n      return null;\n    }\n\n    currentTarget = currentTarget.parentElement;\n  }\n\n  return null;\n};\n/** @hidden */\n\nexport var getRowIndex = function (element) {\n  if (!element) {\n    return;\n  }\n\n  var rowIndex = element.getAttribute(TABLE_ROW_INDEX_ATTRIBUTE);\n  return rowIndex ? parseInt(rowIndex, 10) : undefined;\n};\n/** @hidden */\n\nexport var getColumnIndex = function (element) {\n  if (!element) {\n    return;\n  }\n\n  var colIndex = element.getAttribute(TABLE_COL_INDEX_ATTRIBUTE);\n  return colIndex ? parseInt(colIndex, 10) : undefined;\n};\n/**\n * @hidden\n *\n * Apply the selected field to the data items based on the selected state.\n *\n * @param {{data: any, selectedState:  {[id: string]: boolean | number[]}, dataItemKey: string; selectedField: string; subItemsField?: string; }} options\n * @returns {any[]}\n */\n\nexport var setSelectedState = function (options) {\n  var subItemsField = options.subItemsField || GROUP_SUBITEMS_COLLECTION;\n  var idGetter = getter(options.dataItemKey);\n  return mapTree(options.data, subItemsField, function (item) {\n    var _a;\n\n    return extendDataItem(item, subItemsField, (_a = {}, _a[options.selectedField] = options.selectedState[idGetter(item)], _a));\n  });\n};\n/**\n * Get selected state from the component KeyDown event.\n *\n * @param {{event: TableKeyDownEvent, selectedState:  {[id: string]: boolean | number[]}, dataItemKey: string}} options\n * @returns {{[id: string]: boolean | number[]}} - The new selected state.\n */\n\nexport var getSelectedStateFromKeyDown = function (options) {\n  var event = options.event,\n      dataItemKey = options.dataItemKey,\n      selectedState = options.selectedState;\n  var syntheticEvent = event.syntheticEvent,\n      nativeEvent = event.nativeEvent,\n      dataItems = event.dataItems,\n      componentId = event.componentId,\n      mode = event.mode,\n      cell = event.cell,\n      selectedField = event.selectedField;\n  var target = nativeEvent.target,\n      ctrlKey = nativeEvent.ctrlKey,\n      metaKey = nativeEvent.metaKey,\n      altKey = nativeEvent.altKey,\n      shiftKey = nativeEvent.shiftKey;\n\n  if (syntheticEvent.isDefaultPrevented() || nativeEvent.keyCode !== Keys.enter) {\n    return selectedState;\n  }\n\n  var tdElement = closestTagName(target, 'TD');\n  var trElement = closestTagName(target, 'TR');\n  var colIndex = getColumnIndex(tdElement);\n  var rowIndex = getRowIndex(trElement);\n  var selectionState = {};\n\n  if (tdElement && trElement && rowIndex !== undefined && colIndex !== undefined) {\n    selectionState = getSelectedState({\n      selectedState: selectedState,\n      dataItemKey: dataItemKey,\n      event: {\n        ctrlKey: ctrlKey,\n        metaKey: metaKey,\n        altKey: altKey,\n        shiftKey: shiftKey,\n        dataItems: dataItems,\n        cell: cell,\n        mode: mode,\n        selectedField: selectedField,\n        componentId: componentId,\n        startColIndex: colIndex,\n        endColIndex: colIndex,\n        startRowIndex: rowIndex,\n        endRowIndex: rowIndex,\n        isDrag: false,\n        syntheticEvent: syntheticEvent,\n        nativeEvent: nativeEvent,\n        target: event.target,\n        dataItem: null\n      }\n    });\n  }\n\n  return selectionState;\n};\n/**\n * Get selected state from the component selection event.\n *\n * @param {{event: TableSelectionChangeEvent, selectedState:  {[id: string]: boolean | number[]}, dataItemKey: string}} options\n * @returns {{[id: string]: boolean | number[]}} - The new selected state.\n */\n\nexport var getSelectedState = function (options) {\n  var event = options.event,\n      dataItemKey = options.dataItemKey,\n      prevSelectedState = options.selectedState;\n  var dataItems = event.dataItems,\n      startRowIndex = event.startRowIndex,\n      endRowIndex = event.endRowIndex,\n      startColIndex = event.startColIndex,\n      endColIndex = event.endColIndex,\n      cell = event.cell,\n      isDrag = event.isDrag,\n      ctrlKey = event.ctrlKey,\n      shiftKey = event.shiftKey,\n      metaKey = event.metaKey,\n      componentId = event.componentId,\n      mode = event.mode,\n      dataItem = event.dataItem;\n  var idGetter = getter(dataItemKey);\n  var selectionState = {};\n  var isInputEvent = dataItem !== null;\n\n  if (mode === 'single') {\n    var currentDataItem = dataItems.slice(startRowIndex, startRowIndex + 1)[0];\n    var itemId = idGetter(currentDataItem);\n    LAST_SELECTION_STATE[componentId] = {\n      rowIndex: startRowIndex,\n      colIndex: startColIndex\n    };\n    selectionState[itemId] = cell ? [startColIndex] : true;\n  } else if (isDrag || !shiftKey && !ctrlKey && !metaKey && !isInputEvent) {\n    if (!isDrag) {\n      LAST_SELECTION_STATE[componentId] = {\n        rowIndex: startRowIndex,\n        colIndex: startColIndex\n      };\n    }\n\n    var selectedColumns_1 = [];\n\n    for (var i = startColIndex; i <= endColIndex; i++) {\n      selectedColumns_1.push(i);\n    }\n\n    var selectedDataItems = dataItems.slice(startRowIndex, endRowIndex + 1);\n    selectedDataItems.forEach(function (currentItem) {\n      var itemId = idGetter(currentItem);\n      selectionState[itemId] = cell ? __spreadArray([], selectedColumns_1, true) : true;\n    });\n  } else {\n    if (ctrlKey || metaKey || isInputEvent) {\n      LAST_SELECTION_STATE[componentId] = {\n        rowIndex: startRowIndex,\n        colIndex: startColIndex\n      };\n      var selectedDataItems = dataItems.slice(startRowIndex, endRowIndex + 1);\n      var currentDataItem = selectedDataItems[0];\n      var itemId = idGetter(currentDataItem);\n      selectionState = __assign({}, prevSelectedState);\n      selectionState[itemId] = cell && !isInputEvent ? getCellSelection(selectionState[itemId], startColIndex) : !selectionState[itemId];\n    } else if (shiftKey) {\n      var lastRowIndex = LAST_SELECTION_STATE[componentId] && LAST_SELECTION_STATE[componentId].rowIndex || 0;\n      var lastColIndex = LAST_SELECTION_STATE[componentId] && LAST_SELECTION_STATE[componentId].colIndex || 0;\n      var currentStartRowIndex = Math.min(lastRowIndex, startRowIndex, endRowIndex);\n      var currentEndRowIndex = Math.max(lastRowIndex, startRowIndex, endRowIndex);\n      var currentStarColIndex = Math.min(lastColIndex, startColIndex, endColIndex);\n      var currentEndColIndex = Math.max(lastColIndex, startColIndex, endColIndex);\n      var selectedColumns_2 = [];\n\n      for (var i = currentStarColIndex; i <= currentEndColIndex; i++) {\n        selectedColumns_2.push(i);\n      }\n\n      var selectedDataItems = dataItems.slice(currentStartRowIndex, currentEndRowIndex + 1);\n      selectedDataItems.forEach(function (currentItem) {\n        var itemId = idGetter(currentItem);\n        selectionState[itemId] = cell ? __spreadArray([], selectedColumns_2, true) : true;\n      });\n    }\n  }\n\n  return selectionState;\n};\n/** @hidden */\n\nvar HAS_RELATIVE_STACKING_CONTEXT = hasRelativeStackingContext();\n/** @hidden */\n\nexport var relativeContextElement = function (element) {\n  if (!element || !HAS_RELATIVE_STACKING_CONTEXT) {\n    return null;\n  }\n\n  var node = element.parentElement;\n\n  while (node) {\n    if (window.getComputedStyle(node).transform !== 'none') {\n      return node;\n    }\n\n    node = node.parentElement;\n  }\n};\n/** @hidden */\n\nexport var getOffset = function (offsetParent) {\n  if (offsetParent && offsetParent.ownerDocument) {\n    if (offsetParent !== offsetParent.ownerDocument.body) {\n      var rect = offsetParent.getBoundingClientRect();\n      return {\n        left: rect.left - offsetParent.scrollLeft,\n        top: rect.top - offsetParent.scrollTop\n      };\n    }\n  }\n\n  return {\n    left: 0,\n    top: 0\n  };\n};\n/** @hidden */\n\nexport var getSelectionOptions = function (selectable) {\n  var enabled = selectable ? typeof selectable.enabled === 'boolean' ? selectable.enabled : true : false;\n  var drag = selectable ? Boolean(selectable.drag) : false;\n  var mode = selectable && selectable.mode ? selectable.mode : 'multiple';\n  var cell = Boolean(selectable && selectable.cell);\n  return {\n    enabled: enabled,\n    drag: drag,\n    mode: mode,\n    cell: cell\n  };\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArray","to","from","pack","l","ar","Array","slice","concat","extendDataItem","getter","Keys","mapTree","hasRelativeStackingContext","TABLE_COL_INDEX_ATTRIBUTE","TABLE_ROW_INDEX_ATTRIBUTE","GROUP_SUBITEMS_COLLECTION","LAST_SELECTION_STATE","getCellSelection","currentSelection","selectedColumn","isArray","foundIndex","findIndex","columnIndex","filter","closestTagName","target","tagName","currentTarget","parentElement","getRowIndex","element","rowIndex","getAttribute","parseInt","undefined","getColumnIndex","colIndex","setSelectedState","options","subItemsField","idGetter","dataItemKey","data","item","_a","selectedField","selectedState","getSelectedStateFromKeyDown","event","syntheticEvent","nativeEvent","dataItems","componentId","mode","cell","ctrlKey","metaKey","altKey","shiftKey","isDefaultPrevented","keyCode","enter","tdElement","trElement","selectionState","getSelectedState","startColIndex","endColIndex","startRowIndex","endRowIndex","isDrag","dataItem","prevSelectedState","isInputEvent","currentDataItem","itemId","selectedColumns_1","push","selectedDataItems","forEach","currentItem","lastRowIndex","lastColIndex","currentStartRowIndex","Math","min","currentEndRowIndex","max","currentStarColIndex","currentEndColIndex","selectedColumns_2","HAS_RELATIVE_STACKING_CONTEXT","relativeContextElement","node","window","getComputedStyle","transform","getOffset","offsetParent","ownerDocument","body","rect","getBoundingClientRect","left","scrollLeft","top","scrollTop","getSelectionOptions","selectable","enabled","drag","Boolean"],"sources":["C:/Users/asana/Documents/TEC/Semestre 5/Seguridad_Informatica/ModuloReact/demo/frontend/node_modules/@progress/kendo-react-data-tools/dist/es/selection/utils.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { extendDataItem, getter, Keys, mapTree, hasRelativeStackingContext } from '@progress/kendo-react-common';\nimport { TABLE_COL_INDEX_ATTRIBUTE, TABLE_ROW_INDEX_ATTRIBUTE } from './constants';\nvar GROUP_SUBITEMS_COLLECTION = 'items';\nvar LAST_SELECTION_STATE = {};\nvar getCellSelection = function (currentSelection, selectedColumn) {\n    if (!currentSelection || (Array.isArray(currentSelection) && currentSelection.length === 0)) {\n        return [selectedColumn];\n    }\n    else {\n        var foundIndex = currentSelection.findIndex(function (columnIndex) { return columnIndex === selectedColumn; });\n        if (foundIndex > -1) {\n            return currentSelection.filter(function (columnIndex) { return columnIndex === selectedColumn; });\n        }\n        else {\n            return __spreadArray(__spreadArray([], currentSelection, true), [selectedColumn], false);\n        }\n    }\n};\n/** @hidden */\nexport var closestTagName = function (target, tagName) {\n    var currentTarget = target;\n    while (currentTarget) {\n        if (currentTarget.tagName === tagName) {\n            return currentTarget;\n        }\n        else if (currentTarget.tagName === 'TABLE') {\n            return null;\n        }\n        currentTarget = currentTarget.parentElement;\n    }\n    return null;\n};\n/** @hidden */\nexport var getRowIndex = function (element) {\n    if (!element) {\n        return;\n    }\n    var rowIndex = element.getAttribute(TABLE_ROW_INDEX_ATTRIBUTE);\n    return rowIndex ? parseInt(rowIndex, 10) : undefined;\n};\n/** @hidden */\nexport var getColumnIndex = function (element) {\n    if (!element) {\n        return;\n    }\n    var colIndex = element.getAttribute(TABLE_COL_INDEX_ATTRIBUTE);\n    return colIndex ? parseInt(colIndex, 10) : undefined;\n};\n/**\n * @hidden\n *\n * Apply the selected field to the data items based on the selected state.\n *\n * @param {{data: any, selectedState:  {[id: string]: boolean | number[]}, dataItemKey: string; selectedField: string; subItemsField?: string; }} options\n * @returns {any[]}\n */\nexport var setSelectedState = function (options) {\n    var subItemsField = options.subItemsField || GROUP_SUBITEMS_COLLECTION;\n    var idGetter = getter(options.dataItemKey);\n    return mapTree(options.data, subItemsField, function (item) {\n        var _a;\n        return extendDataItem(item, subItemsField, (_a = {},\n            _a[options.selectedField] = options.selectedState[idGetter(item)],\n            _a));\n    });\n};\n/**\n * Get selected state from the component KeyDown event.\n *\n * @param {{event: TableKeyDownEvent, selectedState:  {[id: string]: boolean | number[]}, dataItemKey: string}} options\n * @returns {{[id: string]: boolean | number[]}} - The new selected state.\n */\nexport var getSelectedStateFromKeyDown = function (options) {\n    var event = options.event, dataItemKey = options.dataItemKey, selectedState = options.selectedState;\n    var syntheticEvent = event.syntheticEvent, nativeEvent = event.nativeEvent, dataItems = event.dataItems, componentId = event.componentId, mode = event.mode, cell = event.cell, selectedField = event.selectedField;\n    var target = nativeEvent.target, ctrlKey = nativeEvent.ctrlKey, metaKey = nativeEvent.metaKey, altKey = nativeEvent.altKey, shiftKey = nativeEvent.shiftKey;\n    if (syntheticEvent.isDefaultPrevented() || nativeEvent.keyCode !== Keys.enter) {\n        return selectedState;\n    }\n    var tdElement = closestTagName(target, 'TD');\n    var trElement = closestTagName(target, 'TR');\n    var colIndex = getColumnIndex(tdElement);\n    var rowIndex = getRowIndex(trElement);\n    var selectionState = {};\n    if (tdElement && trElement && rowIndex !== undefined && colIndex !== undefined) {\n        selectionState = getSelectedState({\n            selectedState: selectedState,\n            dataItemKey: dataItemKey,\n            event: {\n                ctrlKey: ctrlKey,\n                metaKey: metaKey,\n                altKey: altKey,\n                shiftKey: shiftKey,\n                dataItems: dataItems,\n                cell: cell,\n                mode: mode,\n                selectedField: selectedField,\n                componentId: componentId,\n                startColIndex: colIndex, endColIndex: colIndex, startRowIndex: rowIndex, endRowIndex: rowIndex,\n                isDrag: false,\n                syntheticEvent: syntheticEvent,\n                nativeEvent: nativeEvent,\n                target: event.target,\n                dataItem: null\n            }\n        });\n    }\n    return selectionState;\n};\n/**\n * Get selected state from the component selection event.\n *\n * @param {{event: TableSelectionChangeEvent, selectedState:  {[id: string]: boolean | number[]}, dataItemKey: string}} options\n * @returns {{[id: string]: boolean | number[]}} - The new selected state.\n */\nexport var getSelectedState = function (options) {\n    var event = options.event, dataItemKey = options.dataItemKey, prevSelectedState = options.selectedState;\n    var dataItems = event.dataItems, startRowIndex = event.startRowIndex, endRowIndex = event.endRowIndex, startColIndex = event.startColIndex, endColIndex = event.endColIndex, cell = event.cell, isDrag = event.isDrag, ctrlKey = event.ctrlKey, shiftKey = event.shiftKey, metaKey = event.metaKey, componentId = event.componentId, mode = event.mode, dataItem = event.dataItem;\n    var idGetter = getter(dataItemKey);\n    var selectionState = {};\n    var isInputEvent = dataItem !== null;\n    if (mode === 'single') {\n        var currentDataItem = dataItems.slice(startRowIndex, startRowIndex + 1)[0];\n        var itemId = idGetter(currentDataItem);\n        LAST_SELECTION_STATE[componentId] = {\n            rowIndex: startRowIndex,\n            colIndex: startColIndex\n        };\n        selectionState[itemId] = cell ? [startColIndex] : true;\n    }\n    else if (isDrag || (!shiftKey && !ctrlKey && !metaKey && !isInputEvent)) {\n        if (!isDrag) {\n            LAST_SELECTION_STATE[componentId] = {\n                rowIndex: startRowIndex,\n                colIndex: startColIndex\n            };\n        }\n        var selectedColumns_1 = [];\n        for (var i = startColIndex; i <= endColIndex; i++) {\n            selectedColumns_1.push(i);\n        }\n        var selectedDataItems = dataItems.slice(startRowIndex, endRowIndex + 1);\n        selectedDataItems.forEach(function (currentItem) {\n            var itemId = idGetter(currentItem);\n            selectionState[itemId] = cell ? __spreadArray([], selectedColumns_1, true) : true;\n        });\n    }\n    else {\n        if (ctrlKey || metaKey || isInputEvent) {\n            LAST_SELECTION_STATE[componentId] = {\n                rowIndex: startRowIndex,\n                colIndex: startColIndex\n            };\n            var selectedDataItems = dataItems.slice(startRowIndex, endRowIndex + 1);\n            var currentDataItem = selectedDataItems[0];\n            var itemId = idGetter(currentDataItem);\n            selectionState = __assign({}, prevSelectedState);\n            selectionState[itemId] = cell && !isInputEvent ? getCellSelection(selectionState[itemId], startColIndex) : !selectionState[itemId];\n        }\n        else if (shiftKey) {\n            var lastRowIndex = (LAST_SELECTION_STATE[componentId] && LAST_SELECTION_STATE[componentId].rowIndex) || 0;\n            var lastColIndex = (LAST_SELECTION_STATE[componentId] && LAST_SELECTION_STATE[componentId].colIndex) || 0;\n            var currentStartRowIndex = Math.min(lastRowIndex, startRowIndex, endRowIndex);\n            var currentEndRowIndex = Math.max(lastRowIndex, startRowIndex, endRowIndex);\n            var currentStarColIndex = Math.min(lastColIndex, startColIndex, endColIndex);\n            var currentEndColIndex = Math.max(lastColIndex, startColIndex, endColIndex);\n            var selectedColumns_2 = [];\n            for (var i = currentStarColIndex; i <= currentEndColIndex; i++) {\n                selectedColumns_2.push(i);\n            }\n            var selectedDataItems = dataItems.slice(currentStartRowIndex, currentEndRowIndex + 1);\n            selectedDataItems.forEach(function (currentItem) {\n                var itemId = idGetter(currentItem);\n                selectionState[itemId] = cell ? __spreadArray([], selectedColumns_2, true) : true;\n            });\n        }\n    }\n    return selectionState;\n};\n/** @hidden */\nvar HAS_RELATIVE_STACKING_CONTEXT = hasRelativeStackingContext();\n/** @hidden */\nexport var relativeContextElement = function (element) {\n    if (!element || !HAS_RELATIVE_STACKING_CONTEXT) {\n        return null;\n    }\n    var node = element.parentElement;\n    while (node) {\n        if (window.getComputedStyle(node).transform !== 'none') {\n            return node;\n        }\n        node = node.parentElement;\n    }\n};\n/** @hidden */\nexport var getOffset = function (offsetParent) {\n    if (offsetParent && offsetParent.ownerDocument) {\n        if (offsetParent !== offsetParent.ownerDocument.body) {\n            var rect = offsetParent.getBoundingClientRect();\n            return {\n                left: rect.left - offsetParent.scrollLeft,\n                top: rect.top - offsetParent.scrollTop\n            };\n        }\n    }\n    return { left: 0, top: 0 };\n};\n/** @hidden */\nexport var getSelectionOptions = function (selectable) {\n    var enabled = selectable ?\n        (typeof selectable.enabled === 'boolean' ? selectable.enabled : true) :\n        false;\n    var drag = selectable ? Boolean(selectable.drag) : false;\n    var mode = selectable && selectable.mode ? selectable.mode : 'multiple';\n    var cell = Boolean(selectable && selectable.cell);\n    return { enabled: enabled, drag: drag, mode: mode, cell: cell };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}