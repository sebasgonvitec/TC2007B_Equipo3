{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, guid, createPropsContext, kendoThemeMaps, withPropsContext } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport ListContainer from '../common/ListContainer';\nimport List from '../common/List';\nimport TagList from './TagList';\nimport SearchBar from '../common/SearchBar';\nimport DropDownBase from '../common/DropDownBase';\nimport { ActiveDescendant } from './../common/settings';\nimport { itemIndexStartsWith, getItemValue, areSame, removeDataItems, isPresent, preventDefaultNonInputs, matchTags } from '../common/utils';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport ClearButton from '../common/ClearButton';\nvar sizeMap = kendoThemeMaps.sizeMap,\n    roundedMap = kendoThemeMaps.roundedMap;\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\n\nvar preventDefault = function (event) {\n  return event.preventDefault();\n};\n\nvar isCustom = function (type) {\n  return type === FocusedItemType.CustomItem;\n};\n\nvar FocusedItemType;\n\n(function (FocusedItemType) {\n  FocusedItemType[FocusedItemType[\"None\"] = 0] = \"None\";\n  FocusedItemType[FocusedItemType[\"ListItem\"] = 1] = \"ListItem\";\n  FocusedItemType[FocusedItemType[\"CustomItem\"] = 2] = \"CustomItem\";\n})(FocusedItemType || (FocusedItemType = {}));\n/** @hidden */\n\n\nvar MultiSelectWithoutContext =\n/** @class */\nfunction (_super) {\n  __extends(MultiSelectWithoutContext, _super);\n\n  function MultiSelectWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.state = {\n      activedescendant: ActiveDescendant.PopupList\n    };\n    _this._element = null;\n    _this._valueItemsDuringOnChange = null;\n    _this._inputId = guid();\n    _this.base = new DropDownBase(_this);\n    _this._tags = [];\n    _this._input = null;\n    _this._skipFocusEvent = false;\n    _this.scrollToFocused = false;\n    /**\n     * @hidden\n     */\n\n    _this.focus = function () {\n      if (_this._input) {\n        _this._input.focus();\n      }\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.handleItemSelect = function (index, state) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          dataItemKey = _a.dataItemKey,\n          virtual = _a.virtual;\n      var skip = virtual ? virtual.skip : 0;\n      var dataItem = data[index - skip];\n\n      var indexInValue = _this.value.findIndex(function (i) {\n        return areSame(i, dataItem, dataItemKey);\n      });\n\n      var newItems = [];\n\n      if (indexInValue !== -1) {\n        // item is already selected\n        newItems = _this.value;\n        newItems.splice(indexInValue, 1);\n      } else {\n        newItems = __spreadArray(__spreadArray([], _this.value, true), [dataItem], false);\n      }\n\n      var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n\n      if (text) {\n        if (_this.state.text) {\n          state.data.text = '';\n        }\n\n        _this.base.filterChanged('', state);\n      }\n\n      if (_this.state.focusedIndex !== undefined) {\n        state.data.focusedIndex = undefined;\n      }\n\n      _this.triggerOnChange(newItems, state);\n\n      _this.base.triggerPageChangeCornerItems(dataItem, state);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onTagDelete = function (itemsToRemove, event) {\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (opened) {\n        _this.base.togglePopup(state);\n      }\n\n      if (!_this.state.focused) {\n        state.data.focused = true;\n\n        _this.focus();\n      }\n\n      var selected = _this.value;\n      removeDataItems(selected, itemsToRemove, _this.props.dataItemKey);\n\n      _this.triggerOnChange(selected, state);\n\n      _this.applyState(state);\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.itemFocus = function (index, state) {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          allowCustom = _a.allowCustom,\n          virtual = _a.virtual;\n      var skip = virtual ? virtual.skip : 0;\n      var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n\n      var focusedIndex = _this.getFocusedState().focusedIndex;\n\n      var customItem = allowCustom && text;\n      var nextFocusedItem = data[index - skip];\n\n      if (nextFocusedItem && focusedIndex !== index) {\n        if (_this.state.focusedIndex !== index) {\n          state.data.focusedIndex = index;\n          state.data.activedescendant = ActiveDescendant.PopupList;\n        }\n      } else if (customItem && index === -1) {\n        if (_this.state.focusedIndex !== undefined) {\n          state.data.focusedIndex = undefined;\n        }\n      }\n\n      _this.base.triggerPageChangeCornerItems(nextFocusedItem, state);\n    };\n\n    _this.componentRef = function (element) {\n      _this._element = element;\n      _this.base.wrapper = element;\n    };\n\n    _this.searchbarRef = function (searchbar) {\n      var input = _this._input = searchbar && searchbar.input;\n\n      if (input && _this.state.focused) {\n        window.setTimeout(function () {\n          return input.focus();\n        }, 0);\n      }\n    };\n\n    _this.onChangeHandler = function (event) {\n      var state = _this.base.initState();\n\n      var value = event.currentTarget.value;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      state.syntheticEvent = event;\n\n      if (_this.props.filter === undefined) {\n        state.data.text = value;\n      }\n\n      state.data.focusedIndex = undefined;\n\n      if (!opened) {\n        _this.base.togglePopup(state);\n      }\n\n      _this.base.filterChanged(value, state);\n\n      _this.applyState(state);\n    };\n\n    _this.clearButtonClick = function (event) {\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n      event.stopPropagation();\n\n      if (_this.value.length > 0) {\n        _this.triggerOnChange([], state);\n      }\n\n      if (_this.state.focusedIndex !== undefined) {\n        state.data.focusedIndex = undefined;\n      }\n\n      if (opened) {\n        _this.base.togglePopup(state);\n      }\n\n      var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n\n      if (isPresent(text) && text !== '') {\n        _this.base.filterChanged('', state);\n      }\n\n      if (_this.state.text) {\n        state.data.text = '';\n      }\n\n      _this.applyState(state);\n    };\n\n    _this.onInputKeyDown = function (event) {\n      var keyCode = event.keyCode;\n      var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var focusedItem = _this.getFocusedState().focusedItem;\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (!text && _this.value.length > 0 && (keyCode === Keys.left || keyCode === Keys.right || keyCode === Keys.home || keyCode === Keys.end || keyCode === Keys.delete || keyCode === Keys.backspace)) {\n        return _this.onTagsNavigate(event, state);\n      }\n\n      var togglePopup = function () {\n        event.preventDefault();\n\n        _this.base.togglePopup(state);\n\n        _this.applyState(state);\n      };\n\n      if (opened) {\n        if (event.altKey && keyCode === Keys.up) {\n          togglePopup();\n        } else if (keyCode === Keys.up || keyCode === Keys.down) {\n          event.preventDefault();\n\n          _this.onNavigate(state, keyCode);\n        } else if (keyCode === Keys.enter) {\n          event.preventDefault();\n\n          if (_this.props.allowCustom && text && focusedItem === null) {\n            _this.customItemSelect(event);\n          } else {\n            _this.selectFocusedItem(event);\n          }\n        } else if (keyCode === Keys.esc) {\n          togglePopup();\n        }\n      } else if (event.altKey && keyCode === Keys.down) {\n        togglePopup();\n      }\n    };\n\n    _this.renderListContainer = function () {\n      var _a, _b;\n\n      var base = _this.base;\n      var _c = _this.props,\n          header = _c.header,\n          footer = _c.footer,\n          allowCustom = _c.allowCustom,\n          dir = _c.dir,\n          _d = _c.data,\n          data = _d === void 0 ? [] : _d,\n          size = _c.size;\n\n      var popupSettings = _this.base.getPopupSettings();\n\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n      var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n      var listContainerProps = {\n        dir: dir !== undefined ? dir : base.dirCalculated,\n        width: popupWidth,\n        popupSettings: {\n          popupClass: classNames(popupSettings.popupClass, 'k-list-container'),\n          className: popupSettings.className,\n          animate: popupSettings.animate,\n          anchor: _this.element,\n          show: opened,\n          onOpen: _this.onPopupOpened,\n          onClose: _this.onPopupClosed,\n          appendTo: popupSettings.appendTo\n        },\n        itemsCount: [data.length, _this.value.length]\n      };\n\n      var focusedType = _this.getFocusedState().focusedType;\n\n      var customItem = allowCustom && text && React.createElement(\"div\", {\n        className: classNames('k-list', (_a = {}, _a[\"k-list-\".concat(sizeMap[size] || size)] = size, _a)),\n        key: \"customitem\",\n        onClick: _this.customItemSelect,\n        onMouseDown: preventDefault\n      }, React.createElement(\"div\", {\n        className: classNames('k-list-item k-custom-item', {\n          'k-focus': isCustom(focusedType)\n        }),\n        style: {\n          fontStyle: 'italic'\n        }\n      }, text, React.createElement(\"span\", {\n        className: \"k-icon k-i-plus\",\n        style: {\n          position: 'absolute',\n          right: '0.5em'\n        }\n      })));\n      return React.createElement(ListContainer, __assign({}, listContainerProps), header && React.createElement(\"div\", {\n        className: \"k-list-header\"\n      }, header), customItem, React.createElement(\"div\", {\n        className: classNames('k-list', (_b = {}, _b[\"k-list-\".concat(sizeMap[size] || size)] = size, _b['k-virtual-list'] = _this.base.vs.enabled, _b))\n      }, _this.renderList()), footer && React.createElement(\"div\", {\n        className: \"k-list-footer\"\n      }, footer));\n    };\n\n    _this.renderList = function () {\n      var _a = _this.props,\n          _b = _a.data,\n          data = _b === void 0 ? [] : _b,\n          textField = _a.textField,\n          listNoDataRender = _a.listNoDataRender,\n          itemRender = _a.itemRender,\n          dataItemKey = _a.dataItemKey,\n          virtual = _a.virtual;\n      var vs = _this.base.vs;\n      var skip = virtual ? virtual.skip : 0;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var focusedIndex = _this.getFocusedState().focusedIndex;\n\n      var popupSettings = _this.base.getPopupSettings();\n\n      var translate = \"translateY(\".concat(vs.translate, \"px)\");\n      return React.createElement(List, {\n        id: _this.base.listBoxId,\n        show: opened,\n        data: data.slice(),\n        focusedIndex: focusedIndex - skip,\n        value: _this.value,\n        textField: textField,\n        valueField: dataItemKey,\n        optionsGuid: _this.base.guid,\n        listRef: function (list) {\n          vs.list = _this.base.list = list;\n        },\n        wrapperStyle: {\n          maxHeight: popupSettings.height\n        },\n        wrapperCssClass: \"k-list-content\",\n        listStyle: vs.enabled ? {\n          transform: translate\n        } : undefined,\n        key: \"listKey\",\n        skip: skip,\n        onClick: _this.handleItemClick,\n        itemRender: itemRender,\n        noDataRender: listNoDataRender,\n        onMouseDown: preventDefault,\n        onBlur: _this.handleBlur,\n        onScroll: function (e) {\n          vs.scrollHandler(e);\n        },\n        wrapperRef: vs.scrollerRef,\n        scroller: _this.base.renderScrollElement()\n      });\n    };\n\n    _this.customItemSelect = function (event) {\n      var _a;\n\n      var itemText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n      var textField = _this.props.textField;\n\n      if (!itemText) {\n        return;\n      }\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n      var item = textField ? (_a = {}, _a[textField] = itemText, _a) : itemText;\n\n      if (_this.state.text !== undefined) {\n        state.data.text = '';\n      }\n\n      state.data.focusedIndex = undefined;\n\n      _this.base.filterChanged('', state);\n\n      var newItems = __spreadArray(__spreadArray([], _this.value, true), [item], false);\n\n      _this.triggerOnChange(newItems, state);\n\n      _this.base.togglePopup(state);\n\n      _this.applyState(state);\n    };\n\n    _this.handleWrapperClick = function (event) {\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var input = _this._input;\n\n      if (!opened && input) {\n        _this.focusElement(input);\n      }\n\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      if (!_this.state.focused) {\n        state.events.push({\n          type: 'onFocus'\n        });\n        state.data.focused = true;\n      }\n\n      _this.base.togglePopup(state);\n\n      _this.applyState(state);\n    };\n\n    _this.handleItemClick = function (index, event) {\n      var state = _this.base.initState();\n\n      state.syntheticEvent = event;\n\n      _this.handleItemSelect(index, state);\n\n      if (_this.props.autoClose) {\n        _this.base.togglePopup(state);\n      }\n\n      event.stopPropagation();\n\n      _this.applyState(state);\n    };\n\n    _this.handleBlur = function (event) {\n      if (!_this.state.focused || _this._skipFocusEvent) {\n        return;\n      }\n\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n\n      var state = _this.base.initState();\n\n      var _a = _this.props,\n          allowCustom = _a.allowCustom,\n          filterable = _a.filterable;\n      state.syntheticEvent = event;\n      state.data.focused = false;\n      state.events.push({\n        type: 'onBlur'\n      });\n\n      if (opened) {\n        if (_this.state.opened) {\n          state.data.opened = false;\n        }\n\n        state.events.push({\n          type: 'onClose'\n        });\n      }\n\n      if (!allowCustom && !filterable && _this.state.text) {\n        state.data.text = '';\n      }\n\n      _this.applyState(state);\n    };\n\n    _this.handleFocus = function (event) {\n      if (_this._skipFocusEvent) {\n        return;\n      }\n\n      _this.base.handleFocus(event);\n    };\n\n    _this.onPopupOpened = function () {\n      if (_this._input && _this.state.focused) {\n        _this.focusElement(_this._input);\n      }\n    };\n\n    _this.onPopupClosed = function () {\n      if (_this.state.focused) {\n        window.setTimeout(function () {\n          if (_this.state.focused) {\n            _this.focusElement(_this._input);\n          }\n        }, 0);\n      }\n    };\n\n    _this.setValidity = function () {\n      if (_this._input && _this._input.setCustomValidity) {\n        _this._input.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || VALIDATION_MESSAGE);\n      }\n    };\n\n    validatePackage(packageMetadata);\n    return _this;\n  }\n\n  Object.defineProperty(MultiSelectWithoutContext.prototype, \"element\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MultiSelectWithoutContext.prototype, \"value\", {\n    /**\n     * Represents the value of the MultiSelect.\n     */\n    get: function () {\n      var result = [];\n\n      if (this._valueItemsDuringOnChange) {\n        result.push.apply(result, this._valueItemsDuringOnChange);\n      } else if (this.props.value) {\n        result.push.apply(result, this.props.value);\n      } else if (this.state.value) {\n        result.push.apply(result, this.state.value);\n      } else if (this.props.defaultValue) {\n        result.push.apply(result, this.props.defaultValue);\n      }\n\n      return result;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MultiSelectWithoutContext.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the MultiSelect.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MultiSelectWithoutContext.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the MultiSelect is set.\n     */\n    get: function () {\n      var customError = this.props.validationMessage !== undefined;\n      var isValid = !this.required || this.value !== null && this.value.length > 0 && this.value !== undefined;\n      var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n      return {\n        customError: customError,\n        valid: valid,\n        valueMissing: this.value === null\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MultiSelectWithoutContext.prototype, \"required\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : MultiSelectWithoutContext.defaultProps.required;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MultiSelectWithoutContext.prototype, \"validityStyles\", {\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : MultiSelectWithoutContext.defaultProps.validityStyles;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  MultiSelectWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var virtual = this.props.virtual;\n    var skip = virtual ? virtual.skip : 0;\n    var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n    var opening = !prevOpened && opened;\n    var closing = prevOpened && !opened;\n    var popupSettings = this.base.getPopupSettings();\n\n    if (!popupSettings.animate && closing) {\n      this.onPopupClosed();\n    }\n\n    if (virtual && virtual.total !== prevTotal) {\n      this.base.vs.calcScrollElementHeight();\n      this.base.vs.reset();\n    } else {\n      var _a = this.getFocusedState(),\n          focusedItem = _a.focusedItem,\n          focusedIndex = _a.focusedIndex;\n\n      if (opening && virtual) {\n        this.base.scrollToVirtualItem(virtual, focusedIndex - skip);\n      } else if (opening && !virtual) {\n        this.base.scrollToItem(focusedIndex);\n      } else if (opened && prevOpened && focusedItem && this.scrollToFocused) {\n        this.base.scrollToItem(focusedIndex - skip);\n      }\n    }\n\n    this.scrollToFocused = false;\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  MultiSelectWithoutContext.prototype.componentDidMount = function () {\n    this.base.didMount();\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n\n\n  MultiSelectWithoutContext.prototype.onNavigate = function (state, keyCode) {\n    var _a = this.props,\n        allowCustom = _a.allowCustom,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n\n    var _c = this.getFocusedState(),\n        focusedType = _c.focusedType,\n        focusedIndex = _c.focusedIndex;\n\n    var customItem = allowCustom && text;\n    var customItemFocused = isCustom(focusedType);\n    var base = this.base;\n    var vs = base.vs;\n\n    if (opened && keyCode === Keys.up && customItemFocused) {\n      if (this.state.focusedIndex !== undefined) {\n        state.data.focusedIndex = undefined;\n      }\n    } else {\n      var newFocused = base.navigation.navigate({\n        keyCode: keyCode,\n        current: focusedIndex,\n        max: (vs.enabled ? vs.total : data.length) - 1,\n        min: customItem ? -1 : 0\n      });\n\n      if (newFocused !== undefined) {\n        this.itemFocus(newFocused, state);\n        this.scrollToFocused = true;\n      }\n    }\n\n    this.applyState(state);\n  };\n  /**\n   * @hidden\n   */\n\n\n  MultiSelectWithoutContext.prototype.render = function () {\n    var _a, _b;\n\n    var _c = this.props,\n        style = _c.style,\n        className = _c.className,\n        label = _c.label,\n        dir = _c.dir,\n        disabled = _c.disabled,\n        tags = _c.tags,\n        textField = _c.textField,\n        dataItemKey = _c.dataItemKey,\n        virtual = _c.virtual,\n        size = _c.size,\n        rounded = _c.rounded,\n        fillMode = _c.fillMode,\n        loading = _c.loading,\n        filter = _c.filter;\n    var _d = this.state,\n        text = _d.text,\n        focused = _d.focused,\n        focusedTag = _d.focusedTag;\n    var vs = this.base.vs;\n    var id = this.props.id || this._inputId;\n    vs.enabled = virtual !== undefined;\n\n    if (virtual !== undefined) {\n      vs.skip = virtual.skip;\n      vs.total = virtual.total;\n      vs.pageSize = virtual.pageSize;\n    }\n\n    var tagsToRender = [];\n\n    if (tags === undefined) {\n      this.value.forEach(function (item) {\n        tagsToRender.push({\n          text: getItemValue(item, textField),\n          data: [item]\n        });\n      });\n    } else {\n      tagsToRender.push.apply(tagsToRender, tags);\n    }\n\n    this.setItems(tagsToRender, this._tags);\n    var isValid = !this.validityStyles || this.validity.valid;\n    var clearButton = Boolean(filter !== undefined ? filter : text) || this.value.length > 0;\n    var component = React.createElement(\"div\", {\n      ref: this.componentRef,\n      className: classNames('k-multiselect k-input', className, (_a = {}, _a[\"k-input-\".concat(sizeMap[size] || size)] = size, _a[\"k-rounded-\".concat(roundedMap[rounded] || rounded)] = rounded, _a[\"k-input-\".concat(fillMode)] = fillMode, _a['k-focus'] = focused && !disabled, _a['k-invalid'] = !isValid, _a['k-disabled'] = disabled, _a['k-loading'] = loading, _a['k-required'] = this.required, _a)),\n      style: !label ? style : __assign(__assign({}, style), {\n        width: undefined\n      }),\n      dir: dir,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onClick: this.handleWrapperClick,\n      onMouseDown: preventDefaultNonInputs\n    }, React.createElement(\"div\", {\n      className: classNames('k-input-values k-chip-list k-selection-multiple', (_b = {}, _b[\"k-chip-list-\".concat(sizeMap[size] || size)] = size, _b)),\n      role: \"listbox\",\n      id: 'tagslist-' + this.base.guid\n    }, tagsToRender.length > 0 && React.createElement(TagList, {\n      tagRender: this.props.tagRender,\n      onTagDelete: this.onTagDelete,\n      data: tagsToRender,\n      guid: this.base.guid,\n      focused: focusedTag ? tagsToRender.find(function (t) {\n        return matchTags(t, focusedTag, dataItemKey);\n      }) : undefined,\n      size: size\n    }), this.renderSearchbar(id)), loading && React.createElement(\"span\", {\n      className: \"k-icon k-i-loading k-input-loading-icon\"\n    }), clearButton && React.createElement(ClearButton, {\n      onClick: this.clearButtonClick\n    }), this.renderListContainer());\n    return label ? React.createElement(FloatingLabel, {\n      label: label,\n      editorId: id,\n      editorValue: text || getItemValue(this.value[0], textField),\n      editorValid: isValid,\n      editorDisabled: disabled,\n      style: {\n        width: style ? style.width : undefined\n      },\n      children: component\n    }) : component;\n  };\n\n  MultiSelectWithoutContext.prototype.renderSearchbar = function (id) {\n    var _a = this.state,\n        activedescendant = _a.activedescendant,\n        focusedTag = _a.focusedTag;\n    var _b = this.props,\n        disabled = _b.disabled,\n        placeholder = _b.placeholder,\n        ariaDescribedBy = _b.ariaDescribedBy;\n    var text = (this.props.filter !== undefined ? this.props.filter : this.state.text) || '';\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var focusedIndex = this.getFocusedState().focusedIndex;\n    var placeholderToShow = this.value.length === 0 && !text ? placeholder : undefined;\n    var ariaActivedescendant = activedescendant === ActiveDescendant.TagsList && focusedTag !== undefined ? \"tag-\".concat(this.base.guid, \"-\").concat(focusedTag.text.replace(/\\s+/g, '-')) : \"option-\".concat(this.base.guid, \"-\").concat(focusedIndex);\n    return React.createElement(SearchBar, {\n      id: id,\n      size: Math.max((placeholderToShow || '').length, text.length, 1),\n      tabIndex: this.props.tabIndex,\n      accessKey: this.props.accessKey,\n      placeholder: placeholderToShow,\n      value: text,\n      onChange: this.onChangeHandler,\n      onKeyDown: this.onInputKeyDown,\n      ref: this.searchbarRef,\n      disabled: disabled,\n      expanded: opened,\n      owns: this.base.listBoxId,\n      role: 'combobox',\n      activedescendant: ariaActivedescendant,\n      ariaDescribedBy: \"tagslist-\".concat(this.base.guid).concat(ariaDescribedBy ? ' ' + ariaDescribedBy : ''),\n      ariaLabelledBy: this.props.ariaLabelledBy\n    });\n  };\n\n  MultiSelectWithoutContext.prototype.onTagsNavigate = function (event, state) {\n    var keyCode = event.keyCode;\n    var focusedTag = this.state.focusedTag;\n    var tags = this._tags;\n    var itemsKey = this.props.dataItemKey;\n    var focusedIndex = focusedTag ? tags.findIndex(function (t) {\n      return matchTags(t, focusedTag, itemsKey);\n    }) : -1;\n    var newFocusedTag = undefined;\n    var hasFocused = focusedIndex !== -1;\n\n    if (keyCode === Keys.left) {\n      if (hasFocused) {\n        focusedIndex = Math.max(0, focusedIndex - 1);\n      } else {\n        focusedIndex = tags.length - 1;\n      }\n\n      newFocusedTag = tags[focusedIndex];\n    } else if (keyCode === Keys.right) {\n      if (focusedIndex === tags.length - 1) {\n        newFocusedTag = undefined;\n      } else if (hasFocused) {\n        focusedIndex = Math.min(tags.length - 1, focusedIndex + 1);\n        newFocusedTag = tags[focusedIndex];\n      }\n    } else if (keyCode === Keys.home) {\n      newFocusedTag = tags[0];\n    } else if (keyCode === Keys.end) {\n      newFocusedTag = tags[tags.length - 1];\n    } else if (keyCode === Keys.delete) {\n      if (hasFocused) {\n        var items = this.value;\n        removeDataItems(items, tags[focusedIndex].data, itemsKey);\n        this.triggerOnChange(items, state);\n      }\n    } else if (keyCode === Keys.backspace) {\n      var items = this.value;\n\n      if (hasFocused) {\n        removeDataItems(items, tags[focusedIndex].data, itemsKey);\n        this.triggerOnChange(items, state);\n      } else if (!hasFocused && tags.length) {\n        var removed = tags.pop();\n        removeDataItems(items, removed.data, itemsKey);\n        this.triggerOnChange(items, state);\n      }\n    }\n\n    if (newFocusedTag !== focusedTag) {\n      state.data.focusedTag = newFocusedTag;\n      state.data.activedescendant = ActiveDescendant.TagsList;\n    }\n\n    this.applyState(state);\n  };\n\n  MultiSelectWithoutContext.prototype.triggerOnChange = function (items, state) {\n    if (this.props.value === undefined) {\n      state.data.value = __spreadArray([], items, true);\n    }\n\n    this._valueItemsDuringOnChange = [];\n    this.setItems(items, this._valueItemsDuringOnChange);\n    state.events.push({\n      type: 'onChange'\n    });\n  };\n\n  MultiSelectWithoutContext.prototype.selectFocusedItem = function (event) {\n    var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        virtual = _a.virtual;\n    var focusedIndex = this.getFocusedState().focusedIndex;\n    var skip = virtual ? virtual.skip : 0;\n\n    if (data[focusedIndex - skip] !== undefined) {\n      this.handleItemClick(focusedIndex, event);\n    }\n  };\n\n  MultiSelectWithoutContext.prototype.setItems = function (srcItems, destItems) {\n    destItems.length = 0;\n    destItems.push.apply(destItems, srcItems);\n  };\n\n  MultiSelectWithoutContext.prototype.getFocusedState = function () {\n    var focusedIndex = this.state.focusedIndex;\n    var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n    var _a = this.props,\n        allowCustom = _a.allowCustom,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        dataItemKey = _a.dataItemKey,\n        virtual = _a.virtual,\n        textField = _a.textField,\n        _c = _a.focusedItemIndex,\n        focusedItemIndex = _c === void 0 ? itemIndexStartsWith : _c;\n    var skip = virtual && virtual.skip || 0;\n    var focusedInd;\n\n    if (focusedIndex !== undefined) {\n      return {\n        focusedIndex: focusedIndex,\n        focusedItem: data[focusedIndex - skip],\n        focusedType: FocusedItemType.ListItem\n      };\n    }\n\n    var selected = this.value;\n\n    if (allowCustom && text) {\n      return {\n        focusedItem: null,\n        focusedIndex: -1,\n        focusedType: FocusedItemType.CustomItem\n      };\n    } else if (text) {\n      focusedInd = focusedItemIndex(data, text, textField);\n      return {\n        focusedItem: data[focusedInd],\n        focusedIndex: focusedInd + skip,\n        focusedType: FocusedItemType.ListItem\n      };\n    } else if (selected.length) {\n      var last_1 = selected[selected.length - 1];\n      focusedInd = data.findIndex(function (i) {\n        return areSame(i, last_1, dataItemKey);\n      });\n\n      if (data[focusedInd] !== undefined) {\n        return {\n          focusedIndex: focusedInd + skip,\n          focusedItem: data[focusedInd],\n          focusedType: FocusedItemType.ListItem\n        };\n      }\n\n      return {\n        focusedType: FocusedItemType.None,\n        focusedIndex: -1\n      };\n    }\n\n    return skip === 0 ? {\n      focusedItem: data[0],\n      focusedIndex: 0,\n      focusedType: FocusedItemType.ListItem\n    } : {\n      focusedType: FocusedItemType.None,\n      focusedIndex: -1\n    };\n  };\n\n  MultiSelectWithoutContext.prototype.focusElement = function (element) {\n    var _this = this;\n\n    this._skipFocusEvent = true;\n    element.focus();\n    window.setTimeout(function () {\n      return _this._skipFocusEvent = false;\n    }, 0);\n  };\n\n  MultiSelectWithoutContext.prototype.applyState = function (state) {\n    this.base.applyState(state);\n    this._valueItemsDuringOnChange = null;\n  };\n\n  MultiSelectWithoutContext.displayName = 'MultiSelect';\n  /**\n   * @hidden\n   */\n\n  MultiSelectWithoutContext.propTypes = __assign(__assign({}, DropDownBase.propTypes), {\n    autoClose: PropTypes.bool,\n    value: PropTypes.arrayOf(PropTypes.any),\n    defaultValue: PropTypes.arrayOf(PropTypes.any),\n    dataItemKey: PropTypes.string,\n    placeholder: PropTypes.string,\n    tags: PropTypes.arrayOf(PropTypes.shape({\n      text: PropTypes.string,\n      data: PropTypes.arrayOf(PropTypes.any)\n    })),\n    tagRender: PropTypes.func,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n  });\n  /**\n   * @hidden\n   */\n\n  MultiSelectWithoutContext.defaultProps = __assign(__assign({}, DropDownBase.defaultProps), {\n    autoClose: true,\n    required: false,\n    size: 'medium',\n    rounded: 'medium',\n    fillMode: 'solid'\n  });\n  return MultiSelectWithoutContext;\n}(React.Component);\n\nexport { MultiSelectWithoutContext };\n/**\n * Represents the PropsContext of the `MultiSelect` component.\n * Used for global configuration of all `MultiSelect` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\n\nexport var MultiSelectPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n\n/**\n * Represents the [KendoReact MultiSelect component]({% slug overview_multiselect %}).\n *\n * Accepts properties of type [MultiSelectProps]({% slug api_dropdowns_multiselectprops %}).\n * Obtaining the `ref` returns an object of type [MultiSelectHandle]({% slug api_dropdowns_multiselecthandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    multiselect = null;\n *    render() {\n *       return (\n *          <div>\n *              <MultiSelect\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.multiselect = component}\n *              />\n *              <button onClick={() => alert(this.multiselect.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nexport var MultiSelect = withPropsContext(MultiSelectPropsContext, MultiSelectWithoutContext);\nMultiSelect.displayName = 'KendoReactMultiSelect';","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__spreadArray","to","from","pack","l","ar","slice","concat","React","PropTypes","classNames","Keys","guid","createPropsContext","kendoThemeMaps","withPropsContext","FloatingLabel","ListContainer","List","TagList","SearchBar","DropDownBase","ActiveDescendant","itemIndexStartsWith","getItemValue","areSame","removeDataItems","isPresent","preventDefaultNonInputs","matchTags","validatePackage","packageMetadata","ClearButton","sizeMap","roundedMap","VALIDATION_MESSAGE","preventDefault","event","isCustom","type","FocusedItemType","CustomItem","MultiSelectWithoutContext","_super","props","_this","state","activedescendant","PopupList","_element","_valueItemsDuringOnChange","_inputId","base","_tags","_input","_skipFocusEvent","scrollToFocused","focus","handleItemSelect","index","_a","_b","data","dataItemKey","virtual","skip","dataItem","indexInValue","value","findIndex","newItems","splice","text","filter","undefined","filterChanged","focusedIndex","triggerOnChange","triggerPageChangeCornerItems","onTagDelete","itemsToRemove","opened","initState","syntheticEvent","togglePopup","focused","selected","applyState","itemFocus","allowCustom","getFocusedState","customItem","nextFocusedItem","componentRef","element","wrapper","searchbarRef","searchbar","input","window","setTimeout","onChangeHandler","currentTarget","clearButtonClick","stopPropagation","onInputKeyDown","keyCode","focusedItem","left","right","home","end","delete","backspace","onTagsNavigate","altKey","up","down","onNavigate","enter","customItemSelect","selectFocusedItem","esc","renderListContainer","_c","header","footer","dir","_d","size","popupSettings","getPopupSettings","popupWidth","width","listContainerProps","dirCalculated","popupClass","className","animate","anchor","show","onOpen","onPopupOpened","onClose","onPopupClosed","appendTo","itemsCount","focusedType","createElement","key","onClick","onMouseDown","style","fontStyle","position","vs","enabled","renderList","textField","listNoDataRender","itemRender","translate","id","listBoxId","valueField","optionsGuid","listRef","list","wrapperStyle","maxHeight","height","wrapperCssClass","listStyle","transform","handleItemClick","noDataRender","onBlur","handleBlur","onScroll","e","scrollHandler","wrapperRef","scrollerRef","scroller","renderScrollElement","itemText","item","handleWrapperClick","focusElement","events","push","autoClose","filterable","handleFocus","setValidity","setCustomValidity","validity","valid","validationMessage","defineProperty","get","enumerable","configurable","result","defaultValue","name","customError","isValid","required","valueMissing","defaultProps","validityStyles","componentDidUpdate","prevProps","prevState","prevTotal","total","prevOpened","opening","closing","calcScrollElementHeight","reset","scrollToVirtualItem","scrollToItem","componentDidMount","didMount","customItemFocused","newFocused","navigation","navigate","current","max","min","render","label","disabled","tags","rounded","fillMode","loading","focusedTag","pageSize","tagsToRender","forEach","setItems","clearButton","Boolean","component","ref","onFocus","role","tagRender","find","renderSearchbar","editorId","editorValue","editorValid","editorDisabled","children","placeholder","ariaDescribedBy","placeholderToShow","ariaActivedescendant","TagsList","replace","Math","tabIndex","accessKey","onChange","onKeyDown","expanded","owns","ariaLabelledBy","itemsKey","newFocusedTag","hasFocused","items","removed","pop","srcItems","destItems","focusedItemIndex","focusedInd","ListItem","last_1","None","displayName","propTypes","bool","arrayOf","any","string","shape","func","Component","MultiSelectPropsContext","MultiSelect"],"sources":["C:/Users/asana/Documents/TEC/Semestre 5/Seguridad_Informatica/ModuloReact/demo/frontend/node_modules/@progress/kendo-react-dropdowns/dist/es/MultiSelect/MultiSelect.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, guid, createPropsContext, kendoThemeMaps, withPropsContext } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport ListContainer from '../common/ListContainer';\nimport List from '../common/List';\nimport TagList from './TagList';\nimport SearchBar from '../common/SearchBar';\nimport DropDownBase from '../common/DropDownBase';\nimport { ActiveDescendant } from './../common/settings';\nimport { itemIndexStartsWith, getItemValue, areSame, removeDataItems, isPresent, preventDefaultNonInputs, matchTags } from '../common/utils';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport ClearButton from '../common/ClearButton';\nvar sizeMap = kendoThemeMaps.sizeMap, roundedMap = kendoThemeMaps.roundedMap;\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\nvar preventDefault = function (event) { return event.preventDefault(); };\nvar isCustom = function (type) { return type === FocusedItemType.CustomItem; };\nvar FocusedItemType;\n(function (FocusedItemType) {\n    FocusedItemType[FocusedItemType[\"None\"] = 0] = \"None\";\n    FocusedItemType[FocusedItemType[\"ListItem\"] = 1] = \"ListItem\";\n    FocusedItemType[FocusedItemType[\"CustomItem\"] = 2] = \"CustomItem\";\n})(FocusedItemType || (FocusedItemType = {}));\n/** @hidden */\nvar MultiSelectWithoutContext = /** @class */ (function (_super) {\n    __extends(MultiSelectWithoutContext, _super);\n    function MultiSelectWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {\n            activedescendant: ActiveDescendant.PopupList\n        };\n        _this._element = null;\n        _this._valueItemsDuringOnChange = null;\n        _this._inputId = guid();\n        _this.base = new DropDownBase(_this);\n        _this._tags = [];\n        _this._input = null;\n        _this._skipFocusEvent = false;\n        _this.scrollToFocused = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n            var skip = virtual ? virtual.skip : 0;\n            var dataItem = data[index - skip];\n            var indexInValue = _this.value.findIndex(function (i) { return areSame(i, dataItem, dataItemKey); });\n            var newItems = [];\n            if (indexInValue !== -1) { // item is already selected\n                newItems = _this.value;\n                newItems.splice(indexInValue, 1);\n            }\n            else {\n                newItems = __spreadArray(__spreadArray([], _this.value, true), [dataItem], false);\n            }\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            if (text) {\n                if (_this.state.text) {\n                    state.data.text = '';\n                }\n                _this.base.filterChanged('', state);\n            }\n            if (_this.state.focusedIndex !== undefined) {\n                state.data.focusedIndex = undefined;\n            }\n            _this.triggerOnChange(newItems, state);\n            _this.base.triggerPageChangeCornerItems(dataItem, state);\n        };\n        /**\n         * @hidden\n         */\n        _this.onTagDelete = function (itemsToRemove, event) {\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            if (!_this.state.focused) {\n                state.data.focused = true;\n                _this.focus();\n            }\n            var selected = _this.value;\n            removeDataItems(selected, itemsToRemove, _this.props.dataItemKey);\n            _this.triggerOnChange(selected, state);\n            _this.applyState(state);\n        };\n        /**\n         * @hidden\n         */\n        _this.itemFocus = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, allowCustom = _a.allowCustom, virtual = _a.virtual;\n            var skip = virtual ? virtual.skip : 0;\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            var focusedIndex = _this.getFocusedState().focusedIndex;\n            var customItem = allowCustom && text;\n            var nextFocusedItem = data[index - skip];\n            if (nextFocusedItem && focusedIndex !== index) {\n                if (_this.state.focusedIndex !== index) {\n                    state.data.focusedIndex = index;\n                    state.data.activedescendant = ActiveDescendant.PopupList;\n                }\n            }\n            else if (customItem && index === -1) {\n                if (_this.state.focusedIndex !== undefined) {\n                    state.data.focusedIndex = undefined;\n                }\n            }\n            _this.base.triggerPageChangeCornerItems(nextFocusedItem, state);\n        };\n        _this.componentRef = function (element) {\n            _this._element = element;\n            _this.base.wrapper = element;\n        };\n        _this.searchbarRef = function (searchbar) {\n            var input = _this._input = searchbar && searchbar.input;\n            if (input && _this.state.focused) {\n                window.setTimeout(function () { return input.focus(); }, 0);\n            }\n        };\n        _this.onChangeHandler = function (event) {\n            var state = _this.base.initState();\n            var value = event.currentTarget.value;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            state.syntheticEvent = event;\n            if (_this.props.filter === undefined) {\n                state.data.text = value;\n            }\n            state.data.focusedIndex = undefined;\n            if (!opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.base.filterChanged(value, state);\n            _this.applyState(state);\n        };\n        _this.clearButtonClick = function (event) {\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            event.stopPropagation();\n            if (_this.value.length > 0) {\n                _this.triggerOnChange([], state);\n            }\n            if (_this.state.focusedIndex !== undefined) {\n                state.data.focusedIndex = undefined;\n            }\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            if (isPresent(text) && text !== '') {\n                _this.base.filterChanged('', state);\n            }\n            if (_this.state.text) {\n                state.data.text = '';\n            }\n            _this.applyState(state);\n        };\n        _this.onInputKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var focusedItem = _this.getFocusedState().focusedItem;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!text && _this.value.length > 0 &&\n                (keyCode === Keys.left || keyCode === Keys.right ||\n                    keyCode === Keys.home || keyCode === Keys.end ||\n                    keyCode === Keys.delete || keyCode === Keys.backspace)) {\n                return _this.onTagsNavigate(event, state);\n            }\n            var togglePopup = function () {\n                event.preventDefault();\n                _this.base.togglePopup(state);\n                _this.applyState(state);\n            };\n            if (opened) {\n                if (event.altKey && keyCode === Keys.up) {\n                    togglePopup();\n                }\n                else if (keyCode === Keys.up || keyCode === Keys.down) {\n                    event.preventDefault();\n                    _this.onNavigate(state, keyCode);\n                }\n                else if (keyCode === Keys.enter) {\n                    event.preventDefault();\n                    if (_this.props.allowCustom && text && focusedItem === null) {\n                        _this.customItemSelect(event);\n                    }\n                    else {\n                        _this.selectFocusedItem(event);\n                    }\n                }\n                else if (keyCode === Keys.esc) {\n                    togglePopup();\n                }\n            }\n            else if (event.altKey && keyCode === Keys.down) {\n                togglePopup();\n            }\n        };\n        _this.renderListContainer = function () {\n            var _a, _b;\n            var base = _this.base;\n            var _c = _this.props, header = _c.header, footer = _c.footer, allowCustom = _c.allowCustom, dir = _c.dir, _d = _c.data, data = _d === void 0 ? [] : _d, size = _c.size;\n            var popupSettings = _this.base.getPopupSettings();\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n            var listContainerProps = {\n                dir: dir !== undefined ? dir : base.dirCalculated,\n                width: popupWidth,\n                popupSettings: {\n                    popupClass: classNames(popupSettings.popupClass, 'k-list-container'),\n                    className: popupSettings.className,\n                    animate: popupSettings.animate,\n                    anchor: _this.element,\n                    show: opened,\n                    onOpen: _this.onPopupOpened,\n                    onClose: _this.onPopupClosed,\n                    appendTo: popupSettings.appendTo\n                },\n                itemsCount: [data.length, _this.value.length]\n            };\n            var focusedType = _this.getFocusedState().focusedType;\n            var customItem = allowCustom && text && (React.createElement(\"div\", { className: classNames('k-list', (_a = {},\n                    _a[\"k-list-\".concat(sizeMap[size] || size)] = size,\n                    _a)), key: \"customitem\", onClick: _this.customItemSelect, onMouseDown: preventDefault },\n                React.createElement(\"div\", { className: classNames('k-list-item k-custom-item', { 'k-focus': isCustom(focusedType) }), style: { fontStyle: 'italic' } },\n                    text,\n                    React.createElement(\"span\", { className: \"k-icon k-i-plus\", style: { position: 'absolute', right: '0.5em' } }))));\n            return (React.createElement(ListContainer, __assign({}, listContainerProps),\n                header && React.createElement(\"div\", { className: \"k-list-header\" }, header),\n                customItem,\n                React.createElement(\"div\", { className: classNames('k-list', (_b = {},\n                        _b[\"k-list-\".concat(sizeMap[size] || size)] = size,\n                        _b['k-virtual-list'] = _this.base.vs.enabled,\n                        _b)) }, _this.renderList()),\n                footer && React.createElement(\"div\", { className: \"k-list-footer\" }, footer)));\n        };\n        _this.renderList = function () {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, listNoDataRender = _a.listNoDataRender, itemRender = _a.itemRender, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n            var vs = _this.base.vs;\n            var skip = virtual ? virtual.skip : 0;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var focusedIndex = _this.getFocusedState().focusedIndex;\n            var popupSettings = _this.base.getPopupSettings();\n            var translate = \"translateY(\".concat(vs.translate, \"px)\");\n            return (React.createElement(List, { id: _this.base.listBoxId, show: opened, data: data.slice(), focusedIndex: focusedIndex - skip, value: _this.value, textField: textField, valueField: dataItemKey, optionsGuid: _this.base.guid, listRef: function (list) { vs.list = _this.base.list = list; }, wrapperStyle: { maxHeight: popupSettings.height }, wrapperCssClass: \"k-list-content\", listStyle: vs.enabled ? { transform: translate } : undefined, key: \"listKey\", skip: skip, onClick: _this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender, onMouseDown: preventDefault, onBlur: _this.handleBlur, onScroll: function (e) {\n                    vs.scrollHandler(e);\n                }, wrapperRef: vs.scrollerRef, scroller: _this.base.renderScrollElement() }));\n        };\n        _this.customItemSelect = function (event) {\n            var _a;\n            var itemText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            var textField = _this.props.textField;\n            if (!itemText) {\n                return;\n            }\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            var item = textField ? (_a = {}, _a[textField] = itemText, _a) : itemText;\n            if (_this.state.text !== undefined) {\n                state.data.text = '';\n            }\n            state.data.focusedIndex = undefined;\n            _this.base.filterChanged('', state);\n            var newItems = __spreadArray(__spreadArray([], _this.value, true), [item], false);\n            _this.triggerOnChange(newItems, state);\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.handleWrapperClick = function (event) {\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var input = _this._input;\n            if (!opened && input) {\n                _this.focusElement(input);\n            }\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!_this.state.focused) {\n                state.events.push({ type: 'onFocus' });\n                state.data.focused = true;\n            }\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.handleItemClick = function (index, event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            _this.handleItemSelect(index, state);\n            if (_this.props.autoClose) {\n                _this.base.togglePopup(state);\n            }\n            event.stopPropagation();\n            _this.applyState(state);\n        };\n        _this.handleBlur = function (event) {\n            if (!_this.state.focused || _this._skipFocusEvent) {\n                return;\n            }\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            var _a = _this.props, allowCustom = _a.allowCustom, filterable = _a.filterable;\n            state.syntheticEvent = event;\n            state.data.focused = false;\n            state.events.push({ type: 'onBlur' });\n            if (opened) {\n                if (_this.state.opened) {\n                    state.data.opened = false;\n                }\n                state.events.push({ type: 'onClose' });\n            }\n            if (!allowCustom && !filterable && _this.state.text) {\n                state.data.text = '';\n            }\n            _this.applyState(state);\n        };\n        _this.handleFocus = function (event) {\n            if (_this._skipFocusEvent) {\n                return;\n            }\n            _this.base.handleFocus(event);\n        };\n        _this.onPopupOpened = function () {\n            if (_this._input && _this.state.focused) {\n                _this.focusElement(_this._input);\n            }\n        };\n        _this.onPopupClosed = function () {\n            if (_this.state.focused) {\n                window.setTimeout(function () { if (_this.state.focused) {\n                    _this.focusElement(_this._input);\n                } }, 0);\n            }\n        };\n        _this.setValidity = function () {\n            if (_this._input && _this._input.setCustomValidity) {\n                _this._input.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(MultiSelectWithoutContext.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectWithoutContext.prototype, \"value\", {\n        /**\n         * Represents the value of the MultiSelect.\n         */\n        get: function () {\n            var result = [];\n            if (this._valueItemsDuringOnChange) {\n                result.push.apply(result, this._valueItemsDuringOnChange);\n            }\n            else if (this.props.value) {\n                result.push.apply(result, this.props.value);\n            }\n            else if (this.state.value) {\n                result.push.apply(result, this.state.value);\n            }\n            else if (this.props.defaultValue) {\n                result.push.apply(result, this.props.defaultValue);\n            }\n            return result;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectWithoutContext.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the MultiSelect.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectWithoutContext.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the MultiSelect is set.\n         */\n        get: function () {\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required\n                || (this.value !== null && this.value.length > 0 && this.value !== undefined));\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectWithoutContext.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : MultiSelectWithoutContext.defaultProps.required;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectWithoutContext.prototype, \"validityStyles\", {\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : MultiSelectWithoutContext.defaultProps.validityStyles;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    MultiSelectWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var virtual = this.props.virtual;\n        var skip = virtual ? virtual.skip : 0;\n        var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        var closing = prevOpened && !opened;\n        var popupSettings = this.base.getPopupSettings();\n        if (!popupSettings.animate && closing) {\n            this.onPopupClosed();\n        }\n        if (virtual && virtual.total !== prevTotal) {\n            this.base.vs.calcScrollElementHeight();\n            this.base.vs.reset();\n        }\n        else {\n            var _a = this.getFocusedState(), focusedItem = _a.focusedItem, focusedIndex = _a.focusedIndex;\n            if (opening && virtual) {\n                this.base.scrollToVirtualItem(virtual, focusedIndex - skip);\n            }\n            else if (opening && !virtual) {\n                this.base.scrollToItem(focusedIndex);\n            }\n            else if (opened && prevOpened && focusedItem && this.scrollToFocused) {\n                this.base.scrollToItem(focusedIndex - skip);\n            }\n        }\n        this.scrollToFocused = false;\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectWithoutContext.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectWithoutContext.prototype.onNavigate = function (state, keyCode) {\n        var _a = this.props, allowCustom = _a.allowCustom, _b = _a.data, data = _b === void 0 ? [] : _b;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var _c = this.getFocusedState(), focusedType = _c.focusedType, focusedIndex = _c.focusedIndex;\n        var customItem = allowCustom && text;\n        var customItemFocused = isCustom(focusedType);\n        var base = this.base;\n        var vs = base.vs;\n        if (opened && keyCode === Keys.up && customItemFocused) {\n            if (this.state.focusedIndex !== undefined) {\n                state.data.focusedIndex = undefined;\n            }\n        }\n        else {\n            var newFocused = base.navigation.navigate({\n                keyCode: keyCode,\n                current: focusedIndex,\n                max: (vs.enabled ? vs.total : data.length) - 1,\n                min: customItem ? -1 : 0\n            });\n            if (newFocused !== undefined) {\n                this.itemFocus(newFocused, state);\n                this.scrollToFocused = true;\n            }\n        }\n        this.applyState(state);\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectWithoutContext.prototype.render = function () {\n        var _a, _b;\n        var _c = this.props, style = _c.style, className = _c.className, label = _c.label, dir = _c.dir, disabled = _c.disabled, tags = _c.tags, textField = _c.textField, dataItemKey = _c.dataItemKey, virtual = _c.virtual, size = _c.size, rounded = _c.rounded, fillMode = _c.fillMode, loading = _c.loading, filter = _c.filter;\n        var _d = this.state, text = _d.text, focused = _d.focused, focusedTag = _d.focusedTag;\n        var vs = this.base.vs;\n        var id = this.props.id || this._inputId;\n        vs.enabled = virtual !== undefined;\n        if (virtual !== undefined) {\n            vs.skip = virtual.skip;\n            vs.total = virtual.total;\n            vs.pageSize = virtual.pageSize;\n        }\n        var tagsToRender = [];\n        if (tags === undefined) {\n            this.value.forEach(function (item) {\n                tagsToRender.push({ text: getItemValue(item, textField), data: [item] });\n            });\n        }\n        else {\n            tagsToRender.push.apply(tagsToRender, tags);\n        }\n        this.setItems(tagsToRender, this._tags);\n        var isValid = !this.validityStyles || this.validity.valid;\n        var clearButton = Boolean(filter !== undefined ? filter : text) || this.value.length > 0;\n        var component = (React.createElement(\"div\", { ref: this.componentRef, className: classNames('k-multiselect k-input', className, (_a = {},\n                _a[\"k-input-\".concat(sizeMap[size] || size)] = size,\n                _a[\"k-rounded-\".concat(roundedMap[rounded] || rounded)] = rounded,\n                _a[\"k-input-\".concat(fillMode)] = fillMode,\n                _a['k-focus'] = focused && !disabled,\n                _a['k-invalid'] = !isValid,\n                _a['k-disabled'] = disabled,\n                _a['k-loading'] = loading,\n                _a['k-required'] = this.required,\n                _a)), style: !label\n                ? style\n                : __assign(__assign({}, style), { width: undefined }), dir: dir, onFocus: this.handleFocus, onBlur: this.handleBlur, onClick: this.handleWrapperClick, onMouseDown: preventDefaultNonInputs },\n            React.createElement(\"div\", { className: classNames('k-input-values k-chip-list k-selection-multiple', (_b = {},\n                    _b[\"k-chip-list-\".concat(sizeMap[size] || size)] = size,\n                    _b)), role: \"listbox\", id: 'tagslist-' + this.base.guid },\n                tagsToRender.length > 0 && React.createElement(TagList, { tagRender: this.props.tagRender, onTagDelete: this.onTagDelete, data: tagsToRender, guid: this.base.guid, focused: focusedTag ? tagsToRender.find(function (t) { return matchTags(t, focusedTag, dataItemKey); }) : undefined, size: size }),\n                this.renderSearchbar(id)),\n            loading && React.createElement(\"span\", { className: \"k-icon k-i-loading k-input-loading-icon\" }),\n            clearButton && React.createElement(ClearButton, { onClick: this.clearButtonClick }),\n            this.renderListContainer()));\n        return label ? (React.createElement(FloatingLabel, { label: label, editorId: id, editorValue: text || getItemValue(this.value[0], textField), editorValid: isValid, editorDisabled: disabled, style: { width: style ? style.width : undefined }, children: component })) : component;\n    };\n    MultiSelectWithoutContext.prototype.renderSearchbar = function (id) {\n        var _a = this.state, activedescendant = _a.activedescendant, focusedTag = _a.focusedTag;\n        var _b = this.props, disabled = _b.disabled, placeholder = _b.placeholder, ariaDescribedBy = _b.ariaDescribedBy;\n        var text = (this.props.filter !== undefined ? this.props.filter : this.state.text) || '';\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var focusedIndex = this.getFocusedState().focusedIndex;\n        var placeholderToShow = this.value.length === 0 && !text ? placeholder : undefined;\n        var ariaActivedescendant = activedescendant === ActiveDescendant.TagsList && focusedTag !== undefined ?\n            \"tag-\".concat(this.base.guid, \"-\").concat(focusedTag.text.replace(/\\s+/g, '-')) :\n            \"option-\".concat(this.base.guid, \"-\").concat(focusedIndex);\n        return (React.createElement(SearchBar, { id: id, size: Math.max((placeholderToShow || '').length, text.length, 1), tabIndex: this.props.tabIndex, accessKey: this.props.accessKey, placeholder: placeholderToShow, value: text, onChange: this.onChangeHandler, onKeyDown: this.onInputKeyDown, ref: this.searchbarRef, disabled: disabled, expanded: opened, owns: this.base.listBoxId, role: 'combobox', activedescendant: ariaActivedescendant, ariaDescribedBy: \"tagslist-\".concat(this.base.guid).concat(ariaDescribedBy ? (' ' + ariaDescribedBy) : ''), ariaLabelledBy: this.props.ariaLabelledBy }));\n    };\n    MultiSelectWithoutContext.prototype.onTagsNavigate = function (event, state) {\n        var keyCode = event.keyCode;\n        var focusedTag = this.state.focusedTag;\n        var tags = this._tags;\n        var itemsKey = this.props.dataItemKey;\n        var focusedIndex = focusedTag ?\n            tags.findIndex(function (t) { return matchTags(t, focusedTag, itemsKey); }) : -1;\n        var newFocusedTag = undefined;\n        var hasFocused = focusedIndex !== -1;\n        if (keyCode === Keys.left) {\n            if (hasFocused) {\n                focusedIndex = Math.max(0, focusedIndex - 1);\n            }\n            else {\n                focusedIndex = tags.length - 1;\n            }\n            newFocusedTag = tags[focusedIndex];\n        }\n        else if (keyCode === Keys.right) {\n            if (focusedIndex === tags.length - 1) {\n                newFocusedTag = undefined;\n            }\n            else if (hasFocused) {\n                focusedIndex = Math.min(tags.length - 1, focusedIndex + 1);\n                newFocusedTag = tags[focusedIndex];\n            }\n        }\n        else if (keyCode === Keys.home) {\n            newFocusedTag = tags[0];\n        }\n        else if (keyCode === Keys.end) {\n            newFocusedTag = tags[tags.length - 1];\n        }\n        else if (keyCode === Keys.delete) {\n            if (hasFocused) {\n                var items = this.value;\n                removeDataItems(items, tags[focusedIndex].data, itemsKey);\n                this.triggerOnChange(items, state);\n            }\n        }\n        else if (keyCode === Keys.backspace) {\n            var items = this.value;\n            if (hasFocused) {\n                removeDataItems(items, tags[focusedIndex].data, itemsKey);\n                this.triggerOnChange(items, state);\n            }\n            else if (!hasFocused && tags.length) {\n                var removed = tags.pop();\n                removeDataItems(items, removed.data, itemsKey);\n                this.triggerOnChange(items, state);\n            }\n        }\n        if (newFocusedTag !== focusedTag) {\n            state.data.focusedTag = newFocusedTag;\n            state.data.activedescendant = ActiveDescendant.TagsList;\n        }\n        this.applyState(state);\n    };\n    MultiSelectWithoutContext.prototype.triggerOnChange = function (items, state) {\n        if (this.props.value === undefined) {\n            state.data.value = __spreadArray([], items, true);\n        }\n        this._valueItemsDuringOnChange = [];\n        this.setItems(items, this._valueItemsDuringOnChange);\n        state.events.push({ type: 'onChange' });\n    };\n    MultiSelectWithoutContext.prototype.selectFocusedItem = function (event) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, virtual = _a.virtual;\n        var focusedIndex = this.getFocusedState().focusedIndex;\n        var skip = virtual ? virtual.skip : 0;\n        if (data[focusedIndex - skip] !== undefined) {\n            this.handleItemClick(focusedIndex, event);\n        }\n    };\n    MultiSelectWithoutContext.prototype.setItems = function (srcItems, destItems) {\n        destItems.length = 0;\n        destItems.push.apply(destItems, srcItems);\n    };\n    MultiSelectWithoutContext.prototype.getFocusedState = function () {\n        var focusedIndex = this.state.focusedIndex;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var _a = this.props, allowCustom = _a.allowCustom, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual, textField = _a.textField, _c = _a.focusedItemIndex, focusedItemIndex = _c === void 0 ? itemIndexStartsWith : _c;\n        var skip = (virtual && virtual.skip) || 0;\n        var focusedInd;\n        if (focusedIndex !== undefined) {\n            return {\n                focusedIndex: focusedIndex,\n                focusedItem: data[focusedIndex - skip],\n                focusedType: FocusedItemType.ListItem\n            };\n        }\n        var selected = this.value;\n        if (allowCustom && text) {\n            return { focusedItem: null, focusedIndex: -1, focusedType: FocusedItemType.CustomItem };\n        }\n        else if (text) {\n            focusedInd = focusedItemIndex(data, text, textField);\n            return {\n                focusedItem: data[focusedInd],\n                focusedIndex: focusedInd + skip,\n                focusedType: FocusedItemType.ListItem\n            };\n        }\n        else if (selected.length) {\n            var last_1 = selected[selected.length - 1];\n            focusedInd = data.findIndex(function (i) { return areSame(i, last_1, dataItemKey); });\n            if (data[focusedInd] !== undefined) {\n                return {\n                    focusedIndex: focusedInd + skip,\n                    focusedItem: data[focusedInd],\n                    focusedType: FocusedItemType.ListItem\n                };\n            }\n            return { focusedType: FocusedItemType.None, focusedIndex: -1 };\n        }\n        return skip === 0 ?\n            { focusedItem: data[0], focusedIndex: 0, focusedType: FocusedItemType.ListItem } :\n            { focusedType: FocusedItemType.None, focusedIndex: -1 };\n    };\n    MultiSelectWithoutContext.prototype.focusElement = function (element) {\n        var _this = this;\n        this._skipFocusEvent = true;\n        element.focus();\n        window.setTimeout(function () { return _this._skipFocusEvent = false; }, 0);\n    };\n    MultiSelectWithoutContext.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueItemsDuringOnChange = null;\n    };\n    MultiSelectWithoutContext.displayName = 'MultiSelect';\n    /**\n     * @hidden\n     */\n    MultiSelectWithoutContext.propTypes = __assign(__assign({}, DropDownBase.propTypes), { autoClose: PropTypes.bool, value: PropTypes.arrayOf(PropTypes.any), defaultValue: PropTypes.arrayOf(PropTypes.any), dataItemKey: PropTypes.string, placeholder: PropTypes.string, tags: PropTypes.arrayOf(PropTypes.shape({\n            text: PropTypes.string,\n            data: PropTypes.arrayOf(PropTypes.any)\n        })), tagRender: PropTypes.func, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string });\n    /**\n     * @hidden\n     */\n    MultiSelectWithoutContext.defaultProps = __assign(__assign({}, DropDownBase.defaultProps), { autoClose: true, required: false, size: 'medium', rounded: 'medium', fillMode: 'solid' });\n    return MultiSelectWithoutContext;\n}(React.Component));\nexport { MultiSelectWithoutContext };\n/**\n * Represents the PropsContext of the `MultiSelect` component.\n * Used for global configuration of all `MultiSelect` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\nexport var MultiSelectPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the [KendoReact MultiSelect component]({% slug overview_multiselect %}).\n *\n * Accepts properties of type [MultiSelectProps]({% slug api_dropdowns_multiselectprops %}).\n * Obtaining the `ref` returns an object of type [MultiSelectHandle]({% slug api_dropdowns_multiselecthandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    multiselect = null;\n *    render() {\n *       return (\n *          <div>\n *              <MultiSelect\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.multiselect = component}\n *              />\n *              <button onClick={() => alert(this.multiselect.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var MultiSelect = withPropsContext(MultiSelectPropsContext, MultiSelectWithoutContext);\nMultiSelect.displayName = 'KendoReactMultiSelect';\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}