'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var alignPoint = {
    "bottom": "bottom",
    "center": "center",
    "middle": "middle",
    "left": "left",
    "right": "right",
    "top": "top"
};

var align = function (options) {
    var anchorRect = options.anchorRect;
    var anchorAlign = options.anchorAlign;
    var elementRect = options.elementRect;
    var elementAlign = options.elementAlign;
    var margin = options.margin; if ( margin === void 0 ) margin = {};
    var anchorHorizontal = anchorAlign.horizontal;
    var anchorVertical = anchorAlign.vertical;
    var elementHorizontal = elementAlign.horizontal;
    var elementVertical = elementAlign.vertical;

    var horizontalMargin = margin.horizontal || 0;
    var verticalMargin = margin.vertical || 0;

    var top = anchorRect.top;
    var left = anchorRect.left;

    if (anchorVertical === alignPoint.bottom) {
        top += anchorRect.height;
    }

    if (anchorVertical === alignPoint.center || anchorVertical === alignPoint.middle) {
        top += Math.round(anchorRect.height / 2);
    }

    if (elementVertical === alignPoint.bottom) {
        top -= elementRect.height;
        verticalMargin *= -1;
    }

    if (elementVertical === alignPoint.center || elementVertical === alignPoint.middle) {
        top -= Math.round(elementRect.height / 2);
        verticalMargin *= -1;
    }

    if (anchorHorizontal === alignPoint.right) {
        left += anchorRect.width;
    }

    if (anchorHorizontal === alignPoint.center || anchorHorizontal === alignPoint.middle) {
        left += Math.round(anchorRect.width / 2);
    }

    if (elementHorizontal === alignPoint.right) {
        left -= elementRect.width;
        horizontalMargin *= -1;
    }

    if (elementHorizontal === alignPoint.center || elementHorizontal === alignPoint.middle) {
        left -= Math.round(elementRect.width / 2);
        horizontalMargin *= -1;
    }

    return {
        top: top + verticalMargin,
        left: left + horizontalMargin
    };
};

function addScroll(rect, scroll) {
    return {
        top: rect.top + scroll.y,
        left: rect.left + scroll.x,
        height: rect.height,
        width: rect.width
    };
}

function applyLocationOffset(rect, location, isOffsetBody) {
    var top = rect.top;
    var left = rect.left;

    if (isOffsetBody) {
        left = 0;
        top = 0;
    }

    return {
        top: top + location.top,
        left: left + location.left,
        height: rect.height,
        width: rect.width
    };
}

function ownerDocument(element) {
    return element.ownerDocument || element.document || element;
}

var getWindow = function (element) { return ownerDocument(element).defaultView; };

var getDocument = function (element) { return ownerDocument(element).documentElement; };

var cachedWidth = 0;

function scrollbarWidth() {
    if (!cachedWidth && typeof document !== 'undefined') {
        var div = document.createElement("div");

        div.style.cssText = "overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block";
        div.innerHTML = "&nbsp;";
        document.body.appendChild(div);

        cachedWidth = div.offsetWidth - div.scrollWidth;

        document.body.removeChild(div);
    }

    return cachedWidth;
}

function windowViewport(element) {
    var win = getWindow(element);
    var document = getDocument(element);
    var result = {
        height: win.innerHeight,
        width: win.innerWidth
    };

    if (document.scrollHeight - document.clientHeight > 0) {
        result.width -= scrollbarWidth();
    }

    return result;
}

var boundingOffset = function (element) {
    if (!element.getBoundingClientRect) {
        var viewport = windowViewport(element);
        return {
            bottom: viewport.height,
            left: 0,
            right: viewport.width,
            top: 0
        };
    }

    var ref = element.getBoundingClientRect();
    var bottom = ref.bottom;
    var left = ref.left;
    var right = ref.right;
    var top = ref.top;

    return {
        bottom: bottom,
        left: left,
        right: right,
        top: top
    };
};

var offsetParent = function (element) {
    var offsetParent = element.offsetParent;

    while (offsetParent && offsetParent.style.position === "static") {
        offsetParent = offsetParent.offsetParent;
    }

    return offsetParent || getDocument(element);
};

var isBodyOffset = function (element) { return (offsetParent(element) === element.ownerDocument.body); };

var rectOfHiddenElement = function (element) {
    var ref = element.style;
    var display = ref.display;
    var left = ref.left;
    var position = ref.position;

    element.style.display = '';
    element.style.left = '-10000px';
    element.style.position = 'absolute';

    var rect = element.getBoundingClientRect();

    element.style.display = display;
    element.style.left = left;
    element.style.position = position;

    return rect;
};

var offset = function (element) {
    var rect = element.getBoundingClientRect();
    var left = rect.left;
    var top = rect.top;

    if (!rect.height && !rect.width) {
        rect = rectOfHiddenElement(element);
    }

    return {
        top: top,
        left: left,
        height: rect.height,
        width: rect.width
    };
};

var parents = function (element, until) {
    var result = [];
    var next = element.parentNode;

    while (next) {
        result.push(next);

        if (next === until) { break; }

        next = next.parentNode;
    }

    return result;
};

function scrollPosition(element) {
    var documentElement = getDocument(element);
    var win = getWindow(element);

    return {
        x: win.pageXOffset || documentElement.scrollLeft || 0,
        y: win.pageYOffset || documentElement.scrollTop || 0
    };
}

var elementScrollPosition = function (element) {
    if (element === (element.ownerDocument || {}).body) {
        return scrollPosition(element);
    }

    return {
        x: element.scrollLeft,
        y: element.scrollTop
    };
};

function parentScrollPosition(element) {
    var parent = offsetParent(element);

    return parent ? elementScrollPosition(parent) : { x: 0, y: 0 };
}

var position = function (element, parent) {
    var win = getWindow(element);
    var elementStyles = win.getComputedStyle(element);
    var offset$$1 = offset(element);
    var parentElement = parent || offsetParent(element);

    var ownerDocument = element.ownerDocument;
    var useRelative = parentElement !== ownerDocument.body && parentElement !== ownerDocument.documentElement;

    var parentOffset = { top: 0, left: 0 };

    if (elementStyles.position !== "fixed" && useRelative) {
        var parentStyles = win.getComputedStyle(parentElement);

        parentOffset = offset(parentElement);
        parentOffset.top += parseInt(parentStyles.borderTopWidth, 10);
        parentOffset.left += parseInt(parentStyles.borderLeftWidth, 10);
    }

    return {
        top: offset$$1.top - parentOffset.top,
        left: offset$$1.left - parentOffset.left,
        height: offset$$1.height,
        width: offset$$1.width
    };
};

var offsetParentScrollPosition = function (offsetParentElement, element) { return ( // eslint-disable-line no-arrow-condition
    offsetParentElement ? elementScrollPosition(offsetParentElement) : parentScrollPosition(element)
); };

var positionWithScroll = function (element, parent, scale) {
    if ( scale === void 0 ) scale = 1;

    var offsetParentElement = parent ? offsetParent(parent) : null;
    var ref = position(element, offsetParentElement);
    var top = ref.top;
    var left = ref.left;
    var height = ref.height;
    var width = ref.width;
    var ref$1 = offsetParentScrollPosition(offsetParentElement, element);
    var x = ref$1.x;
    var y = ref$1.y;
    var ownerDocument = element.ownerDocument;
    var positionScale = offsetParentElement === ownerDocument.body || offsetParentElement === ownerDocument.documentElement ? 1 : scale;

    return {
        top: top + y * positionScale,
        left: left + x * positionScale,
        height: height,
        width: width
    };
};

function removeScroll(rect, scroll) {
    return {
        top: rect.top - scroll.y,
        left: rect.left - scroll.x,
        height: rect.height,
        width: rect.width
    };
}

var collision = {
    "fit": "fit",
    "flip": "flip",
    "none": "none"
};

var fit = function(position, size, viewPortSize) {
    var output = 0;

    if (position + size > viewPortSize) {
        output = viewPortSize - (position + size);
    }

    if (position < 0) {
        output = -position;
    }

    return output;
};

var flip = function(ref) {
    var offset = ref.offset;
    var size = ref.size;
    var anchorSize = ref.anchorSize;
    var viewPortSize = ref.viewPortSize;
    var anchorAlignPoint = ref.anchorAlignPoint;
    var elementAlignPoint = ref.elementAlignPoint;
    var margin = ref.margin;

    var output = 0;

    var isPositionCentered = elementAlignPoint === alignPoint.center || elementAlignPoint === alignPoint.middle;
    var isOriginCentered = anchorAlignPoint === alignPoint.center || anchorAlignPoint === alignPoint.middle;
    var marginToAdd = 2 * margin; //2x to keep margin after flip

    if (elementAlignPoint !== anchorAlignPoint && !isPositionCentered && !isOriginCentered) {
        var isBeforeAnchor = anchorAlignPoint === alignPoint.top || anchorAlignPoint === alignPoint.left;
        if (offset < 0 && isBeforeAnchor) {
            output = size + anchorSize + marginToAdd;
            if (offset + output + size > viewPortSize) {
                output = 0; //skip flip
            }
        } else if (offset >= 0 && !isBeforeAnchor) {
            if (offset + size > viewPortSize) {
                output += -(anchorSize + size + marginToAdd);
            }

            if (offset + output < 0) {
                output = 0; //skip flip
            }
        }
    }

    return output;
};

var restrictToView = function (options) {
    var anchorRect = options.anchorRect;
    var anchorAlign = options.anchorAlign;
    var elementRect = options.elementRect;
    var elementAlign = options.elementAlign;
    var collisions = options.collisions;
    var viewPort = options.viewPort;
    var margin = options.margin; if ( margin === void 0 ) margin = {};
    var elementTop = elementRect.top;
    var elementLeft = elementRect.left;
    var elementHeight = elementRect.height;
    var elementWidth = elementRect.width;
    var viewPortHeight = viewPort.height;
    var viewPortWidth = viewPort.width;
    var horizontalMargin = margin.horizontal || 0;
    var verticalMargin = margin.vertical || 0;

    var left = 0;
    var top = 0;

    var isVerticalFit = collisions.vertical === collision.fit;
    var isHorizontalFit = collisions.horizontal === collision.fit;
    var isVerticalFlip = collisions.vertical === collision.flip;
    var isHorizontalFlip = collisions.horizontal === collision.flip;

    if (isVerticalFit) {
        top += fit(elementTop, elementHeight, viewPortHeight);
    }

    if (isHorizontalFit) {
        left += fit(elementLeft, elementWidth, viewPortWidth);
    }

    if (isVerticalFlip) {
        top += flip({
            margin: verticalMargin,
            offset: elementTop,
            size: elementHeight,
            anchorSize: anchorRect.height,
            viewPortSize: viewPortHeight,
            anchorAlignPoint: anchorAlign.vertical,
            elementAlignPoint: elementAlign.vertical
        });
    }

    if (isHorizontalFlip) {
        left += flip({
            margin: horizontalMargin,
            offset: elementLeft,
            size: elementWidth,
            anchorSize: anchorRect.width,
            viewPortSize: viewPortWidth,
            anchorAlignPoint: anchorAlign.horizontal,
            elementAlignPoint: elementAlign.horizontal
        });
    }

    var flippedVertical = isVerticalFlip && top !== 0;
    var flippedHorizontal = isHorizontalFlip && left !== 0;
    var fittedVertical = isVerticalFit && top !== 0;
    var fittedHorizontal = isHorizontalFit && left !== 0;

    return {
        flipped: flippedHorizontal || flippedVertical,
        fitted: fittedVertical || fittedHorizontal,
        flip: {
            horizontal: flippedHorizontal,
            vertical: flippedVertical
        },
        fit: {
            horizontal: fittedHorizontal,
            vertical: fittedVertical
        },
        offset: {
            left: left,
            top: top
        }
    };
};

var siblings = function (element) {
    var result = [];

    var sibling = element.parentNode.firstElementChild;

    while (sibling) {
        if (sibling !== element) {
            result.push(sibling);
        }

        sibling = sibling.nextElementSibling;
    }
    return result;
};

/* eslint-disable no-loop-func */

var siblingContainer = function (anchor, container) {
    var parentElements = parents(anchor);
    var containerElement = container;
    var siblingElements;
    var result;

    while (containerElement) {
        siblingElements = siblings(containerElement);

        result = parentElements.reduce(
            function (list, p) { return list.concat(siblingElements.filter(function (s) { return s === p; })); },
            []
        )[0];

        if (result) { break; }

        containerElement = containerElement.parentElement;
    }

    return result;
};

function zIndex(anchor, container) {
    if (!anchor || !container) { return null; }

    var sibling = siblingContainer(anchor, container);

    if (!sibling) { return null; }

    var result = [ anchor ].concat(parents(anchor, sibling)).reduce(
        function (index, p) {
            var zIndexStyle = p.style.zIndex || window.getComputedStyle(p).zIndex;
            var current = parseInt(zIndexStyle, 10);
            return current > index ? current : index;
        },
        0
    );

    return result ? (result + 1) : null;
}

var eitherRect = function (rect, offset) {
    if (!rect) {
        return { height: 0, left: offset.left, top: offset.top, width: 0 };
    }

    return rect;
};

var scaleRect = function (rect, scale) {
    if (!rect || scale === 1) {
        return rect;
    }

    return {
        height: rect.height / scale,
        left: rect.left / scale,
        top: rect.top / scale,
        width: rect.width / scale
    };
};

var removeStackingOffset = function (rect, stackingOffset) {
    if (!stackingOffset) { return rect; }

    var result = {
        height: rect.height,
        left: rect.left - stackingOffset.left,
        top: rect.top - stackingOffset.top,
        width: rect.width
    };

    return result;
};

function memoize(fun) {
    var result;
    var called = false;

    return function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        if (called) {
            return result;
        }

        result = fun.apply(void 0, args);
        called = true;
        return result;
    };
}

var hasRelativeStackingContext = memoize(function (elementSource) {
    if (!canUseDOM()) { return false; }

    // Component need to pass element to make sure document owner is correct.
    // This however might be performance hit if checked for example on each drag event.
    var currentDocument = elementSource ? elementSource.ownerDocument : document;

    if (!currentDocument || !currentDocument.body) { return false; }

    var top = 10;
    var parent = currentDocument.createElement("div");
    parent.style.transform = "matrix(10, 0, 0, 10, 0, 0)";
    parent.innerHTML = "<div style=\"position: fixed; top: " + top + "px;\">child</div>";

    currentDocument.body.appendChild(parent);

    var isDifferent = parent.children[0].getBoundingClientRect().top !== top;

    currentDocument.body.removeChild(parent);

    return isDifferent;
});

var canUseDOM = function () { return Boolean(
    // from fbjs
    typeof window !== 'undefined' &&
    window.document &&
    window.document.createElement
); };

var utils = {
    eitherRect: eitherRect,
    scaleRect: scaleRect,
    removeStackingOffset: removeStackingOffset,
    hasRelativeStackingContext: hasRelativeStackingContext,
    canUseDOM: canUseDOM
};

/* eslint-disable arrow-body-style */
var STYLES = [
    'font-size',
    'font-family',
    'font-stretch',
    'font-style',
    'font-weight',
    'line-height'
];

var addOffset = function (current, addition) {
    return {
        left: current.left + addition.left,
        top: current.top + addition.top
    };
};

var getWindow$1 = function () {
    return utils.canUseDOM() ? window : null;
};

var getFontStyles = function (el) {
    var window = getWindow$1();

    if (!window || !el) { return []; }

    var computedStyles = window.getComputedStyle(el);

    return STYLES.map(function (font) { return ({ key: font, value: computedStyles[font] }); });
};

var hasOffsetParent = function (el) {
    if (!el) { return false; }

    return Boolean(el.offsetParent);
};

var offset$1 = function (el) {
    if (!el) { return null; }

    return offset(el);
};

var offsetAtPoint = function (element, currentLocation) {
    if (!element) { return null; }

    var ref = element.style;
    var left = ref.left;
    var top = ref.top;
    var transition = ref.transition;

    element.style.transition = 'none';
    element.style.left = (currentLocation.left) + "px";
    element.style.top = (currentLocation.top) + "px";

    var currentOffset = offset(element);

    element.style.left = left;
    element.style.top = top;

    // prevents elements with transition to be animated because of the change
    // tslint:disable-next-line:no-unused-expression
    element.offsetHeight;

    element.style.transition = transition;

    return currentOffset;
};

var position$2 = function (element, popupElement, scale) {
    if (!element || !popupElement) { return null; }

    var currentScale = scale || 1;

    return positionWithScroll(element, popupElement, currentScale);
};

var OVERFLOW_REGEXP = /auto|scroll/;

var overflowElementStyle = function (element) {
    return ("" + (element.style.overflow) + (element.style.overflowX) + (element.style.overflowY));
};

var overflowComputedStyle = function (element) {
    var styles = window.getComputedStyle(element);
    return ("" + (styles.overflow) + (styles.overflowX) + (styles.overflowY));
};

var overflowStyle = function (element) {
    return overflowElementStyle(element) || overflowComputedStyle(element);
};

var scrollableParents = function (element) {
    var parentElements = [];

    if (!utils.canUseDOM()) { return parentElements; }

    var parent = element.parentElement;

    while (parent) {
        if (OVERFLOW_REGEXP.test(overflowStyle(parent)) || parent.hasAttribute('data-scrollable')) {
            parentElements.push(parent);
        }

        parent = parent.parentElement;
    }

    parentElements.push(window);

    return parentElements;
};

var getRelativeContextElement = function (el) {
    if (!el || !utils.hasRelativeStackingContext()) { return null; }

    var parent = el.parentElement;

    while (parent) {
        if (window.getComputedStyle(parent).transform !== 'none') {
            return parent;
        }
        parent = parent.parentElement;
    }

    return null;
};

var stackingElementOffset = function (el) {
    var relativeContextElement = getRelativeContextElement(el);

    if (!relativeContextElement) { return null; }

    return offset(relativeContextElement);
};

var stackingElementScroll = function (el) {
    var relativeContextElement = getRelativeContextElement(el);

    if (!relativeContextElement) { return { x: 0, y: 0 }; }

    return {
        x: relativeContextElement.scrollLeft,
        y: relativeContextElement.scrollTop
    };
};

var stackingElementViewPort = function (el) {
    var relativeContextElement = getRelativeContextElement(el);

    if (!relativeContextElement) { return null; }

    return {
        height: relativeContextElement.scrollHeight,
        width: relativeContextElement.scrollWidth
    };
};

var useRelativePosition = function (el) {
    return Boolean(getRelativeContextElement(el));
};

var zoomLevel = function () {
    if (!utils.canUseDOM()) { return 1; }

    return parseFloat((document.documentElement.clientWidth / window.innerWidth).toFixed(2)) || 1;
};

var isZoomed = function () {
    return zoomLevel() > 1;
};

var zIndex$1 = function (anchor, container) {
    if (!anchor || !utils.canUseDOM()) { return null; }

    var sibling = siblingContainer(anchor, container);

    if (!sibling) { return null; }

    var result = [ anchor ].concat(parents(anchor, sibling)).reduce(
        function (index, p) {
            var zIndexStyle = p.style.zIndex || window.getComputedStyle(p).zIndex;
            var current = parseInt(zIndexStyle, 10);
            return current > index ? current : index;
        },
        0
    );

    return result ? (result + 1) : null;
};

var domUtils = {
    addOffset: addOffset,
    addScroll: addScroll,
    align: align,
    boundingOffset: boundingOffset,
    getFontStyles: getFontStyles,
    getWindow: getWindow$1,
    hasOffsetParent: hasOffsetParent,
    offset: offset$1,
    offsetAtPoint: offsetAtPoint,
    position: position$2,
    removeScroll: removeScroll,
    restrictToView: restrictToView,
    scrollPosition: scrollPosition,
    scrollableParents: scrollableParents,
    getRelativeContextElement: getRelativeContextElement,
    stackingElementOffset: stackingElementOffset,
    stackingElementScroll: stackingElementScroll,
    stackingElementViewPort: stackingElementViewPort,
    useRelativePosition: useRelativePosition,
    windowViewPort: windowViewport,
    zoomLevel: zoomLevel,
    isZoomed: isZoomed,
    zIndex: zIndex$1
};

/* eslint-disable arrow-body-style */

var absoluteRect = function (anchor, element, offset, scale) {
    var scrollPos = elementScrollPosition$1(anchor, element);
    var rect = utils.eitherRect(domUtils.offset(anchor), offset);
    var stackScale = 2 * scale;

    var stackScroll = domUtils.stackingElementScroll(element);
    if (scale !== 1 && stackScroll) {
        stackScroll.x /= stackScale;
        stackScroll.y /= stackScale;
    }

    var stackOffset = domUtils.stackingElementOffset(element);
    if (scale !== 1 && stackOffset) {
        stackOffset.left /= stackScale;
        stackOffset.top /= stackScale;
    }

    return domUtils.removeScroll(
        domUtils.addScroll(
            utils.removeStackingOffset(
                utils.scaleRect(rect, scale),
                stackOffset
            ),
            stackScroll
        ),
        scrollPos
    );
};

var relativeRect = function (anchor, element, offset, scale) {
    var rect = utils.eitherRect(domUtils.position(anchor, element, scale), offset);
    return utils.scaleRect(rect, scale);
};

var elementScrollPosition$1 = function (anchor, element) {
    return anchor ? { x: 0, y: 0 } : domUtils.scrollPosition(element);
};

var alignElement = function (settings) {
    var anchor = settings.anchor;
    var element = settings.element;
    var anchorAlign = settings.anchorAlign;
    var elementAlign = settings.elementAlign;
    var margin = settings.margin;
    var offset = settings.offset;
    var positionMode = settings.positionMode;
    var scale = settings.scale;

    var currentScale = scale || 1;
    var fixedMode = positionMode === 'fixed' || !domUtils.hasOffsetParent(element);
    var anchorRect = fixedMode ? absoluteRect(anchor, element, offset, currentScale) : relativeRect(anchor, element, offset, currentScale);
    var elementRect = utils.scaleRect(domUtils.offset(element), currentScale);

    var result = domUtils.align({
        anchorAlign: anchorAlign,
        anchorRect: anchorRect,
        elementAlign: elementAlign,
        elementRect: elementRect,
        margin: margin
    });

    return result;
};

var positionElement = function (settings) {
    var anchor = settings.anchor;
    var currentLocation = settings.currentLocation;
    var element = settings.element;
    var anchorAlign = settings.anchorAlign;
    var elementAlign = settings.elementAlign;
    var collisions = settings.collisions;
    var margin = settings.margin;
    var scale = settings.scale;

    var currentScale = scale || 1;
    var elementOffset = domUtils.offsetAtPoint(element, currentLocation);
    var elementRect = utils.scaleRect(elementOffset, currentScale);
    var anchorOffset = utils.scaleRect(domUtils.offset(anchor), currentScale);
    var anchorRect = utils.eitherRect(anchorOffset, currentLocation);

    var viewPort = settings.viewPort || domUtils.windowViewPort(element);
    viewPort.width = viewPort.width / currentScale;
    viewPort.height = viewPort.height / currentScale;

    var result = domUtils.restrictToView({
        anchorAlign: anchorAlign,
        anchorRect: anchorRect,
        collisions: collisions,
        elementAlign: elementAlign,
        elementRect: elementRect,
        margin: margin,
        viewPort: viewPort
    });

    var offset = domUtils.addOffset(currentLocation, result.offset);

    return {
        flip: result.flip,
        flipped: result.flipped,
        offset: offset
    };
};

exports.align = align;
exports.addScroll = addScroll;
exports.applyLocationOffset = applyLocationOffset;
exports.boundingOffset = boundingOffset;
exports.isBodyOffset = isBodyOffset;
exports.offsetParent = offsetParent;
exports.offset = offset;
exports.parents = parents;
exports.parentScrollPosition = parentScrollPosition;
exports.position = position;
exports.positionWithScroll = positionWithScroll;
exports.removeScroll = removeScroll;
exports.restrictToView = restrictToView;
exports.scrollPosition = scrollPosition;
exports.siblingContainer = siblingContainer;
exports.siblings = siblings;
exports.zIndex = zIndex;
exports.alignElement = alignElement;
exports.domUtils = domUtils;
exports.utils = utils;
exports.positionElement = positionElement;
exports.getDocumentElement = getDocument;
exports.getWindow = getWindow;
exports.getWindowViewPort = windowViewport;
exports.AlignPoint = alignPoint;
exports.Collision = collision;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9hbGlnbi1wb2ludC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9hbGlnbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9hZGQtc2Nyb2xsLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL2FwcGx5LWxvY2F0aW9uLW9mZnNldC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9vd25lci1kb2N1bWVudC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy93aW5kb3cuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvZG9jdW1lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvc2Nyb2xsYmFyLXdpZHRoLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL3dpbmRvdy12aWV3cG9ydC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9ib3VuZGluZy1vZmZzZXQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvb2Zmc2V0LXBhcmVudC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9pcy1ib2R5LW9mZnNldC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9vZmZzZXQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvcGFyZW50cy5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9zY3JvbGwtcG9zaXRpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvZWxlbWVudC1zY3JvbGwtcG9zaXRpb24uanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvcGFyZW50LXNjcm9sbC1wb3NpdGlvbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9wb3NpdGlvbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9vZmZzZXQtcGFyZW50LXNjcm9sbC1wb3NpdGlvbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9wb3NpdGlvbi13aXRoLXNjcm9sbC5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9yZW1vdmUtc2Nyb2xsLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL2NvbGxpc2lvbi5qcyIsIi9ob21lL3VidW50dS9hY3Rpb25zLXJ1bm5lci9fd29yay9rZW5kby1wb3B1cC1jb21tb24va2VuZG8tcG9wdXAtY29tbW9uL3NyYy9yZXN0cmljdC10by12aWV3LmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL3NpYmxpbmdzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL3NpYmxpbmctY29udGFpbmVyLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL3otaW5kZXguanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvdXRpbHMuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvZG9tLXV0aWxzLmpzIiwiL2hvbWUvdWJ1bnR1L2FjdGlvbnMtcnVubmVyL193b3JrL2tlbmRvLXBvcHVwLWNvbW1vbi9rZW5kby1wb3B1cC1jb21tb24vc3JjL2FsaWduLWVsZW1lbnQuanMiLCIvaG9tZS91YnVudHUvYWN0aW9ucy1ydW5uZXIvX3dvcmsva2VuZG8tcG9wdXAtY29tbW9uL2tlbmRvLXBvcHVwLWNvbW1vbi9zcmMvcG9zaXRpb24tZWxlbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgXCJib3R0b21cIjogXCJib3R0b21cIixcbiAgICBcImNlbnRlclwiOiBcImNlbnRlclwiLFxuICAgIFwibWlkZGxlXCI6IFwibWlkZGxlXCIsXG4gICAgXCJsZWZ0XCI6IFwibGVmdFwiLFxuICAgIFwicmlnaHRcIjogXCJyaWdodFwiLFxuICAgIFwidG9wXCI6IFwidG9wXCJcbn07XG4iLCJpbXBvcnQgcG9pbnQgZnJvbSAnLi9hbGlnbi1wb2ludCc7XG5cbmNvbnN0IGFsaWduID0gKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7IGFuY2hvclJlY3QsIGFuY2hvckFsaWduLCBlbGVtZW50UmVjdCwgZWxlbWVudEFsaWduLCBtYXJnaW4gPSB7fSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBhbmNob3JIb3Jpem9udGFsID0gYW5jaG9yQWxpZ24uaG9yaXpvbnRhbDtcbiAgICBjb25zdCBhbmNob3JWZXJ0aWNhbCA9IGFuY2hvckFsaWduLnZlcnRpY2FsO1xuICAgIGNvbnN0IGVsZW1lbnRIb3Jpem9udGFsID0gZWxlbWVudEFsaWduLmhvcml6b250YWw7XG4gICAgY29uc3QgZWxlbWVudFZlcnRpY2FsID0gZWxlbWVudEFsaWduLnZlcnRpY2FsO1xuXG4gICAgbGV0IGhvcml6b250YWxNYXJnaW4gPSBtYXJnaW4uaG9yaXpvbnRhbCB8fCAwO1xuICAgIGxldCB2ZXJ0aWNhbE1hcmdpbiA9IG1hcmdpbi52ZXJ0aWNhbCB8fCAwO1xuXG4gICAgbGV0IHRvcCA9IGFuY2hvclJlY3QudG9wO1xuICAgIGxldCBsZWZ0ID0gYW5jaG9yUmVjdC5sZWZ0O1xuXG4gICAgaWYgKGFuY2hvclZlcnRpY2FsID09PSBwb2ludC5ib3R0b20pIHtcbiAgICAgICAgdG9wICs9IGFuY2hvclJlY3QuaGVpZ2h0O1xuICAgIH1cblxuICAgIGlmIChhbmNob3JWZXJ0aWNhbCA9PT0gcG9pbnQuY2VudGVyIHx8IGFuY2hvclZlcnRpY2FsID09PSBwb2ludC5taWRkbGUpIHtcbiAgICAgICAgdG9wICs9IE1hdGgucm91bmQoYW5jaG9yUmVjdC5oZWlnaHQgLyAyKTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudFZlcnRpY2FsID09PSBwb2ludC5ib3R0b20pIHtcbiAgICAgICAgdG9wIC09IGVsZW1lbnRSZWN0LmhlaWdodDtcbiAgICAgICAgdmVydGljYWxNYXJnaW4gKj0gLTE7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRWZXJ0aWNhbCA9PT0gcG9pbnQuY2VudGVyIHx8IGVsZW1lbnRWZXJ0aWNhbCA9PT0gcG9pbnQubWlkZGxlKSB7XG4gICAgICAgIHRvcCAtPSBNYXRoLnJvdW5kKGVsZW1lbnRSZWN0LmhlaWdodCAvIDIpO1xuICAgICAgICB2ZXJ0aWNhbE1hcmdpbiAqPSAtMTtcbiAgICB9XG5cbiAgICBpZiAoYW5jaG9ySG9yaXpvbnRhbCA9PT0gcG9pbnQucmlnaHQpIHtcbiAgICAgICAgbGVmdCArPSBhbmNob3JSZWN0LndpZHRoO1xuICAgIH1cblxuICAgIGlmIChhbmNob3JIb3Jpem9udGFsID09PSBwb2ludC5jZW50ZXIgfHwgYW5jaG9ySG9yaXpvbnRhbCA9PT0gcG9pbnQubWlkZGxlKSB7XG4gICAgICAgIGxlZnQgKz0gTWF0aC5yb3VuZChhbmNob3JSZWN0LndpZHRoIC8gMik7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRIb3Jpem9udGFsID09PSBwb2ludC5yaWdodCkge1xuICAgICAgICBsZWZ0IC09IGVsZW1lbnRSZWN0LndpZHRoO1xuICAgICAgICBob3Jpem9udGFsTWFyZ2luICo9IC0xO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50SG9yaXpvbnRhbCA9PT0gcG9pbnQuY2VudGVyIHx8IGVsZW1lbnRIb3Jpem9udGFsID09PSBwb2ludC5taWRkbGUpIHtcbiAgICAgICAgbGVmdCAtPSBNYXRoLnJvdW5kKGVsZW1lbnRSZWN0LndpZHRoIC8gMik7XG4gICAgICAgIGhvcml6b250YWxNYXJnaW4gKj0gLTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0b3AgKyB2ZXJ0aWNhbE1hcmdpbixcbiAgICAgICAgbGVmdDogbGVmdCArIGhvcml6b250YWxNYXJnaW5cbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYWxpZ247XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRTY3JvbGwocmVjdCwgc2Nyb2xsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiByZWN0LnRvcCArIHNjcm9sbC55LFxuICAgICAgICBsZWZ0OiByZWN0LmxlZnQgKyBzY3JvbGwueCxcbiAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcbiAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGhcbiAgICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXBwbHlMb2NhdGlvbk9mZnNldChyZWN0LCBsb2NhdGlvbiwgaXNPZmZzZXRCb2R5KSB7XG4gICAgbGV0IHsgdG9wLCBsZWZ0IH0gPSByZWN0O1xuXG4gICAgaWYgKGlzT2Zmc2V0Qm9keSkge1xuICAgICAgICBsZWZ0ID0gMDtcbiAgICAgICAgdG9wID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRvcCArIGxvY2F0aW9uLnRvcCxcbiAgICAgICAgbGVmdDogbGVmdCArIGxvY2F0aW9uLmxlZnQsXG4gICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXG4gICAgICAgIHdpZHRoOiByZWN0LndpZHRoXG4gICAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG93bmVyRG9jdW1lbnQoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZWxlbWVudC5kb2N1bWVudCB8fCBlbGVtZW50O1xufVxuIiwiaW1wb3J0IG93bmVyRG9jdW1lbnQgZnJvbSAnLi9vd25lci1kb2N1bWVudCc7XG5cbmNvbnN0IGdldFdpbmRvdyA9IChlbGVtZW50KSA9PiBvd25lckRvY3VtZW50KGVsZW1lbnQpLmRlZmF1bHRWaWV3O1xuXG5leHBvcnQgZGVmYXVsdCBnZXRXaW5kb3c7XG4iLCJpbXBvcnQgb3duZXJEb2N1bWVudCBmcm9tICcuL293bmVyLWRvY3VtZW50JztcblxuY29uc3QgZ2V0RG9jdW1lbnQgPSAoZWxlbWVudCkgPT4gb3duZXJEb2N1bWVudChlbGVtZW50KS5kb2N1bWVudEVsZW1lbnQ7XG5cbmV4cG9ydCBkZWZhdWx0IGdldERvY3VtZW50O1xuIiwibGV0IGNhY2hlZFdpZHRoID0gMDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2Nyb2xsYmFyV2lkdGgoKSB7XG4gICAgaWYgKCFjYWNoZWRXaWR0aCAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgZGl2LnN0eWxlLmNzc1RleHQgPSBcIm92ZXJmbG93OnNjcm9sbDtvdmVyZmxvdy14OmhpZGRlbjt6b29tOjE7Y2xlYXI6Ym90aDtkaXNwbGF5OmJsb2NrXCI7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBcIiZuYnNwO1wiO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG5cbiAgICAgICAgY2FjaGVkV2lkdGggPSBkaXYub2Zmc2V0V2lkdGggLSBkaXYuc2Nyb2xsV2lkdGg7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXYpO1xuICAgIH1cblxuICAgIHJldHVybiBjYWNoZWRXaWR0aDtcbn1cbiIsImltcG9ydCB3bmQgZnJvbSAnLi93aW5kb3cnO1xuaW1wb3J0IGdldERvY3VtZW50IGZyb20gJy4vZG9jdW1lbnQnO1xuaW1wb3J0IHNjcm9sbGJhcldpZHRoIGZyb20gJy4vc2Nyb2xsYmFyLXdpZHRoJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gd2luZG93Vmlld3BvcnQoZWxlbWVudCkge1xuICAgIGNvbnN0IHdpbiA9IHduZChlbGVtZW50KTtcbiAgICBjb25zdCBkb2N1bWVudCA9IGdldERvY3VtZW50KGVsZW1lbnQpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgaGVpZ2h0OiB3aW4uaW5uZXJIZWlnaHQsXG4gICAgICAgIHdpZHRoOiB3aW4uaW5uZXJXaWR0aFxuICAgIH07XG5cbiAgICBpZiAoZG9jdW1lbnQuc2Nyb2xsSGVpZ2h0IC0gZG9jdW1lbnQuY2xpZW50SGVpZ2h0ID4gMCkge1xuICAgICAgICByZXN1bHQud2lkdGggLT0gc2Nyb2xsYmFyV2lkdGgoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IHdpbmRvd1ZpZXdwb3J0IGZyb20gJy4vd2luZG93LXZpZXdwb3J0JztcblxuY29uc3QgYm91bmRpbmdPZmZzZXQgPSAoZWxlbWVudCkgPT4ge1xuICAgIGlmICghZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcbiAgICAgICAgY29uc3Qgdmlld3BvcnQgPSB3aW5kb3dWaWV3cG9ydChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvdHRvbTogdmlld3BvcnQuaGVpZ2h0LFxuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHJpZ2h0OiB2aWV3cG9ydC53aWR0aCxcbiAgICAgICAgICAgIHRvcDogMFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgYm90dG9tLCBsZWZ0LCByaWdodCwgdG9wIH0gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYm90dG9tLFxuICAgICAgICBsZWZ0LFxuICAgICAgICByaWdodCxcbiAgICAgICAgdG9wXG4gICAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGJvdW5kaW5nT2Zmc2V0O1xuIiwiaW1wb3J0IGRvY3VtZW50RWxlbWVudCBmcm9tICcuL2RvY3VtZW50JztcblxuY29uc3Qgb2Zmc2V0UGFyZW50ID0gKGVsZW1lbnQpID0+IHtcbiAgICBsZXQgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG5cbiAgICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudC5zdHlsZS5wb3NpdGlvbiA9PT0gXCJzdGF0aWNcIikge1xuICAgICAgICBvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuICAgIH1cblxuICAgIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgb2Zmc2V0UGFyZW50O1xuIiwiaW1wb3J0IG9mZnNldFBhcmVudCBmcm9tICcuL29mZnNldC1wYXJlbnQnO1xuXG5jb25zdCBpc0JvZHlPZmZzZXQgPSAoZWxlbWVudCkgPT4gKG9mZnNldFBhcmVudChlbGVtZW50KSA9PT0gZWxlbWVudC5vd25lckRvY3VtZW50LmJvZHkpO1xuXG5leHBvcnQgZGVmYXVsdCBpc0JvZHlPZmZzZXQ7XG4iLCJjb25zdCByZWN0T2ZIaWRkZW5FbGVtZW50ID0gKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB7IGRpc3BsYXksIGxlZnQsIHBvc2l0aW9uIH0gPSBlbGVtZW50LnN0eWxlO1xuXG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gJy0xMDAwMHB4JztcbiAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblxuICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbiAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0O1xuICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBwb3NpdGlvbjtcblxuICAgIHJldHVybiByZWN0O1xufTtcblxuY29uc3Qgb2Zmc2V0ID0gKGVsZW1lbnQpID0+IHtcbiAgICBsZXQgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHsgbGVmdCwgdG9wIH0gPSByZWN0O1xuXG4gICAgaWYgKCFyZWN0LmhlaWdodCAmJiAhcmVjdC53aWR0aCkge1xuICAgICAgICByZWN0ID0gcmVjdE9mSGlkZGVuRWxlbWVudChlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcbiAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGhcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgb2Zmc2V0O1xuIiwiZXhwb3J0IGRlZmF1bHQgKGVsZW1lbnQsIHVudGlsKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IG5leHQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cbiAgICB3aGlsZSAobmV4dCkge1xuICAgICAgICByZXN1bHQucHVzaChuZXh0KTtcblxuICAgICAgICBpZiAobmV4dCA9PT0gdW50aWwpIHsgYnJlYWs7IH1cblxuICAgICAgICBuZXh0ID0gbmV4dC5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiaW1wb3J0IGRvY0VsZW1lbnQgZnJvbSAnLi9kb2N1bWVudCc7XG5pbXBvcnQgd25kIGZyb20gJy4vd2luZG93JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2Nyb2xsUG9zaXRpb24oZWxlbWVudCkge1xuICAgIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGRvY0VsZW1lbnQoZWxlbWVudCk7XG4gICAgY29uc3Qgd2luID0gd25kKGVsZW1lbnQpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogd2luLnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IDAsXG4gICAgICAgIHk6IHdpbi5wYWdlWU9mZnNldCB8fCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IDBcbiAgICB9O1xufVxuIiwiaW1wb3J0IHNjcm9sbFBvc2l0aW9uIGZyb20gJy4vc2Nyb2xsLXBvc2l0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgKGVsZW1lbnQpID0+IHtcbiAgICBpZiAoZWxlbWVudCA9PT0gKGVsZW1lbnQub3duZXJEb2N1bWVudCB8fCB7fSkuYm9keSkge1xuICAgICAgICByZXR1cm4gc2Nyb2xsUG9zaXRpb24oZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogZWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgICB5OiBlbGVtZW50LnNjcm9sbFRvcFxuICAgIH07XG59O1xuIiwiaW1wb3J0IG9mZnNldFBhcmVudCBmcm9tICcuL29mZnNldC1wYXJlbnQnO1xuaW1wb3J0IGVsZW1lbnRTY3JvbGxQb3NpdGlvbiBmcm9tICcuL2VsZW1lbnQtc2Nyb2xsLXBvc2l0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyZW50U2Nyb2xsUG9zaXRpb24oZWxlbWVudCkge1xuICAgIGNvbnN0IHBhcmVudCA9IG9mZnNldFBhcmVudChlbGVtZW50KTtcblxuICAgIHJldHVybiBwYXJlbnQgPyBlbGVtZW50U2Nyb2xsUG9zaXRpb24ocGFyZW50KSA6IHsgeDogMCwgeTogMCB9O1xufVxuIiwiaW1wb3J0IG9mZnNldFBhcmVudCBmcm9tICcuL29mZnNldC1wYXJlbnQnO1xuaW1wb3J0IG9mZnNldFJlY3QgZnJvbSAnLi9vZmZzZXQnO1xuaW1wb3J0IHduZCBmcm9tICcuL3dpbmRvdyc7XG5cbmNvbnN0IHBvc2l0aW9uID0gKGVsZW1lbnQsIHBhcmVudCkgPT4ge1xuICAgIGNvbnN0IHdpbiA9IHduZChlbGVtZW50KTtcbiAgICBjb25zdCBlbGVtZW50U3R5bGVzID0gd2luLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gb2Zmc2V0UmVjdChlbGVtZW50KTtcbiAgICBjb25zdCBwYXJlbnRFbGVtZW50ID0gcGFyZW50IHx8IG9mZnNldFBhcmVudChlbGVtZW50KTtcblxuICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgdXNlUmVsYXRpdmUgPSBwYXJlbnRFbGVtZW50ICE9PSBvd25lckRvY3VtZW50LmJvZHkgJiYgcGFyZW50RWxlbWVudCAhPT0gb3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICBsZXQgcGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblxuICAgIGlmIChlbGVtZW50U3R5bGVzLnBvc2l0aW9uICE9PSBcImZpeGVkXCIgJiYgdXNlUmVsYXRpdmUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50U3R5bGVzID0gd2luLmdldENvbXB1dGVkU3R5bGUocGFyZW50RWxlbWVudCk7XG5cbiAgICAgICAgcGFyZW50T2Zmc2V0ID0gb2Zmc2V0UmVjdChwYXJlbnRFbGVtZW50KTtcbiAgICAgICAgcGFyZW50T2Zmc2V0LnRvcCArPSBwYXJzZUludChwYXJlbnRTdHlsZXMuYm9yZGVyVG9wV2lkdGgsIDEwKTtcbiAgICAgICAgcGFyZW50T2Zmc2V0LmxlZnQgKz0gcGFyc2VJbnQocGFyZW50U3R5bGVzLmJvcmRlckxlZnRXaWR0aCwgMTApO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AsXG4gICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQsXG4gICAgICAgIGhlaWdodDogb2Zmc2V0LmhlaWdodCxcbiAgICAgICAgd2lkdGg6IG9mZnNldC53aWR0aFxuICAgIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwb3NpdGlvbjtcbiIsImltcG9ydCBlbGVtZW50U2Nyb2xsUG9zaXRpb24gZnJvbSAnLi9lbGVtZW50LXNjcm9sbC1wb3NpdGlvbic7XG5pbXBvcnQgcGFyZW50U2Nyb2xsUG9zaXRpb24gZnJvbSAnLi9wYXJlbnQtc2Nyb2xsLXBvc2l0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgKG9mZnNldFBhcmVudEVsZW1lbnQsIGVsZW1lbnQpID0+ICggLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hcnJvdy1jb25kaXRpb25cbiAgICBvZmZzZXRQYXJlbnRFbGVtZW50ID8gZWxlbWVudFNjcm9sbFBvc2l0aW9uKG9mZnNldFBhcmVudEVsZW1lbnQpIDogcGFyZW50U2Nyb2xsUG9zaXRpb24oZWxlbWVudClcbik7XG4iLCJpbXBvcnQgb2Zmc2V0UGFyZW50U2Nyb2xsUG9zaXRpb24gZnJvbSAnLi9vZmZzZXQtcGFyZW50LXNjcm9sbC1wb3NpdGlvbic7XG5pbXBvcnQgb2Zmc2V0UGFyZW50IGZyb20gJy4vb2Zmc2V0LXBhcmVudCc7XG5pbXBvcnQgcG9zaXRpb24gZnJvbSAnLi9wb3NpdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IChlbGVtZW50LCBwYXJlbnQsIHNjYWxlID0gMSkgPT4ge1xuICAgIGNvbnN0IG9mZnNldFBhcmVudEVsZW1lbnQgPSBwYXJlbnQgPyBvZmZzZXRQYXJlbnQocGFyZW50KSA6IG51bGw7XG4gICAgY29uc3QgeyB0b3AsIGxlZnQsIGhlaWdodCwgd2lkdGggfSA9IHBvc2l0aW9uKGVsZW1lbnQsIG9mZnNldFBhcmVudEVsZW1lbnQpO1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gb2Zmc2V0UGFyZW50U2Nyb2xsUG9zaXRpb24ob2Zmc2V0UGFyZW50RWxlbWVudCwgZWxlbWVudCk7XG4gICAgY29uc3Qgb3duZXJEb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICBjb25zdCBwb3NpdGlvblNjYWxlID0gb2Zmc2V0UGFyZW50RWxlbWVudCA9PT0gb3duZXJEb2N1bWVudC5ib2R5IHx8IG9mZnNldFBhcmVudEVsZW1lbnQgPT09IG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gMSA6IHNjYWxlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0b3AgKyB5ICogcG9zaXRpb25TY2FsZSxcbiAgICAgICAgbGVmdDogbGVmdCArIHggKiBwb3NpdGlvblNjYWxlLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgfTtcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVTY3JvbGwocmVjdCwgc2Nyb2xsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiByZWN0LnRvcCAtIHNjcm9sbC55LFxuICAgICAgICBsZWZ0OiByZWN0LmxlZnQgLSBzY3JvbGwueCxcbiAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcbiAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGhcbiAgICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAgIFwiZml0XCI6IFwiZml0XCIsXG4gICAgXCJmbGlwXCI6IFwiZmxpcFwiLFxuICAgIFwibm9uZVwiOiBcIm5vbmVcIlxufTtcbiIsImltcG9ydCBhbGlnblBvaW50IGZyb20gJy4vYWxpZ24tcG9pbnQnO1xuaW1wb3J0IGNvbGxpc2lvbiBmcm9tICcuL2NvbGxpc2lvbic7XG5cbmNvbnN0IGZpdCA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBzaXplLCB2aWV3UG9ydFNpemUpIHtcbiAgICBsZXQgb3V0cHV0ID0gMDtcblxuICAgIGlmIChwb3NpdGlvbiArIHNpemUgPiB2aWV3UG9ydFNpemUpIHtcbiAgICAgICAgb3V0cHV0ID0gdmlld1BvcnRTaXplIC0gKHBvc2l0aW9uICsgc2l6ZSk7XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMCkge1xuICAgICAgICBvdXRwdXQgPSAtcG9zaXRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmNvbnN0IGZsaXAgPSBmdW5jdGlvbih7IG9mZnNldCwgc2l6ZSwgYW5jaG9yU2l6ZSwgdmlld1BvcnRTaXplLCBhbmNob3JBbGlnblBvaW50LCBlbGVtZW50QWxpZ25Qb2ludCwgbWFyZ2luIH0pIHtcbiAgICBsZXQgb3V0cHV0ID0gMDtcblxuICAgIGNvbnN0IGlzUG9zaXRpb25DZW50ZXJlZCA9IGVsZW1lbnRBbGlnblBvaW50ID09PSBhbGlnblBvaW50LmNlbnRlciB8fCBlbGVtZW50QWxpZ25Qb2ludCA9PT0gYWxpZ25Qb2ludC5taWRkbGU7XG4gICAgY29uc3QgaXNPcmlnaW5DZW50ZXJlZCA9IGFuY2hvckFsaWduUG9pbnQgPT09IGFsaWduUG9pbnQuY2VudGVyIHx8IGFuY2hvckFsaWduUG9pbnQgPT09IGFsaWduUG9pbnQubWlkZGxlO1xuICAgIGNvbnN0IG1hcmdpblRvQWRkID0gMiAqIG1hcmdpbjsgLy8yeCB0byBrZWVwIG1hcmdpbiBhZnRlciBmbGlwXG5cbiAgICBpZiAoZWxlbWVudEFsaWduUG9pbnQgIT09IGFuY2hvckFsaWduUG9pbnQgJiYgIWlzUG9zaXRpb25DZW50ZXJlZCAmJiAhaXNPcmlnaW5DZW50ZXJlZCkge1xuICAgICAgICBjb25zdCBpc0JlZm9yZUFuY2hvciA9IGFuY2hvckFsaWduUG9pbnQgPT09IGFsaWduUG9pbnQudG9wIHx8IGFuY2hvckFsaWduUG9pbnQgPT09IGFsaWduUG9pbnQubGVmdDtcbiAgICAgICAgaWYgKG9mZnNldCA8IDAgJiYgaXNCZWZvcmVBbmNob3IpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IHNpemUgKyBhbmNob3JTaXplICsgbWFyZ2luVG9BZGQ7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICsgb3V0cHV0ICsgc2l6ZSA+IHZpZXdQb3J0U2l6ZSkge1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IDA7IC8vc2tpcCBmbGlwXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob2Zmc2V0ID49IDAgJiYgIWlzQmVmb3JlQW5jaG9yKSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICsgc2l6ZSA+IHZpZXdQb3J0U2l6ZSkge1xuICAgICAgICAgICAgICAgIG91dHB1dCArPSAtKGFuY2hvclNpemUgKyBzaXplICsgbWFyZ2luVG9BZGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob2Zmc2V0ICsgb3V0cHV0IDwgMCkge1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IDA7IC8vc2tpcCBmbGlwXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufTtcblxuY29uc3QgcmVzdHJpY3RUb1ZpZXcgPSAob3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHsgYW5jaG9yUmVjdCwgYW5jaG9yQWxpZ24sIGVsZW1lbnRSZWN0LCBlbGVtZW50QWxpZ24sIGNvbGxpc2lvbnMsIHZpZXdQb3J0LCBtYXJnaW4gPSB7fSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB7IHRvcDogZWxlbWVudFRvcCwgbGVmdDogZWxlbWVudExlZnQsIGhlaWdodDogZWxlbWVudEhlaWdodCwgd2lkdGg6IGVsZW1lbnRXaWR0aCB9ID0gZWxlbWVudFJlY3Q7XG4gICAgY29uc3QgeyBoZWlnaHQ6IHZpZXdQb3J0SGVpZ2h0LCB3aWR0aDogdmlld1BvcnRXaWR0aCB9ID0gdmlld1BvcnQ7XG4gICAgY29uc3QgaG9yaXpvbnRhbE1hcmdpbiA9IG1hcmdpbi5ob3Jpem9udGFsIHx8IDA7XG4gICAgY29uc3QgdmVydGljYWxNYXJnaW4gPSBtYXJnaW4udmVydGljYWwgfHwgMDtcblxuICAgIGxldCBsZWZ0ID0gMDtcbiAgICBsZXQgdG9wID0gMDtcblxuICAgIGNvbnN0IGlzVmVydGljYWxGaXQgPSBjb2xsaXNpb25zLnZlcnRpY2FsID09PSBjb2xsaXNpb24uZml0O1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbEZpdCA9IGNvbGxpc2lvbnMuaG9yaXpvbnRhbCA9PT0gY29sbGlzaW9uLmZpdDtcbiAgICBjb25zdCBpc1ZlcnRpY2FsRmxpcCA9IGNvbGxpc2lvbnMudmVydGljYWwgPT09IGNvbGxpc2lvbi5mbGlwO1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbEZsaXAgPSBjb2xsaXNpb25zLmhvcml6b250YWwgPT09IGNvbGxpc2lvbi5mbGlwO1xuXG4gICAgaWYgKGlzVmVydGljYWxGaXQpIHtcbiAgICAgICAgdG9wICs9IGZpdChlbGVtZW50VG9wLCBlbGVtZW50SGVpZ2h0LCB2aWV3UG9ydEhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKGlzSG9yaXpvbnRhbEZpdCkge1xuICAgICAgICBsZWZ0ICs9IGZpdChlbGVtZW50TGVmdCwgZWxlbWVudFdpZHRoLCB2aWV3UG9ydFdpZHRoKTtcbiAgICB9XG5cbiAgICBpZiAoaXNWZXJ0aWNhbEZsaXApIHtcbiAgICAgICAgdG9wICs9IGZsaXAoe1xuICAgICAgICAgICAgbWFyZ2luOiB2ZXJ0aWNhbE1hcmdpbixcbiAgICAgICAgICAgIG9mZnNldDogZWxlbWVudFRvcCxcbiAgICAgICAgICAgIHNpemU6IGVsZW1lbnRIZWlnaHQsXG4gICAgICAgICAgICBhbmNob3JTaXplOiBhbmNob3JSZWN0LmhlaWdodCxcbiAgICAgICAgICAgIHZpZXdQb3J0U2l6ZTogdmlld1BvcnRIZWlnaHQsXG4gICAgICAgICAgICBhbmNob3JBbGlnblBvaW50OiBhbmNob3JBbGlnbi52ZXJ0aWNhbCxcbiAgICAgICAgICAgIGVsZW1lbnRBbGlnblBvaW50OiBlbGVtZW50QWxpZ24udmVydGljYWxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGlzSG9yaXpvbnRhbEZsaXApIHtcbiAgICAgICAgbGVmdCArPSBmbGlwKHtcbiAgICAgICAgICAgIG1hcmdpbjogaG9yaXpvbnRhbE1hcmdpbixcbiAgICAgICAgICAgIG9mZnNldDogZWxlbWVudExlZnQsXG4gICAgICAgICAgICBzaXplOiBlbGVtZW50V2lkdGgsXG4gICAgICAgICAgICBhbmNob3JTaXplOiBhbmNob3JSZWN0LndpZHRoLFxuICAgICAgICAgICAgdmlld1BvcnRTaXplOiB2aWV3UG9ydFdpZHRoLFxuICAgICAgICAgICAgYW5jaG9yQWxpZ25Qb2ludDogYW5jaG9yQWxpZ24uaG9yaXpvbnRhbCxcbiAgICAgICAgICAgIGVsZW1lbnRBbGlnblBvaW50OiBlbGVtZW50QWxpZ24uaG9yaXpvbnRhbFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBmbGlwcGVkVmVydGljYWwgPSBpc1ZlcnRpY2FsRmxpcCAmJiB0b3AgIT09IDA7XG4gICAgY29uc3QgZmxpcHBlZEhvcml6b250YWwgPSBpc0hvcml6b250YWxGbGlwICYmIGxlZnQgIT09IDA7XG4gICAgY29uc3QgZml0dGVkVmVydGljYWwgPSBpc1ZlcnRpY2FsRml0ICYmIHRvcCAhPT0gMDtcbiAgICBjb25zdCBmaXR0ZWRIb3Jpem9udGFsID0gaXNIb3Jpem9udGFsRml0ICYmIGxlZnQgIT09IDA7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBmbGlwcGVkOiBmbGlwcGVkSG9yaXpvbnRhbCB8fCBmbGlwcGVkVmVydGljYWwsXG4gICAgICAgIGZpdHRlZDogZml0dGVkVmVydGljYWwgfHwgZml0dGVkSG9yaXpvbnRhbCxcbiAgICAgICAgZmxpcDoge1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogZmxpcHBlZEhvcml6b250YWwsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogZmxpcHBlZFZlcnRpY2FsXG4gICAgICAgIH0sXG4gICAgICAgIGZpdDoge1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogZml0dGVkSG9yaXpvbnRhbCxcbiAgICAgICAgICAgIHZlcnRpY2FsOiBmaXR0ZWRWZXJ0aWNhbFxuICAgICAgICB9LFxuICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICB0b3A6IHRvcFxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHJlc3RyaWN0VG9WaWV3O1xuIiwiZXhwb3J0IGRlZmF1bHQgKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGxldCBzaWJsaW5nID0gZWxlbWVudC5wYXJlbnROb2RlLmZpcnN0RWxlbWVudENoaWxkO1xuXG4gICAgd2hpbGUgKHNpYmxpbmcpIHtcbiAgICAgICAgaWYgKHNpYmxpbmcgIT09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNpYmxpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2libGluZyA9IHNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5pbXBvcnQgcGFyZW50cyBmcm9tICcuL3BhcmVudHMnO1xuaW1wb3J0IHNpYmxpbmdzIGZyb20gJy4vc2libGluZ3MnO1xuXG5leHBvcnQgZGVmYXVsdCAoYW5jaG9yLCBjb250YWluZXIpID0+IHtcbiAgICBjb25zdCBwYXJlbnRFbGVtZW50cyA9IHBhcmVudHMoYW5jaG9yKTtcbiAgICBsZXQgY29udGFpbmVyRWxlbWVudCA9IGNvbnRhaW5lcjtcbiAgICBsZXQgc2libGluZ0VsZW1lbnRzO1xuICAgIGxldCByZXN1bHQ7XG5cbiAgICB3aGlsZSAoY29udGFpbmVyRWxlbWVudCkge1xuICAgICAgICBzaWJsaW5nRWxlbWVudHMgPSBzaWJsaW5ncyhjb250YWluZXJFbGVtZW50KTtcblxuICAgICAgICByZXN1bHQgPSBwYXJlbnRFbGVtZW50cy5yZWR1Y2UoXG4gICAgICAgICAgICAobGlzdCwgcCkgPT4gbGlzdC5jb25jYXQoc2libGluZ0VsZW1lbnRzLmZpbHRlcihzID0+IHMgPT09IHApKSxcbiAgICAgICAgICAgIFtdXG4gICAgICAgIClbMF07XG5cbiAgICAgICAgaWYgKHJlc3VsdCkgeyBicmVhazsgfVxuXG4gICAgICAgIGNvbnRhaW5lckVsZW1lbnQgPSBjb250YWluZXJFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbiIsImltcG9ydCBwYXJlbnRzIGZyb20gJy4vcGFyZW50cyc7XG5pbXBvcnQgc2libGluZ0NvbnRhaW5lciBmcm9tICcuL3NpYmxpbmctY29udGFpbmVyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gekluZGV4KGFuY2hvciwgY29udGFpbmVyKSB7XG4gICAgaWYgKCFhbmNob3IgfHwgIWNvbnRhaW5lcikgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgY29uc3Qgc2libGluZyA9IHNpYmxpbmdDb250YWluZXIoYW5jaG9yLCBjb250YWluZXIpO1xuXG4gICAgaWYgKCFzaWJsaW5nKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBbIGFuY2hvciBdLmNvbmNhdChwYXJlbnRzKGFuY2hvciwgc2libGluZykpLnJlZHVjZShcbiAgICAgICAgKGluZGV4LCBwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB6SW5kZXhTdHlsZSA9IHAuc3R5bGUuekluZGV4IHx8IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHApLnpJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBwYXJzZUludCh6SW5kZXhTdHlsZSwgMTApO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQgPiBpbmRleCA/IGN1cnJlbnQgOiBpbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgMFxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzdWx0ID8gKHJlc3VsdCArIDEpIDogbnVsbDtcbn0iLCJcbmNvbnN0IGVpdGhlclJlY3QgPSAocmVjdCwgb2Zmc2V0KSA9PiB7XG4gICAgaWYgKCFyZWN0KSB7XG4gICAgICAgIHJldHVybiB7IGhlaWdodDogMCwgbGVmdDogb2Zmc2V0LmxlZnQsIHRvcDogb2Zmc2V0LnRvcCwgd2lkdGg6IDAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVjdDtcbn07XG5cbmNvbnN0IHNjYWxlUmVjdCA9IChyZWN0LCBzY2FsZSkgPT4ge1xuICAgIGlmICghcmVjdCB8fCBzY2FsZSA9PT0gMSkge1xuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0IC8gc2NhbGUsXG4gICAgICAgIGxlZnQ6IHJlY3QubGVmdCAvIHNjYWxlLFxuICAgICAgICB0b3A6IHJlY3QudG9wIC8gc2NhbGUsXG4gICAgICAgIHdpZHRoOiByZWN0LndpZHRoIC8gc2NhbGVcbiAgICB9O1xufTtcblxuY29uc3QgcmVtb3ZlU3RhY2tpbmdPZmZzZXQgPSAocmVjdCwgc3RhY2tpbmdPZmZzZXQpID0+IHtcbiAgICBpZiAoIXN0YWNraW5nT2Zmc2V0KSB7IHJldHVybiByZWN0OyB9XG5cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXG4gICAgICAgIGxlZnQ6IHJlY3QubGVmdCAtIHN0YWNraW5nT2Zmc2V0LmxlZnQsXG4gICAgICAgIHRvcDogcmVjdC50b3AgLSBzdGFja2luZ09mZnNldC50b3AsXG4gICAgICAgIHdpZHRoOiByZWN0LndpZHRoXG4gICAgfTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5mdW5jdGlvbiBtZW1vaXplKGZ1bikge1xuICAgIGxldCByZXN1bHQ7XG4gICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuXG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmIChjYWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQgPSBmdW4oLi4uYXJncyk7XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cblxuY29uc3QgaGFzUmVsYXRpdmVTdGFja2luZ0NvbnRleHQgPSBtZW1vaXplKChlbGVtZW50U291cmNlKSA9PiB7XG4gICAgaWYgKCFjYW5Vc2VET00oKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgIC8vIENvbXBvbmVudCBuZWVkIHRvIHBhc3MgZWxlbWVudCB0byBtYWtlIHN1cmUgZG9jdW1lbnQgb3duZXIgaXMgY29ycmVjdC5cbiAgICAvLyBUaGlzIGhvd2V2ZXIgbWlnaHQgYmUgcGVyZm9ybWFuY2UgaGl0IGlmIGNoZWNrZWQgZm9yIGV4YW1wbGUgb24gZWFjaCBkcmFnIGV2ZW50LlxuICAgIGNvbnN0IGN1cnJlbnREb2N1bWVudCA9IGVsZW1lbnRTb3VyY2UgPyBlbGVtZW50U291cmNlLm93bmVyRG9jdW1lbnQgOiBkb2N1bWVudDtcblxuICAgIGlmICghY3VycmVudERvY3VtZW50IHx8ICFjdXJyZW50RG9jdW1lbnQuYm9keSkgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgIGNvbnN0IHRvcCA9IDEwO1xuICAgIGNvbnN0IHBhcmVudCA9IGN1cnJlbnREb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSBcIm1hdHJpeCgxMCwgMCwgMCwgMTAsIDAsIDApXCI7XG4gICAgcGFyZW50LmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPVwicG9zaXRpb246IGZpeGVkOyB0b3A6ICR7dG9wfXB4O1wiPmNoaWxkPC9kaXY+YDtcblxuICAgIGN1cnJlbnREb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBhcmVudCk7XG5cbiAgICBjb25zdCBpc0RpZmZlcmVudCA9IHBhcmVudC5jaGlsZHJlblswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgIT09IHRvcDtcblxuICAgIGN1cnJlbnREb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHBhcmVudCk7XG5cbiAgICByZXR1cm4gaXNEaWZmZXJlbnQ7XG59KTtcblxuY29uc3QgY2FuVXNlRE9NID0gKCkgPT4gQm9vbGVhbihcbiAgICAvLyBmcm9tIGZianNcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHdpbmRvdy5kb2N1bWVudCAmJlxuICAgIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50XG4pO1xuXG5jb25zdCB1dGlscyA9IHtcbiAgICBlaXRoZXJSZWN0LFxuICAgIHNjYWxlUmVjdCxcbiAgICByZW1vdmVTdGFja2luZ09mZnNldCxcbiAgICBoYXNSZWxhdGl2ZVN0YWNraW5nQ29udGV4dCxcbiAgICBjYW5Vc2VET01cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHV0aWxzOyIsIi8qIGVzbGludC1kaXNhYmxlIGFycm93LWJvZHktc3R5bGUgKi9cbmltcG9ydCBhZGRTY3JvbGwgZnJvbSBcIi4vYWRkLXNjcm9sbFwiO1xuaW1wb3J0IGFsaWduIGZyb20gJy4vYWxpZ24nO1xuaW1wb3J0IGJvdW5kaW5nT2Zmc2V0IGZyb20gJy4vYm91bmRpbmctb2Zmc2V0JztcbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCByZW1vdmVTY3JvbGwgZnJvbSAnLi9yZW1vdmUtc2Nyb2xsJztcbmltcG9ydCByZXN0cmljdFRvVmlldyBmcm9tICcuL3Jlc3RyaWN0LXRvLXZpZXcnO1xuaW1wb3J0IHNjcm9sbFBvc2l0aW9uIGZyb20gJy4vc2Nyb2xsLXBvc2l0aW9uJztcbmltcG9ydCBvZmZzZXRCYXNlIGZyb20gJy4vb2Zmc2V0JztcbmltcG9ydCBwb3NpdGlvbldpdGhTY3JvbGwgZnJvbSAnLi9wb3NpdGlvbi13aXRoLXNjcm9sbCc7XG5pbXBvcnQgd2luZG93Vmlld1BvcnQgZnJvbSAnLi93aW5kb3ctdmlld3BvcnQnO1xuaW1wb3J0IHNpYmxpbmdDb250YWluZXIgZnJvbSAnLi9zaWJsaW5nLWNvbnRhaW5lcic7XG5pbXBvcnQgcGFyZW50cyBmcm9tICcuL3BhcmVudHMnO1xuXG5jb25zdCBTVFlMRVMgPSBbXG4gICAgJ2ZvbnQtc2l6ZScsXG4gICAgJ2ZvbnQtZmFtaWx5JyxcbiAgICAnZm9udC1zdHJldGNoJyxcbiAgICAnZm9udC1zdHlsZScsXG4gICAgJ2ZvbnQtd2VpZ2h0JyxcbiAgICAnbGluZS1oZWlnaHQnXG5dO1xuXG5jb25zdCBhZGRPZmZzZXQgPSAoY3VycmVudCwgYWRkaXRpb24pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBjdXJyZW50LmxlZnQgKyBhZGRpdGlvbi5sZWZ0LFxuICAgICAgICB0b3A6IGN1cnJlbnQudG9wICsgYWRkaXRpb24udG9wXG4gICAgfTtcbn07XG5cbmNvbnN0IGdldFdpbmRvdyA9ICgpID0+IHtcbiAgICByZXR1cm4gdXRpbHMuY2FuVXNlRE9NKCkgPyB3aW5kb3cgOiBudWxsO1xufTtcblxuY29uc3QgZ2V0Rm9udFN0eWxlcyA9IChlbCkgPT4ge1xuICAgIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuXG4gICAgaWYgKCF3aW5kb3cgfHwgIWVsKSB7IHJldHVybiBbXTsgfVxuXG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG5cbiAgICByZXR1cm4gU1RZTEVTLm1hcChmb250ID0+ICh7IGtleTogZm9udCwgdmFsdWU6IGNvbXB1dGVkU3R5bGVzW2ZvbnRdIH0pKTtcbn07XG5cbmNvbnN0IGhhc09mZnNldFBhcmVudCA9IChlbCkgPT4ge1xuICAgIGlmICghZWwpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICByZXR1cm4gQm9vbGVhbihlbC5vZmZzZXRQYXJlbnQpO1xufTtcblxuY29uc3Qgb2Zmc2V0ID0gKGVsKSA9PiB7XG4gICAgaWYgKCFlbCkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgcmV0dXJuIG9mZnNldEJhc2UoZWwpO1xufTtcblxuY29uc3Qgb2Zmc2V0QXRQb2ludCA9IChlbGVtZW50LCBjdXJyZW50TG9jYXRpb24pID0+IHtcbiAgICBpZiAoIWVsZW1lbnQpIHsgcmV0dXJuIG51bGw7IH1cblxuICAgIGNvbnN0IHsgbGVmdCwgdG9wLCB0cmFuc2l0aW9uIH0gPSBlbGVtZW50LnN0eWxlO1xuXG4gICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IGAke2N1cnJlbnRMb2NhdGlvbi5sZWZ0fXB4YDtcbiAgICBlbGVtZW50LnN0eWxlLnRvcCA9IGAke2N1cnJlbnRMb2NhdGlvbi50b3B9cHhgO1xuXG4gICAgY29uc3QgY3VycmVudE9mZnNldCA9IG9mZnNldEJhc2UoZWxlbWVudCk7XG5cbiAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0O1xuICAgIGVsZW1lbnQuc3R5bGUudG9wID0gdG9wO1xuXG4gICAgLy8gcHJldmVudHMgZWxlbWVudHMgd2l0aCB0cmFuc2l0aW9uIHRvIGJlIGFuaW1hdGVkIGJlY2F1c2Ugb2YgdGhlIGNoYW5nZVxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby11bnVzZWQtZXhwcmVzc2lvblxuICAgIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuXG4gICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gdHJhbnNpdGlvbjtcblxuICAgIHJldHVybiBjdXJyZW50T2Zmc2V0O1xufTtcblxuY29uc3QgcG9zaXRpb24gPSAoZWxlbWVudCwgcG9wdXBFbGVtZW50LCBzY2FsZSkgPT4ge1xuICAgIGlmICghZWxlbWVudCB8fCAhcG9wdXBFbGVtZW50KSB7IHJldHVybiBudWxsOyB9XG5cbiAgICBjb25zdCBjdXJyZW50U2NhbGUgPSBzY2FsZSB8fCAxO1xuXG4gICAgcmV0dXJuIHBvc2l0aW9uV2l0aFNjcm9sbChlbGVtZW50LCBwb3B1cEVsZW1lbnQsIGN1cnJlbnRTY2FsZSk7XG59O1xuXG5jb25zdCBPVkVSRkxPV19SRUdFWFAgPSAvYXV0b3xzY3JvbGwvO1xuXG5jb25zdCBvdmVyZmxvd0VsZW1lbnRTdHlsZSA9IChlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIGAke2VsZW1lbnQuc3R5bGUub3ZlcmZsb3d9JHtlbGVtZW50LnN0eWxlLm92ZXJmbG93WH0ke2VsZW1lbnQuc3R5bGUub3ZlcmZsb3dZfWA7XG59O1xuXG5jb25zdCBvdmVyZmxvd0NvbXB1dGVkU3R5bGUgPSAoZWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIHJldHVybiBgJHtzdHlsZXMub3ZlcmZsb3d9JHtzdHlsZXMub3ZlcmZsb3dYfSR7c3R5bGVzLm92ZXJmbG93WX1gO1xufTtcblxuY29uc3Qgb3ZlcmZsb3dTdHlsZSA9IChlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIG92ZXJmbG93RWxlbWVudFN0eWxlKGVsZW1lbnQpIHx8IG92ZXJmbG93Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn07XG5cbmNvbnN0IHNjcm9sbGFibGVQYXJlbnRzID0gKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBwYXJlbnRFbGVtZW50cyA9IFtdO1xuXG4gICAgaWYgKCF1dGlscy5jYW5Vc2VET00oKSkgeyByZXR1cm4gcGFyZW50RWxlbWVudHM7IH1cblxuICAgIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG5cbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGlmIChPVkVSRkxPV19SRUdFWFAudGVzdChvdmVyZmxvd1N0eWxlKHBhcmVudCkpIHx8IHBhcmVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsYWJsZScpKSB7XG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50cy5wdXNoKHBhcmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudDtcbiAgICB9XG5cbiAgICBwYXJlbnRFbGVtZW50cy5wdXNoKHdpbmRvdyk7XG5cbiAgICByZXR1cm4gcGFyZW50RWxlbWVudHM7XG59O1xuXG5jb25zdCBnZXRSZWxhdGl2ZUNvbnRleHRFbGVtZW50ID0gKGVsKSA9PiB7XG4gICAgaWYgKCFlbCB8fCAhdXRpbHMuaGFzUmVsYXRpdmVTdGFja2luZ0NvbnRleHQoKSkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgbGV0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQ7XG5cbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnQpLnRyYW5zZm9ybSAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcblxuY29uc3Qgc3RhY2tpbmdFbGVtZW50T2Zmc2V0ID0gKGVsKSA9PiB7XG4gICAgY29uc3QgcmVsYXRpdmVDb250ZXh0RWxlbWVudCA9IGdldFJlbGF0aXZlQ29udGV4dEVsZW1lbnQoZWwpO1xuXG4gICAgaWYgKCFyZWxhdGl2ZUNvbnRleHRFbGVtZW50KSB7IHJldHVybiBudWxsOyB9XG5cbiAgICByZXR1cm4gb2Zmc2V0QmFzZShyZWxhdGl2ZUNvbnRleHRFbGVtZW50KTtcbn07XG5cbmNvbnN0IHN0YWNraW5nRWxlbWVudFNjcm9sbCA9IChlbCkgPT4ge1xuICAgIGNvbnN0IHJlbGF0aXZlQ29udGV4dEVsZW1lbnQgPSBnZXRSZWxhdGl2ZUNvbnRleHRFbGVtZW50KGVsKTtcblxuICAgIGlmICghcmVsYXRpdmVDb250ZXh0RWxlbWVudCkgeyByZXR1cm4geyB4OiAwLCB5OiAwIH07IH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHJlbGF0aXZlQ29udGV4dEVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgICAgeTogcmVsYXRpdmVDb250ZXh0RWxlbWVudC5zY3JvbGxUb3BcbiAgICB9O1xufTtcblxuY29uc3Qgc3RhY2tpbmdFbGVtZW50Vmlld1BvcnQgPSAoZWwpID0+IHtcbiAgICBjb25zdCByZWxhdGl2ZUNvbnRleHRFbGVtZW50ID0gZ2V0UmVsYXRpdmVDb250ZXh0RWxlbWVudChlbCk7XG5cbiAgICBpZiAoIXJlbGF0aXZlQ29udGV4dEVsZW1lbnQpIHsgcmV0dXJuIG51bGw7IH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogcmVsYXRpdmVDb250ZXh0RWxlbWVudC5zY3JvbGxIZWlnaHQsXG4gICAgICAgIHdpZHRoOiByZWxhdGl2ZUNvbnRleHRFbGVtZW50LnNjcm9sbFdpZHRoXG4gICAgfTtcbn07XG5cbmNvbnN0IHVzZVJlbGF0aXZlUG9zaXRpb24gPSAoZWwpID0+IHtcbiAgICByZXR1cm4gQm9vbGVhbihnZXRSZWxhdGl2ZUNvbnRleHRFbGVtZW50KGVsKSk7XG59O1xuXG5jb25zdCB6b29tTGV2ZWwgPSAoKSA9PiB7XG4gICAgaWYgKCF1dGlscy5jYW5Vc2VET00oKSkgeyByZXR1cm4gMTsgfVxuXG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCAvIHdpbmRvdy5pbm5lcldpZHRoKS50b0ZpeGVkKDIpKSB8fCAxO1xufTtcblxuY29uc3QgaXNab29tZWQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHpvb21MZXZlbCgpID4gMTtcbn07XG5cbmNvbnN0IHpJbmRleCA9IChhbmNob3IsIGNvbnRhaW5lcikgPT4ge1xuICAgIGlmICghYW5jaG9yIHx8ICF1dGlscy5jYW5Vc2VET00oKSkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgY29uc3Qgc2libGluZyA9IHNpYmxpbmdDb250YWluZXIoYW5jaG9yLCBjb250YWluZXIpO1xuXG4gICAgaWYgKCFzaWJsaW5nKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBbIGFuY2hvciBdLmNvbmNhdChwYXJlbnRzKGFuY2hvciwgc2libGluZykpLnJlZHVjZShcbiAgICAgICAgKGluZGV4LCBwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB6SW5kZXhTdHlsZSA9IHAuc3R5bGUuekluZGV4IHx8IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHApLnpJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBwYXJzZUludCh6SW5kZXhTdHlsZSwgMTApO1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQgPiBpbmRleCA/IGN1cnJlbnQgOiBpbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgMFxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzdWx0ID8gKHJlc3VsdCArIDEpIDogbnVsbDtcbn07XG5cbmNvbnN0IGRvbVV0aWxzID0ge1xuICAgIGFkZE9mZnNldCxcbiAgICBhZGRTY3JvbGwsXG4gICAgYWxpZ24sXG4gICAgYm91bmRpbmdPZmZzZXQsXG4gICAgZ2V0Rm9udFN0eWxlcyxcbiAgICBnZXRXaW5kb3csXG4gICAgaGFzT2Zmc2V0UGFyZW50LFxuICAgIG9mZnNldCxcbiAgICBvZmZzZXRBdFBvaW50LFxuICAgIHBvc2l0aW9uLFxuICAgIHJlbW92ZVNjcm9sbCxcbiAgICByZXN0cmljdFRvVmlldyxcbiAgICBzY3JvbGxQb3NpdGlvbixcbiAgICBzY3JvbGxhYmxlUGFyZW50cyxcbiAgICBnZXRSZWxhdGl2ZUNvbnRleHRFbGVtZW50LFxuICAgIHN0YWNraW5nRWxlbWVudE9mZnNldCxcbiAgICBzdGFja2luZ0VsZW1lbnRTY3JvbGwsXG4gICAgc3RhY2tpbmdFbGVtZW50Vmlld1BvcnQsXG4gICAgdXNlUmVsYXRpdmVQb3NpdGlvbixcbiAgICB3aW5kb3dWaWV3UG9ydCxcbiAgICB6b29tTGV2ZWwsXG4gICAgaXNab29tZWQsXG4gICAgekluZGV4XG59O1xuXG5leHBvcnQgZGVmYXVsdCBkb21VdGlscztcbiIsIi8qIGVzbGludC1kaXNhYmxlIGFycm93LWJvZHktc3R5bGUgKi9cblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IGRvbVV0aWxzIGZyb20gXCIuL2RvbS11dGlsc1wiO1xuXG5jb25zdCBhYnNvbHV0ZVJlY3QgPSAoYW5jaG9yLCBlbGVtZW50LCBvZmZzZXQsIHNjYWxlKSA9PiB7XG4gICAgY29uc3Qgc2Nyb2xsUG9zID0gZWxlbWVudFNjcm9sbFBvc2l0aW9uKGFuY2hvciwgZWxlbWVudCk7XG4gICAgY29uc3QgcmVjdCA9IHV0aWxzLmVpdGhlclJlY3QoZG9tVXRpbHMub2Zmc2V0KGFuY2hvciksIG9mZnNldCk7XG4gICAgY29uc3Qgc3RhY2tTY2FsZSA9IDIgKiBzY2FsZTtcblxuICAgIGNvbnN0IHN0YWNrU2Nyb2xsID0gZG9tVXRpbHMuc3RhY2tpbmdFbGVtZW50U2Nyb2xsKGVsZW1lbnQpO1xuICAgIGlmIChzY2FsZSAhPT0gMSAmJiBzdGFja1Njcm9sbCkge1xuICAgICAgICBzdGFja1Njcm9sbC54IC89IHN0YWNrU2NhbGU7XG4gICAgICAgIHN0YWNrU2Nyb2xsLnkgLz0gc3RhY2tTY2FsZTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGFja09mZnNldCA9IGRvbVV0aWxzLnN0YWNraW5nRWxlbWVudE9mZnNldChlbGVtZW50KTtcbiAgICBpZiAoc2NhbGUgIT09IDEgJiYgc3RhY2tPZmZzZXQpIHtcbiAgICAgICAgc3RhY2tPZmZzZXQubGVmdCAvPSBzdGFja1NjYWxlO1xuICAgICAgICBzdGFja09mZnNldC50b3AgLz0gc3RhY2tTY2FsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9tVXRpbHMucmVtb3ZlU2Nyb2xsKFxuICAgICAgICBkb21VdGlscy5hZGRTY3JvbGwoXG4gICAgICAgICAgICB1dGlscy5yZW1vdmVTdGFja2luZ09mZnNldChcbiAgICAgICAgICAgICAgICB1dGlscy5zY2FsZVJlY3QocmVjdCwgc2NhbGUpLFxuICAgICAgICAgICAgICAgIHN0YWNrT2Zmc2V0XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgc3RhY2tTY3JvbGxcbiAgICAgICAgKSxcbiAgICAgICAgc2Nyb2xsUG9zXG4gICAgKTtcbn07XG5cbmNvbnN0IHJlbGF0aXZlUmVjdCA9IChhbmNob3IsIGVsZW1lbnQsIG9mZnNldCwgc2NhbGUpID0+IHtcbiAgICBjb25zdCByZWN0ID0gdXRpbHMuZWl0aGVyUmVjdChkb21VdGlscy5wb3NpdGlvbihhbmNob3IsIGVsZW1lbnQsIHNjYWxlKSwgb2Zmc2V0KTtcbiAgICByZXR1cm4gdXRpbHMuc2NhbGVSZWN0KHJlY3QsIHNjYWxlKTtcbn07XG5cbmNvbnN0IGVsZW1lbnRTY3JvbGxQb3NpdGlvbiA9IChhbmNob3IsIGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gYW5jaG9yID8geyB4OiAwLCB5OiAwIH0gOiBkb21VdGlscy5zY3JvbGxQb3NpdGlvbihlbGVtZW50KTtcbn07XG5cbmNvbnN0IGFsaWduRWxlbWVudCA9IChzZXR0aW5ncykgPT4ge1xuICAgIGNvbnN0IHsgYW5jaG9yLCBlbGVtZW50LCBhbmNob3JBbGlnbiwgZWxlbWVudEFsaWduLCBtYXJnaW4sIG9mZnNldCwgcG9zaXRpb25Nb2RlLCBzY2FsZSB9ID0gc2V0dGluZ3M7XG5cbiAgICBjb25zdCBjdXJyZW50U2NhbGUgPSBzY2FsZSB8fCAxO1xuICAgIGNvbnN0IGZpeGVkTW9kZSA9IHBvc2l0aW9uTW9kZSA9PT0gJ2ZpeGVkJyB8fCAhZG9tVXRpbHMuaGFzT2Zmc2V0UGFyZW50KGVsZW1lbnQpO1xuICAgIGNvbnN0IGFuY2hvclJlY3QgPSBmaXhlZE1vZGUgPyBhYnNvbHV0ZVJlY3QoYW5jaG9yLCBlbGVtZW50LCBvZmZzZXQsIGN1cnJlbnRTY2FsZSkgOiByZWxhdGl2ZVJlY3QoYW5jaG9yLCBlbGVtZW50LCBvZmZzZXQsIGN1cnJlbnRTY2FsZSk7XG4gICAgY29uc3QgZWxlbWVudFJlY3QgPSB1dGlscy5zY2FsZVJlY3QoZG9tVXRpbHMub2Zmc2V0KGVsZW1lbnQpLCBjdXJyZW50U2NhbGUpO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gZG9tVXRpbHMuYWxpZ24oe1xuICAgICAgICBhbmNob3JBbGlnbjogYW5jaG9yQWxpZ24sXG4gICAgICAgIGFuY2hvclJlY3Q6IGFuY2hvclJlY3QsXG4gICAgICAgIGVsZW1lbnRBbGlnbjogZWxlbWVudEFsaWduLFxuICAgICAgICBlbGVtZW50UmVjdDogZWxlbWVudFJlY3QsXG4gICAgICAgIG1hcmdpblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFsaWduRWxlbWVudDtcbiIsImltcG9ydCB1dGlscyBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IGRvbVV0aWxzIGZyb20gXCIuL2RvbS11dGlsc1wiO1xuXG5jb25zdCBwb3NpdGlvbkVsZW1lbnQgPSAoc2V0dGluZ3MpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgY3VycmVudExvY2F0aW9uLFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBhbmNob3JBbGlnbixcbiAgICAgICAgZWxlbWVudEFsaWduLFxuICAgICAgICBjb2xsaXNpb25zLFxuICAgICAgICBtYXJnaW4sXG4gICAgICAgIHNjYWxlXG4gICAgfSA9IHNldHRpbmdzO1xuXG4gICAgY29uc3QgY3VycmVudFNjYWxlID0gc2NhbGUgfHwgMTtcbiAgICBjb25zdCBlbGVtZW50T2Zmc2V0ID0gZG9tVXRpbHMub2Zmc2V0QXRQb2ludChlbGVtZW50LCBjdXJyZW50TG9jYXRpb24pO1xuICAgIGNvbnN0IGVsZW1lbnRSZWN0ID0gdXRpbHMuc2NhbGVSZWN0KGVsZW1lbnRPZmZzZXQsIGN1cnJlbnRTY2FsZSk7XG4gICAgY29uc3QgYW5jaG9yT2Zmc2V0ID0gdXRpbHMuc2NhbGVSZWN0KGRvbVV0aWxzLm9mZnNldChhbmNob3IpLCBjdXJyZW50U2NhbGUpO1xuICAgIGNvbnN0IGFuY2hvclJlY3QgPSB1dGlscy5laXRoZXJSZWN0KGFuY2hvck9mZnNldCwgY3VycmVudExvY2F0aW9uKTtcblxuICAgIGNvbnN0IHZpZXdQb3J0ID0gc2V0dGluZ3Mudmlld1BvcnQgfHwgZG9tVXRpbHMud2luZG93Vmlld1BvcnQoZWxlbWVudCk7XG4gICAgdmlld1BvcnQud2lkdGggPSB2aWV3UG9ydC53aWR0aCAvIGN1cnJlbnRTY2FsZTtcbiAgICB2aWV3UG9ydC5oZWlnaHQgPSB2aWV3UG9ydC5oZWlnaHQgLyBjdXJyZW50U2NhbGU7XG5cbiAgICBjb25zdCByZXN1bHQgPSBkb21VdGlscy5yZXN0cmljdFRvVmlldyh7XG4gICAgICAgIGFuY2hvckFsaWduLFxuICAgICAgICBhbmNob3JSZWN0LFxuICAgICAgICBjb2xsaXNpb25zLFxuICAgICAgICBlbGVtZW50QWxpZ24sXG4gICAgICAgIGVsZW1lbnRSZWN0LFxuICAgICAgICBtYXJnaW4sXG4gICAgICAgIHZpZXdQb3J0XG4gICAgfSk7XG5cbiAgICBjb25zdCBvZmZzZXQgPSBkb21VdGlscy5hZGRPZmZzZXQoY3VycmVudExvY2F0aW9uLCByZXN1bHQub2Zmc2V0KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGZsaXA6IHJlc3VsdC5mbGlwLFxuICAgICAgICBmbGlwcGVkOiByZXN1bHQuZmxpcHBlZCxcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXRcbiAgICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcG9zaXRpb25FbGVtZW50OyJdLCJuYW1lcyI6WyJjb25zdCIsImxldCIsInBvaW50Iiwid25kIiwiZG9jdW1lbnRFbGVtZW50IiwiZG9jRWxlbWVudCIsIm9mZnNldCIsIm9mZnNldFJlY3QiLCJnZXRXaW5kb3ciLCJvZmZzZXRCYXNlIiwicG9zaXRpb24iLCJ6SW5kZXgiLCJ3aW5kb3dWaWV3UG9ydCIsImVsZW1lbnRTY3JvbGxQb3NpdGlvbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlCQUFlO0lBQ1gsUUFBUSxFQUFFLFFBQVE7SUFDbEIsUUFBUSxFQUFFLFFBQVE7SUFDbEIsUUFBUSxFQUFFLFFBQVE7SUFDbEIsTUFBTSxFQUFFLE1BQU07SUFDZCxPQUFPLEVBQUUsT0FBTztJQUNoQixLQUFLLEVBQUUsS0FBSztDQUNmLENBQUM7O0FDTEZBLElBQU0sS0FBSyxHQUFHLFVBQUMsT0FBTyxFQUFFO0lBQ3BCLElBQVEsVUFBVTtJQUFFLElBQUEsV0FBVztJQUFFLElBQUEsV0FBVztJQUFFLElBQUEsWUFB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