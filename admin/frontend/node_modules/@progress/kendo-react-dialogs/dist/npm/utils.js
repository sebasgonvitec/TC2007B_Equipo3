"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getMaxZIndex = void 0;
var constants_1 = require("./constants");
/** @hidden */
var getMaxZIndex = function (currentZIndex, currentDocument, currentWindowId) {
    var maxZindex = currentZIndex;
    if (currentDocument && currentDocument.defaultView) {
        var allWindows = currentDocument.querySelectorAll(constants_1.DIALOGS_SELECTOR);
        var zIndexChanged_1 = false;
        allWindows.forEach(function (KRwindow) {
            var computedStyle = currentDocument.defaultView.getComputedStyle(KRwindow, null);
            var dataId = KRwindow.getAttribute(constants_1.DATA_DIALOGS_ID);
            if (dataId !== currentWindowId && computedStyle.zIndex !== null) {
                var zIndexValue = parseInt(computedStyle.zIndex, 10);
                if (zIndexValue >= maxZindex) {
                    maxZindex = zIndexValue;
                    zIndexChanged_1 = true;
                }
            }
        });
        return zIndexChanged_1 ? (maxZindex + constants_1.ZINDEX_DIALOGS_STEP) : maxZindex;
    }
    return maxZindex;
};
exports.getMaxZIndex = getMaxZIndex;
