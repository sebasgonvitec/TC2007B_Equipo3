"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.cloneArray = exports.cloneValue = exports.cloneObject = exports.clone = exports.cloneDate = void 0;
var React = require("react");
/**
 * @hidden
 */
var cloneDate = function (date) { return date ? new Date(date.getTime()) : null; };
exports.cloneDate = cloneDate;
/**
 * @hidden
 */
function clone(obj) {
    var result = {};
    cloneObject(obj, result);
    return result;
}
exports.clone = clone;
/**
 * @hidden
 */
function cloneObject(obj, result) {
    for (var field in obj) {
        if (obj.hasOwnProperty(field)) {
            var value = obj[field];
            result[field] = cloneValue(value, result[field]);
        }
    }
}
exports.cloneObject = cloneObject;
/**
 * @hidden
 */
function cloneValue(value, nextValue) {
    if (Array.isArray(value)) {
        return cloneArray(value);
    }
    else if (value instanceof Date) {
        return (0, exports.cloneDate)(value);
    }
    else if (React.isValidElement(value)) {
        return React.cloneElement(value, value.props);
    }
    else if (value && typeof value === 'object') {
        var newNextValue = nextValue || {};
        cloneObject(value, newNextValue);
        return newNextValue;
    }
    else {
        return value;
    }
}
exports.cloneValue = cloneValue;
/**
 * @hidden
 */
function cloneArray(array) {
    return array.map(function (value) { return cloneValue(value, undefined); });
}
exports.cloneArray = cloneArray;
